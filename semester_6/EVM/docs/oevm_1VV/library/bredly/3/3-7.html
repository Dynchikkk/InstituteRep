<html><meta http-equiv="Content-Type" content="text/html; charset=windows-1251">



<body background="../images/bgrwhite.gif">
<LINK REL="stylesheet" TYPE="text/css" HREF="../default.css">
<head>
	<TITLE>Дэвид Дж. Брэдли</TITLE>
</head>



<h2>3.7. База + индекс + смещение</h2>

<p>
Программа может также комбинировать вычисляемый адрес базы с вычисляемым индексом. Как показано на Фиг.3.2, программа может использовать режим адресации с двумя разными адресными регистрами. Для формирования исполнительного адреса в команде могут сочетаться любой из регистров базы (BX и BP) с любым из индексных регистров (SI и DI). В программе может быть также указано смещение, добавляемое к сумме значений этих двух регистров. Этот способ адресации обладает максимальной гибкостью, так как позволяет вычислять вовремя выполнения программы и адрес базы, и индексное значение. Такая возможность не всегда требуется, но доступна в любой момент. Пример с классным журналом демонстрирует случай, когда программа может вычислять и адрес базы, и индекс вектора. Для того, чтобы определить отметку I-го ученика за J-ю контрольную, потребовалось бы установить адрес базы на J-й вектор и индексировать его по I-му элементу. На рис.3.3 приведена сводка восьми различных способов адресации, возможных в микропроцессоре 8088. В команде могут использоваться любые из четырех адресных регистров и смещение либо комбинация базисного
регистра и индексного вместе со смещением. Смысл колонки, обозначенной R/M, будет объяснен позже.
<p>
<table border=1 align="center">
  <tr><th>R/M</th><th>Адрес операнда</th></tr>
  <tr><td>000</td><td>[BX + SI + СМЕЩЕНИЕ]</td></tr>
  <tr><td>001</td><td>[BX + DI + СМЕЩЕНИЕ]</td></tr>
  <tr><td>010</td><td>[BP + SI + СМЕЩЕНИЕ]</td></tr>
  <tr><td>011</td><td>[BP + DI + СМЕЩЕНИЕ]</td></tr>
  <tr><td>100</td><td>[SI + СМЕЩЕНИЕ]</td></tr>
  <tr><td>101</td><td>[DI + СМЕЩЕНИЕ]</td></tr>
  <tr><td>110</td><td>[BP + СМЕЩЕНИЕ]</td></tr>
  <tr><td>111</td><td>[BX + СМЕЩЕНИЕ]</td></tr>
</table>
<p class="center">
Фиг. 3.3 Способы адресации 8088
<p>
В наборе команд 8088 поле смещения для адресации оптимизировано таким образом, чтобы минимизировать количество требуемых байт. Команда может не содержать поле смещения, когда смещение равно нулю. Если смещение находится в диапазоне от -127 до 127, то для него достаточно одного байта. Когда же для его обозначения требуется полное 16-битовое поле адреса, то поле смещения будет занимать два байта. Таким образом, поле смещения может по необходимости иметь длину 0, 1 или 2 байта. Когда оно имеет длину один байт, двоичное число перед форимроваием адереса получает распостранение знака. Это означает, что процессор перед выполнением
сложения помещает старший бит смещения в старшие 8 бит 16-битового значения. Это позволяет представлять отрицательные смещения в одном байте. Самое лучшее здесь то, что ассемблер сам определяет нужную длину и выбирает правильную и наиболее короткую команду для
выполнения этой работы. Но не смотря даже на все эти возможности адресации, набор команд 8088 допускает только по одному операнду памяти в одной команде. Двухоперандная команда ADD позволяет складывать либо регистр с ячейкой памяти, либо два регистра. В одной команде нельзя сложить две ячейки памяти. Это и означает, что команда содержит только один адрес памяти.

<p><div align="center"><a href="../index.html"><img src="../images/index.gif" border=0 alt=""></a></div><p></p>

</body>
</html>
