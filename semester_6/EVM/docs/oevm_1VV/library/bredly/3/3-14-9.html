<html><meta http-equiv="Content-Type" content="text/html; charset=windows-1251">



<body background="../images/bgrwhite.gif">
<LINK REL="stylesheet" TYPE="text/css" HREF="../default.css">
<head>
	<TITLE>Дэвид Дж. Брэдли</TITLE>
</head>



<h3>3.14.9. Флаг переполнения</h3>

<p>
Флаг переполнения OF - единственный флаг в старшем байте регистра флагов, который устанавливается обычными арифметическими операциями. Остальные флаги старшего
байта находятся под прямым управлением программиста. Флаг переполнения - еще один арифметический флаг, как флаг нуляи переноса. Флаг переполнения необходим для арифметики в
дополнительном коде в такой же степени, как флаг переноса для арифметики повышенной точности. 
<p>
В арифметике чисел, представленныхв дополнительном коде, старший бит используется для хранения знака числа. Сумматор микропроцессора работает как со знакопеременными числами, так и беззнаковыми. Обычно сложение чисел со знаком дает верный результат. Однако некоторые из чисел, представленных в дополнительном коде, при сложении дают неверный результат. Пример на Фиг. 3.14 - сложение двух 8-битовых чисел, представленных в коде двоичного дополнения, - иллюстрирует
этот случай. Если 72H и 53H - числа без знака, то результат их сложения верен. Если же это числа, представленныев дополнительном коде со знаком, то результат сложения 0C5H неверен, в коде двоичного
дополнения он равен -59.
<p>    
<table align="center">
  <tr>
    <th>Шестнадцатеричное</th>
    <th>Десятичный эквивалент</th>
  </tr>
  <tr>
    <td class="center">72H</td>
    <td class="center">114</td>
  </tr>
  <tr>
    <td class="center">+ 53H</td>
    <td class="center">+ 83</td>
  </tr>
  <tr>
    <td class="center">0C5H</td>
    <td class="center">197</td>
  </tr>
</table>
<p class="center">
Фиг. 3.14 8-битовое сложение с переполнением
<p>
сложение положительных чисел никогда не дает в результате отрицательное. Результат сложения оказался непредставиммым в диапазоне значений 8-битовых чисел в двоичном коде (от 127 до -128). Этот эффект принято называть переполнением,так как сумма вышла за пределы диапазона чисел, представимых в дополнительном коде.
<p> 
Важно заметить, что переполнение и перенос - два различных флага и имеют разное значение. На Фиг. 3.14 нет переноса, так как сложение без знака дает правильный результат, а есть переполнение: что сложение со знаком дает неверный результат. Возможен и случай одновременно переноса и переполнения, как показано на Фиг. 3.15. 
<p>    
<table align="center">
  <tr>
    <th class="high">Шестнадцатеричное</th>
    <th class="high" colspan="2">Десятичный эквивалент</th>
  </tr>
  <tr>
    <th>Hex</th>
    <th>Со знаком</th>
    <th>Без знака</th>
  </tr>
  <tr>
    <td class="center">8Eh</td>
    <td class="center">-114</td>
    <td class="center">142</td>
  </tr>
  <tr>
    <td class="center">0ADh</td>
    <td class="center">-83</td>
    <td class="center">173</td>
  </tr>
  <tr>
    <td class="center"><FONT color="Red"><b>1.3Bh</b></FONT></td>
    <td class="center"><FONT color="Red"><b>-197</b></FONT></td>
    <td class="center"><FONT color="Red"><b>315</b></FONT></td>
  </tr>
</table>
<p class="center">
Фиг. 3.15 8-битовое сложение с переносом и перепонением
<p>
Здесь показан пример сложения двух отрицательных чисел. Результат -197 выходит за пределы диапазона представимости в дополнительном коде. Это показано тем, что 8-битовый результат 3BH - положительное число. Кроме того в этом примере устанавливается флаг переноса, означающий, что сложение без знака дало число, большее максимального представимого. В случае 8-битовых чисел максимальное число равно 255.
<p> 
Вообще говоря, операция сложения в процессоре выполняется одинаково над числами и со
знаком, и без знака, а также с десятичнымичислами. Флаги переноса, дополнительного переноса и переполнения содержат информацию о выполненной операции, позволяя программе определить верный результат в используемой системе счисления. Флаг переполнения показывает, что результат арифметическойоперации выходит за пределы диапазона чисел, представленныхв дополнительном виде. Переполнение отличается от переноса, который показывает, что произошел перенос из старшего бита результата.

<p><div align="center"><a href="../index.html"><img src="../images/index.gif" border=0 alt=""></a></div><p></p>

</body>
</html>
