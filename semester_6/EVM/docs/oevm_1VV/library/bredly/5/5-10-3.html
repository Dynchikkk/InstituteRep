<html><meta http-equiv="Content-Type" content="text/html; charset=windows-1251">



<body background="../images/bgrwhite.gif">
<LINK REL="stylesheet" TYPE="text/css" HREF="../default.css">
<head>
  <META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=windows-1251">
 <TITLE>Дэвид Дж. Брэдли</TITLE>
</head>



<h3>5.10.3. Операция редактирования связей</h3>

<p>
Рассмотрим теперь операции, с помощью которых описанные выше программные модули были объединены в один исполняемый модуль. Ассемблирование программ выполняется с помощью команд, описанных в предыдущем разделе:
<dir>
<pre>
<b>
B:&gt;A:MAS      FIG5=13,,,;
B:&gt;A:MASM FIG5=14,,,;
</b>
</pre>
</dir>
<p>
При этом получается два объектных модуля FIG5=13.OBJ и FIG5=14.OBJ. Для объединения этих модулей вызывается программа LINK. На Фиг. 5.15 приведены операции, с которых начинается работа программы LINK.
<p>
В данном примере предполагается, что дискета с DOS установлена в дисководе A:, рабочая дискета - в дисководе B:, и дисковод B: выбирается по умолчанию. После запуска программа LINK запрашивает пользователя, для каких объектных файлов следует выполнить редактирование связей. Имена файлов вводятся без указания типа .OBJ. Если связываемых модулей больше одного, то их имена вводятся через разделитель &quot;+&quot;. В данном примере выполняется редактирование связей для модулей FIG5=13 и FIG5=14.
<dir>
<pre>
<b>
-------------------------------------------
A&gt;LINK

IBM Personal Computer Linker
Version 1.10 (c)Copyright IBM Corp 1982
Object Modules [.OBJ]: B:FIG5_13+B:FIG5_14
RunFile [A:FIG5_13.EXE]: B:
List File [NUL.MAP]: B:
Libraries {.LIB]:

A&gt;
-------------------------------------------
</b>
Фиг. 5.15 Выполнение редактирования связей
</pre>
</dir>
<p>
Модули связываются в том же порядке, в каком их имена передаются программе LINK. В данном случае
программа FIG5=13 предшествует программе FIG5=14. Перечисление модулей в обратном порядке привело бы к такому же обратному порядку их расположения в итоговом модуле. Как правило, порядок
формирования программы безразличен. Единственное исключение делается для входной точки программы.
<p>
Следующий запрос редактора связей относится к имени исполняемого, или рабочего, файла. По умолчанию ему присваивается имя первого из объектных модулей с расширением .EXE. Вводя другое имя, можно изменить имя файла, но не его расширение .EXE.
<p>
Далее запрашивается имя файла для хранения карты связей. Допускается любое имя, однако в режиме по умолчанию формирование карты не производится. В нашем примере ввод символа B: является указанием редактору связей записать карту связей на дисководе B:. Редактор связей выбрал для этого файла имя FIG5=13.MAP. Полученный в результате операции связывания файл FIG5=13.MAP приводится на Фиг. 5.16 и будет рассмотрен в следующем параграфе.
<p>
Последний запрос редактора связей касается библиотек программ, которые могут быть включены в полученный при связывании модуль. В случае некоторых языков высокого уровня на этом шаге может возникнуть необходимость указать имя библиотеки рабочих программ. Для программ на языке  ассемблера такой необходимости нет.

<p><div align="center"><a href="../index.html"><img src="../images/index.gif" border=0 alt=""></a></div><p></p>

</body>
</html>
