<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Перспективная проекция</title>
<meta http-equiv="Content-Type" content="text/html; charset=windows-1251">
<style type="text/css">
<!--
body {
	background-image: url(Fon.jpg);
}
.style1 {
	color: #009900;
	font-weight: bold;
	font-style: italic;
}
-->
</style>
</head>
<body>
<h2 align="center" class="style1">Перспективная проекция</h2>
<p align="justify">Будем считать, что при центральном проецировании картинная плоскость перпендикулярна оси <strong><em>z </em></strong> и совпадает с плоскостью <strong><em>z </em></strong><strong><em> = </em></strong><strong><em>d </em></strong>Проекция рассматривается в системе координат наблюдателя, которая является левосторонней. Система координат, в которой ось <strong><em>x </em></strong> направлена вправо, ось <strong><em>y </em></strong> - вверх, а ось <strong><em>z </em></strong> - внутрь экрана, согласуется с координатами экрана. </p>
<p align="justify">Для вычисления координат <strong><em>x<sub>p</sub></em></strong> и <strong><em>y<sub>p</sub></em></strong> проекции точки <strong><em>P </em></strong><strong><em>(</em></strong><strong><em>x</em></strong><strong><em>, </em></strong><strong><em>y</em></strong><strong><em>, </em></strong><strong><em>z</em></strong><strong><em>) </em></strong> рассмотрим подобные треугольники. Для данных треугольников верны соотношения: </p>
<p align="center"><em><strong>x<sub>p</sub> / d = x / z ,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;y<sub>p</sub> / d = y / z</strong></em>. &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(37) </p>
<p align="justify">Умножая обе стороны каждого отношения на <strong><em>d </em></strong>, получим </p>
<p align="center"><em><strong>x<sub>p</sub> = (d * x) / z = x / (z / d),&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; y<sub>p</sub> = (d * y) / z = y / (z / d).</strong></em> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(38) </p>
<p align="justify">Расстояние <strong><em>d </em></strong> является в данном случае масштабным множителем, примененным к координатам <strong><em><strong>x<sub>p</sub></strong></em></strong> и <strong><em><strong> y<sub>p</sub></strong></em></strong>. Фактором, приводящим к тому, что на центральной проекции более удаленные объекты выглядят мельче, чем ближние, является деление на <strong><em>z </em></strong>. Отметим, что допустимы все значения <strong><em>z </em></strong>, кроме <strong><em>z </em></strong><strong><em> = 0 </em></strong>. Точки могут располагаться как позади центра проекции на отрицательной части оси <strong><em>z </em></strong>, так и между центром проекции и проекционной плоскостью. Эти преобразования представляются матрицей 4<strong><em>&#215</em></strong>4: </p>
<p align="center"><strong><em>M<sub>центр</sub>  = <img src="im4%20(42).gif" width="109" height="80" align="middle"></em></strong>. &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(39) </p>
<p align="justify">Умножая точку <strong><em>P </em></strong><strong><em> = </em></strong>[ <strong><em>x </em></strong><strong><em></em></strong><strong><em>y </em></strong><strong><em></em></strong><strong><em>z </em></strong><strong><em> 1 </em></strong>] на матрицу <strong><em>M<sub>центр</sub></em></strong><em><strong> </strong></em>и поделив полученные координаты на <strong><em>z </em></strong><strong><em>/ </em></strong><strong><em>d </em></strong>, получим координаты центральной проекции точки <strong><em>P </em></strong> на проекционную плоскость: </p>
<p align="center">[ <strong><em>x<strong><sub>p</sub></strong> </em></strong><strong><em></em></strong><strong><em>y<strong><sub>p</sub></strong> </em></strong><strong><em></em></strong><strong><em>z<strong><sub>p</sub></strong> </em></strong><strong><em> 1 </em></strong>] <strong><em> = </em></strong><img src="im4%20(43).gif" width="124" height="62" align="middle">.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (40) </p>
<p align="justify">Этот результат является корректным, поскольку содержит преобразованную <strong><em>z </em></strong><strong><em>- </em></strong> координату <strong><em>d </em></strong>, соответствующую положению проекционной плоскости вдоль оси <strong><em>z </em></strong>. </p>
<p align="justify">Рассмотренное центральное проецирование не всегда может быть удобным. Одной из причин этого является то, что при проецировании теряется информация по координате <strong><em>z </em></strong>. </p>
<p align="justify">Начало системы координат [ <strong><em>0 0 1 0 </em></strong>] в бесконечности на оси <strong><em>z </em></strong> теперь преобразуется в точку с координатами ( <strong><em>0, 0, 1/ </em></strong><strong><em>d </em></strong><strong><em>, 1 </em></strong>) на оси <strong><em>z</em></strong><strong><em>* </em></strong>. Это означает, что положительная полуплоскость ( <strong><em>0 </em><img src="im4%20(00).gif" width="14" height="15" align="middle"> <em>z </em><img src="im4%20(00).gif" width="14" height="15" align="middle"><em> <img src="im4%20().gif" width="14" height="10" align="middle"></em></strong>) проецируется в ограниченную область ( <strong><em>0 </em></strong><strong><img src="im4%20(00).gif" width="14" height="15" align="middle"><em> </em></strong><strong><em>z* </em><img src="im4%20(00).gif" width="14" height="15" align="middle"><em> </em><em> 1/ d </em></strong>). Кроме того, линии, которые первоначально были параллельны оси <strong><em>z</em></strong>, теперь будут проходить через точку [ <strong><em>0 0 1/ </em></strong><strong><em>d </em></strong><strong><em> 1 </em></strong>]. Эта точка называется <strong>точкой схода перспективного преобразования</strong>. Если результаты перспективного преобразования проецируются на плоскость, получается перспективная проекция. Если плоскость <strong><em>z </em></strong><strong><em> = 0 </em></strong> является проекционной плоскостью, при этом центр проекции находится на той же самой оси, что и точка схода, на одинаковом расстоянии от противоположной стороны нулевой плоскости. Другими словами, если точка схода находится в точке <strong><em>z </em></strong><strong><em> = 1/ </em></strong><strong><em>d </em></strong> на оси <strong><em>z </em></strong>, то центр проекции находится в точке <strong><em>z </em></strong><strong><em>= -1/ </em></strong><strong><em>d </em></strong> на той же оси. </p>
<p align="justify">В перспективном проецировании преобразованное пространство не является евклидовым, поскольку ортогональность осей не сохраняется. Удобно считать, что в параллельные прямые пересекаются в бесконечности. В результате перспективного преобразования точки, расположенные в бесконечности, преобразуются в точки с конечными координатами. При достижении центром проекции бесконечности, получаются аксонометрические преобразования. </p>
<p align="justify">При получении перспективного изображения относительную линию горизонта обычно располагают на уровне глаз. Точки схода в этом случае располагаются на линии горизонта. В общем случае, различные параллельные линии будут иметь различные точки схода. </p>
<p align="justify">Плоские изображения, наклоненные относительно опорной плоскости, имеют точки схода, которые могут располагаться ниже или выше линии горизонта. Эти линии называют <strong>следом точек</strong>. </p>
<p align="justify">Для того чтобы получить перспективное изображение из произвольной точки наблюдения, вначале используют аффинные преобразования, позволяющие сформировать систему координат с осью <strong><em>z </em></strong> вдоль желаемой линии визирования. Затем применяется перспективное преобразование, а проекционное преобразование используется для того, чтобы спроецировать общее положение точек на плоскость наблюдения <strong><em>z </em></strong><strong><em> = 0 </em></strong> в текущей системе координат. На практике часто аффинные преобразования применяются также для того, чтобы изменить масштаб и направление проецирования. </p>
<p align="justify">Матрица перспективного проецирования, в которой два или три элемента четвертого столбца ненулевые, задает соответственно двух- и трехточечную проекцию (проекцию с двумя или тремя точками схода). Имеются в виду точки схода для пучков прямых, параллельных осям координат. Было бы ошибочным применять матрицу двух- и трех- точечной проекции в случае, если взаимное положение центра проекции и проекционной плоскости соответствует описанным в данном разделе. Если перед центральным проецированием выполнить последовательно один или два поворота и перенос объекта, то результирующая матрица, полученная в результате композиции аффинных преобразований и проецирования, будет соответствовать матрице двух или трех точечной проекции. </p>

</body>
</html>
