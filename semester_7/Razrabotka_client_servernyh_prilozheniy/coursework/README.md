# ๐ง SupplierโClient System (.NET 8)

## ๐ฏ **ะฆะตะปั ะฟัะพะตะบัะฐ**

ะกะพะทะดะฐัั **ะผะฝะพะณะพััะพะฒะฝะตะฒะพะต ะบะปะธะตะฝัโัะตัะฒะตัะฝะพะต ะฟัะธะปะพะถะตะฝะธะต** ะฝะฐ C# (.NET 8), ะผะพะดะตะปะธััััะตะต ะฒะทะฐะธะผะพะดะตะนััะฒะธะต ะบะปะธะตะฝัะพะฒ ะธ ะฟะพััะฐะฒัะธะบะพะฒ:
ะฟะตัะตะฟะธัะบะฐ, ัะตะนัะธะฝะณะพะฒะฐะฝะธะต, ะดะพะฑะฐะฒะปะตะฝะธะต ัะพะฒะฐัะพะฒ ะธ ัะพัะผะธัะพะฒะฐะฝะธะต ะบะพัะทะธะฝั ะฝะฐ ะพัะฝะพะฒะต **ะฟะตััะพะฝะฐะปัะฝัั ะพัะตะฝะพะบ** ะบะปะธะตะฝัะพะฒ.

ะััะธัะตะบัััะฐ ะผะฐะบัะธะผะฐะปัะฝะพ ะณะธะฑะบะฐั ะธ ะธะทะพะปะธัะพะฒะฐะฝะฝะฐั:

* ะดะฐะฝะฝัะต โ ัะตัะตะท ัะปะพะน ัะตะฟะพะทะธัะพัะธะตะฒ (SQLite);
* ัะตัะฒะตั โ ะฝะฐ `HttpListener`, ะฑะตะท ััะถัะปัั ััะตะนะผะฒะพัะบะพะฒ;
* ะบะปะธะตะฝั โ ะบะพะฝัะพะปัะฝัะน ั ะธะฝัะตัะฐะบัะธะฒะฝัะผ ะผะตะฝั.

---

## ๐งฉ **ะัะฝะพะฒะฝัะต ััะฐััะฝะธะบะธ**

### ๐ค ะะปะธะตะฝั (Client)

* ะะฒัะพัะธะทัะตััั ะฟะพ ะปะพะณะธะฝั/ะฟะฐัะพะปั.
* ะัะพัะผะฐััะธะฒะฐะตั ะฟะพััะฐะฒัะธะบะพะฒ, ะธั ัะพะฒะฐัั ะธ **ััะตะดะฝะธะต ัะตะนัะธะฝะณะธ**.
* ะะฑัะฐะตััั ั ะฟะพััะฐะฒัะธะบะฐะผะธ (ะฟะตัะตะฟะธัะบะฐ).
* ะกัะฐะฒะธั ะบะฐะถะดะพะผั ะฟะพััะฐะฒัะธะบั **ะฟะตััะพะฝะฐะปัะฝัะน ัะตะนัะธะฝะณ** (1โ10).
* ะคะพัะผะธััะตั ะบะพัะทะธะฝั ะฟะพ ะบะฐัะตะณะพัะธะธ ะดะตัะฐะปะตะน โ **ะฝะฐ ะพัะฝะพะฒะต ัะฒะพะธั ะพัะตะฝะพะบ**, ะฐ ะฝะต ะพะฑัะธั.

### ๐ญ ะะพััะฐะฒัะธะบ (Supplier)

* ะะฒัะพัะธะทัะตััั.
* ะะพะฑะฐะฒะปัะตั, ัะตะดะฐะบัะธััะตั ะธ ัะดะฐะปัะตั ัะพะฒะฐัั.
* ะะตะฝัะตั ะบะพะปะธัะตััะฒะพ ะธ ัะตะฝั.
* ะะตัะตะฟะธััะฒะฐะตััั ั ะบะปะธะตะฝัะฐะผะธ.
* ะัะพัะผะฐััะธะฒะฐะตั ััะตะดะฝะธะต ะธ ะธะฝะดะธะฒะธะดัะฐะปัะฝัะต ัะตะนัะธะฝะณะธ.

### ๐ ะกะตัะฒะตั

* ะะฑัะฐะฑะฐััะฒะฐะตั HTTP-ะทะฐะฟัะพัั (GET/POST).
* ะะฐะฑะพัะฐะตั ั ะฝะตัะบะพะปัะบะธะผะธ ะบะปะธะตะฝัะฐะผะธ ะพะดะฝะพะฒัะตะผะตะฝะฝะพ (ะฐัะธะฝััะพะฝะฝะพ).
* ะะตะปะตะณะธััะตั ะปะพะณะธะบั ะบะพะฝััะพะปะปะตัะฐะผ ะธ ัะตัะฒะธัะฐะผ.
* ะกะพััะฐะฝัะตั ะดะฐะฝะฝัะต ะฒ SQLite (ัะตัะตะท ัะปะพะน ัะตะฟะพะทะธัะพัะธะตะฒ).
* ะะตะฐะปะธะทัะตั ะฐะปะณะพัะธัะผ ัะฑะพัะบะธ ะบะพัะทะธะฝั ะฟะพ ะปะธัะฝัะผ ัะตะนัะธะฝะณะฐะผ ะบะปะธะตะฝัะฐ.

### ๐พ ะะฐะทะฐ ะดะฐะฝะฝัั (SQLite)

* ะฅัะฐะฝะธั ะฒัะต ัััะฝะพััะธ: ะบะปะธะตะฝัั, ะฟะพััะฐะฒัะธะบะธ, ัะพะฒะฐัั, ะบะฐัะตะณะพัะธะธ, ัะพะพะฑัะตะฝะธั, ัะตะนัะธะฝะณะธ, ะบะพัะทะธะฝั.
* ะะฝะธัะธะฐะปะธะทะธััะตััั ะฐะฒัะพะผะฐัะธัะตัะบะธ ะฟัะธ ััะฐััะต.
* ะะพัััะฟ ัะตัะตะท ะฐะฑัััะฐะบัะฝัะต ัะตะฟะพะทะธัะพัะธะธ (`IClientRepository`, `ISupplierRepository`, โฆ).
* ะกะปะพะธ ัะฐะทะดะตะปะตะฝั: **ะฐะฑัััะฐะบัะธะธ** ะธ **SQLite-ัะตะฐะปะธะทะฐัะธั**.

---

## ๐งฑ **ะกััะฝะพััะธ**

| ะกััะฝะพััั         | ะะฐะทะฝะฐัะตะฝะธะต                                        |
| ---------------- | ------------------------------------------------- |
| **Client**       | ะะพะบัะฟะฐัะตะปั ั ะปะพะณะธะฝะพะผ ะธ ะฟะฐัะพะปะตะผ                    |
| **Supplier**     | ะัะพะดะฐะฒะตั ั ะปะพะณะธะฝะพะผ ะธ ะฟะฐัะพะปะตะผ                      |
| **Part**         | ะขะพะฒะฐั (ะดะตัะฐะปั), ะฟัะธะฒัะทะฐะฝ ะบ ะฟะพััะฐะฒัะธะบั ะธ ะบะฐัะตะณะพัะธะธ |
| **PartCategory** | ะะฐัะตะณะพัะธั ะดะตัะฐะปะตะน (ัะธะปัััั, ัะฒะตัะธ ะธ ั. ะด.)        |
| **Message**      | ะกะพะพะฑัะตะฝะธะต ะผะตะถะดั ะบะปะธะตะฝัะพะผ ะธ ะฟะพััะฐะฒัะธะบะพะผ            |
| **Rating**       | ะัะตะฝะบะฐ, ะบะพัะพััั ะบะปะธะตะฝั ััะฐะฒะธั ะฟะพััะฐะฒัะธะบั          |
| **BasketItem**   | ะญะปะตะผะตะฝั ะบะพัะทะธะฝั (ะฟะพััะฐะฒัะธะบ, ัะพะฒะฐั, ะบะพะปะธัะตััะฒะพ)    |
| **Role**         | ะะพะปั ะฟะพะปัะทะพะฒะฐัะตะปั: `Client` ะธะปะธ `Supplier`        |

---

## ๐ฌ **ะคัะฝะบัะธะพะฝะฐะปัะฝะพััั**

### ะะปะธะตะฝั:

* ๐ ะัะพะด ะฟะพ ะปะพะณะธะฝั/ะฟะฐัะพะปั
* ๐ ะัะพัะผะพัั ะฟะพััะฐะฒัะธะบะพะฒ ะธ ะธั ััะตะดะฝะธั ัะตะนัะธะฝะณะพะฒ
* ๐ฆ ะัะพัะผะพัั ัะพะฒะฐัะพะฒ ะฟะพ ะบะฐัะตะณะพัะธัะผ
* ๐ฌ ะะตัะตะฟะธัะบะฐ ั ะฟะพััะฐะฒัะธะบะฐะผะธ
* โญ ะัััะฐะฒะปะตะฝะธะต ะฟะตััะพะฝะฐะปัะฝัั ัะตะนัะธะฝะณะพะฒ (1-10)
* ๐ ะกะฑะพัะบะฐ ะบะพัะทะธะฝั ะฟะพ ะบะฐัะตะณะพัะธะธ ะฝะฐ ะพัะฝะพะฒะต **ะปะธัะฝัั ะพัะตะฝะพะบ**
* ๐ ะัะพัะผะพัั ัะตะบััะตะน ะบะพัะทะธะฝั

### ะะพััะฐะฒัะธะบ:

* ๐ ะัะพะด
* ๐ฆ ะัะพัะผะพัั ัะฒะพะธั ัะพะฒะฐัะพะฒ
* โ ะะพะฑะฐะฒะปะตะฝะธะต ะฝะพะฒัั ัะพะฒะฐัะพะฒ
* โ๏ธ ะะฑะฝะพะฒะปะตะฝะธะต ัะตะฝ ะธ ะบะพะปะธัะตััะฒ ัะพะฒะฐัะพะฒ
* ๐ฌ ะะตัะตะฟะธัะบะฐ ั ะบะปะธะตะฝัะฐะผะธ
* โญ ะัะพัะผะพัั ััะตะดะฝะธั ะธ ะฟะตััะพะฝะฐะปัะฝัั ัะตะนัะธะฝะณะพะฒ

### ะกะตัะฒะตั:

* โ๏ธ ะัะธะฝััะพะฝะฝัะน `HttpListener`
* ๐ REST-ะฟะพะดะพะฑะฝัะต ัะฝะดะฟะพะธะฝัั
* ๐พ ะะตะฟะพะทะธัะพัะธะธ ะธ ะธะทะพะปััะธั ะดะฐะฝะฝัั
* ๐ง ะะปะณะพัะธัะผ ัะฑะพัะบะธ ะบะพัะทะธะฝั ะฟะพ ะฟะตััะพะฝะฐะปัะฝัะผ ัะตะนัะธะฝะณะฐะผ
* ๐งฉ ะะพะทะผะพะถะฝะพััั ะทะฐะผะตะฝั ะกะฃะะ ะฑะตะท ะธะทะผะตะฝะตะฝะธั ะพััะฐะปัะฝะพะณะพ ะบะพะดะฐ

---

## โญ **ะะธะทะฝะตั-ะปะพะณะธะบะฐ ัะตะนัะธะฝะณะพะฒ ะธ ะบะพัะทะธะฝั**

1. ะะปะธะตะฝั ััะฐะฒะธั ะบะฐะถะดะพะผั ะฟะพััะฐะฒัะธะบั **ัะฒะพั ะพัะตะฝะบั (1โ10)**.
   ะัะธ ะฟะพะฒัะพัะฝะพะน ะพัะตะฝะบะต ะพะฝะฐ ะพะฑะฝะพะฒะปัะตััั.

2. ะฃ ะฟะพััะฐะฒัะธะบะฐ ะตััั:

   * **ะกัะตะดะฝะธะน ัะตะนัะธะฝะณ** โ ััะตะดะฝะตะต ะทะฝะฐัะตะฝะธะต ะฒัะตั ะพัะตะฝะพะบ (ะธะฝัะพัะผะฐัะธะฒะฝะพ).
   * **ะะตััะพะฝะฐะปัะฝัะน ัะตะนัะธะฝะณ ะบะปะธะตะฝัะฐ** โ ะฒะปะธัะตั ะฝะฐ ะฟะพััะดะพะบ ะฟัะธ ัะฑะพัะบะต ะบะพัะทะธะฝั.

3. **ะะพัะทะธะฝะฐ ัะพัะผะธััะตััั ัะพะปัะบะพ ะฟะพ ะปะธัะฝัะผ ัะตะนัะธะฝะณะฐะผ ะบะปะธะตะฝัะฐ:**

   * ะฒัะฑะธัะฐัััั ะฟะพััะฐะฒัะธะบะธ ะฟะพ ัะฑัะฒะฐะฝะธั ัะตะนัะธะฝะณะฐ;
   * ั ะบะฐะถะดะพะณะพ ะฑะตััััั ะดะตัะฐะปะธ ะฝัะถะฝะพะน ะบะฐัะตะณะพัะธะธ;
   * ะตัะปะธ ั ะฟะพััะฐะฒัะธะบะฐ ะฝะต ัะฒะฐัะฐะตั ะดะตัะฐะปะตะน โ ะดะพะฑะธัะฐะตะผ ั ัะปะตะดัััะตะณะพ;
   * ะฟะพััะฐะฒัะธะบะธ ะฑะตะท ัะตะนัะธะฝะณะฐ ะธะณะฝะพัะธัััััั.

๐ **ะัะธะผะตั:**

| ะะพััะฐะฒัะธะบ | ะ ะฝะฐะปะธัะธะธ | ะัะตะฝะบะฐ ะบะปะธะตะฝัะฐ |
| --------- | --------- | -------------- |
| Supplier1 | 3         | 7              |
| Supplier2 | 1         | 10             |
| Supplier3 | 2         | 8              |

โ ะฟัะธ ะทะฐะฟัะพัะต 4 ะดะตัะฐะปะตะน:
1 ะพั Supplier2, 2 ะพั Supplier3, 1 ะพั Supplier1.

---

## โ๏ธ **ะััะธัะตะบัััะฐ**

### ๐น ะกะปะพะธ ะฟัะพะตะบัะฐ

1. **SharedModels** โ ะพะฑัะธะต ะผะพะดะตะปะธ ะธ ะฟะตัะตัะธัะปะตะฝะธั.
2. **DataAccess** โ ะดะพัััะฟ ะบ ะดะฐะฝะฝัะผ (ะธะฝัะตััะตะนัั ะธ ัะตะฐะปะธะทะฐัะธั SQLite).
3. **Server** โ HTTP-ัะตัะฒะตั, ะบะพะฝััะพะปะปะตัั ะธ ะฑะธะทะฝะตั-ะปะพะณะธะบะฐ.
4. **Client** โ ะบะพะฝัะพะปัะฝะพะต ะฟัะธะปะพะถะตะฝะธะต ั ะธะฝัะตัะฐะบัะธะฒะฝัะผ ะผะตะฝั.

### ๐น ะัะธะฝัะธะฟั

* **Repository pattern** โ ะธะทะพะปััะธั ะดะฐะฝะฝัั.
* **ะัะธะฝััะพะฝะฝะพััั** โ ัะตัะฒะตั ะพะฑัะฐะฑะฐััะฒะฐะตั ะฟะฐัะฐะปะปะตะปัะฝัะต ะทะฐะฟัะพัั.
* **ะะฝะฒะตััะธั ะทะฐะฒะธัะธะผะพััะตะน** โ ัะตัะตะท ะบะพะฝััััะบัะพัั ะธ ะธะฝัะตััะตะนัั.
* **ะะพะดัะปัะฝะพััั** โ ะผะพะถะฝะพ ะทะฐะผะตะฝะธัั ะกะฃะะ, UI ะธะปะธ ัะตัะฒะตัะฝัะน ััะฐะฝัะฟะพัั.

---

## ๐งฉ **ะกัััะบัััะฐ ัะตัะตะฝะธั**

```
SupplierClientSolution/
โ
โโโ SharedModels/
โ   โโโ BasketItem.cs
โ   โโโ Client.cs
โ   โโโ Supplier.cs
โ   โโโ Message.cs
โ   โโโ Part.cs
โ   โโโ PartCategory.cs
โ   โโโ Rating.cs
โ   โโโ Role.cs
โ
โโโ DataAccess/
โ   โโโ Abstractions/
โ   โ   โโโ Config/
โ   โ   โ   โโโ DatabaseSettings.cs
โ   โ   โโโ Core/
โ   โ   โ   โโโ IDatabaseConnectionFactory.cs
โ   โ   โ   โโโ IDatabaseInitializer.cs
โ   โ   โ   โโโ IDataSeeder.cs
โ   โ   โโโ Repositories/
โ   โ       โโโ IBasketRepository.cs
โ   โ       โโโ ICategoryRepository.cs
โ   โ       โโโ IClientRepository.cs
โ   โ       โโโ IMessageRepository.cs
โ   โ       โโโ IPartRepository.cs
โ   โ       โโโ IRatingRepository.cs
โ   โ       โโโ ISupplierRepository.cs
โ   โ
โ   โโโ Sqlite/
โ   โ   โโโ Config/
โ   โ   โ   โโโ SqliteDatabaseSettings.cs
โ   โ   โโโ Core/
โ   โ   โ   โโโ SqliteConnectionFactory.cs
โ   โ   โ   โโโ SqliteDatabaseInitializer.cs
โ   โ   โ   โโโ SqliteDataSeeder.cs
โ   โ   โโโ Helpers/
โ   โ   โ   โโโ SqliteCommandExtensions.cs
โ   โ   โโโ Repositories/
โ   โ       โโโ SqliteBasketRepository.cs
โ   โ       โโโ SqliteCategoryRepository.cs
โ   โ       โโโ SqliteClientRepository.cs
โ   โ       โโโ SqliteMessageRepository.cs
โ   โ       โโโ SqlitePartRepository.cs
โ   โ       โโโ SqliteRatingRepository.cs
โ   โ       โโโ SqliteSupplierRepository.cs
โ   โ
โ   โโโ DataAccess.csproj
โ
โโโ Server/
โ   โโโ Core/
โ   โ   โโโ HttpServer.cs
โ   โ   โโโ Router.cs
โ   โ   โโโ HttpContext.cs
โ   โ   โโโ ControllerBase.cs
โ   โ
โ   โโโ Controllers/
โ   โ   โโโ AuthController.cs
โ   โ   โโโ BasketController.cs
โ   โ   โโโ CategoryController.cs
โ   โ   โโโ MessageController.cs
โ   โ   โโโ PartController.cs
โ   โ   โโโ RatingController.cs
โ   โ
โ   โโโ Services/
โ   โ   โโโ AuthService.cs
โ   โ   โโโ BasketService.cs
โ   โ   โโโ CategoryService.cs
โ   โ   โโโ ClientService.cs
โ   โ   โโโ MessageService.cs
โ   โ   โโโ PartService.cs
โ   โ   โโโ RatingService.cs
โ   โ   โโโ SupplierService.cs
โ   โ
โ   โโโ Dtos/
โ   โ   โโโ LoginRequestDto.cs
โ   โ   โโโ AuthResultDto.cs
โ   โ   โโโ SetRatingDto.cs
โ   โ   โโโ BuildBasketDto.cs
โ   โ   โโโ AddCategoryDto.cs
โ   โ
โ   โโโ Program.cs
โ   โโโ Server.csproj
โ
โโโ Client/
    โโโ Api/
    โ   โโโ ApiClient.cs
    โโโ Menus/
    โ   โโโ MainMenu.cs
    โ   โโโ ClientMenu.cs
    โ   โโโ SupplierMenu.cs
    โโโ Models/
    โ   โโโ AuthResultDto.cs
    โโโ Utils/
    โ   โโโ ConsoleHelper.cs
    โโโ Program.cs
    โโโ Client.csproj
```

---

## ๐ **API ะญะฝะดะฟะพะธะฝัั**

### ๐ ะััะตะฝัะธัะธะบะฐัะธั
- `POST /auth/login` - ะฒัะพะด ะฒ ัะธััะตะผั

### ๐ฆ ะะตัะฐะปะธ
- `GET /parts` - ะฒัะต ะดะตัะฐะปะธ (ั ัะธะปัััะฐะผะธ ะฟะพ categoryId/supplierId)
- `POST /parts/add` - ะดะพะฑะฐะฒะธัั ะดะตัะฐะปั
- `POST /parts/update` - ะพะฑะฝะพะฒะธัั ะดะตัะฐะปั

### ๐ฌ ะกะพะพะฑัะตะฝะธั
- `GET /messages` - ะฟะพะปััะธัั ะฟะตัะตะฟะธัะบั (clientId, supplierId)
- `POST /messages/send` - ะพัะฟัะฐะฒะธัั ัะพะพะฑัะตะฝะธะต

### โญ ะะตะนัะธะฝะณะธ
- `GET /ratings/average` - ััะตะดะฝะธะน ัะตะนัะธะฝะณ ะฟะพััะฐะฒัะธะบะฐ
- `GET /ratings/personal` - ะฟะตััะพะฝะฐะปัะฝัะน ัะตะนัะธะฝะณ ะบะปะธะตะฝัะฐ
- `POST /ratings/set` - ัััะฐะฝะพะฒะธัั/ะพะฑะฝะพะฒะธัั ัะตะนัะธะฝะณ

### ๐ ะะพัะทะธะฝะฐ
- `POST /basket/build` - ัะพะฑัะฐัั ะบะพัะทะธะฝั ะฟะพ ะบะฐัะตะณะพัะธะธ
- `GET /basket` - ะฟะพะปััะธัั ะบะพัะทะธะฝั ะบะปะธะตะฝัะฐ

### ๐ ะะฐัะตะณะพัะธะธ
- `GET /categories` - ะฒัะต ะบะฐัะตะณะพัะธะธ
- `POST /categories/add` - ะดะพะฑะฐะฒะธัั ะบะฐัะตะณะพัะธั

### ๐ ะฃัะธะปะธัั
- `GET /ping` - ะฟัะพะฒะตัะบะฐ ัะฐะฑะพัั ัะตัะฒะตัะฐ

---

## ๐ง **ะัะธะฝัะธะฟั ะธ ัะตะปะธ**

* โ **ะัะพััะฐั ะฐััะธัะตะบัััะฐ**, ะฟะพะฝััะฝะฐั ะธ ะผะฐัััะฐะฑะธััะตะผะฐั
* โ **ะะทะพะปะธัะพะฒะฐะฝะฝัะต ัะปะพะธ**, ะทะฐะผะตะฝัะตะผัะต ะฑะตะท ะฟะตัะตะฟะธััะฒะฐะฝะธั ัะธััะตะผั
* โ **ะัะธะฝััะพะฝะฝะพััั ะธ ะผะฝะพะณะพะฟะพัะพัะฝะพััั**
* โ **ะขะตััะธััะตะผะพััั ะธ ัะตะฐะปะธะทะผ ะฑะธะทะฝะตั-ะปะพะณะธะบะธ**
* โ **ะัะณะบะพััั ัะฐััะธัะตะฝะธั** โ ะผะพะถะฝะพ ะดะพะฑะฐะฒะธัั REST API, UI, ะปะพะณะธะบั ะทะฐะบะฐะทะพะฒ ะธ ะฟั.
* โ **ะะฒัะพะผะฐัะธัะตัะบะฐั ะธะฝะธัะธะฐะปะธะทะฐัะธั ะะ** ั ะดะตะผะพ-ะดะฐะฝะฝัะผะธ
* โ **ะะพะฝัะพะปัะฝัะน UI** ั ะธะฝััะธัะธะฒะฝะพะน ะฝะฐะฒะธะณะฐัะธะตะน

---

## ๐พ **ะะตะผะพ-ะดะฐะฝะฝัะต**

ะัะธ ะฟะตัะฒะพะผ ะทะฐะฟััะบะต ะฒ ัะตะถะธะผะต ะพัะปะฐะดะบะธ ะฐะฒัะพะผะฐัะธัะตัะบะธ ัะพะทะดะฐัััั:
- 2 ะบะปะธะตะฝัะฐ (alice/pass1, bob/pass2)
- 2 ะฟะพััะฐะฒัะธะบะฐ (acme/acme123, best/best123)  
- ะะฐัะตะณะพัะธะธ: Filters, SparkPlugs
- ะะตัะฐะปะธ ั ัะฐะทะฝัะผะธ ัะตะฝะฐะผะธ ะธ ะบะพะปะธัะตััะฒะฐะผะธ
- ะัะธะผะตั ะฟะตัะตะฟะธัะบะธ ะธ ัะตะนัะธะฝะณะพะฒ
