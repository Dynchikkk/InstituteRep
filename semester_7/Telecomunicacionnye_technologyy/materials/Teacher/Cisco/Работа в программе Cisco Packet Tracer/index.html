<html xmlns="http://www.w3.org/TR/xhtml1/strict"><head><meta http-equiv="Content-Type" content="text/html; charset=windows-1251">
<title>Работа в программе Cisco Packet Tracer</title><link href="http://www.intuit.ru/xml/course/course_html.css" type="text/css" rel="stylesheet"></link><link href="/xml/course/course_html.css" type="text/css" rel="stylesheet"></link><link href="course_html.css" type="text/css" rel="stylesheet"></link></head><body><div class="head"><div class="title">Работа в программе Cisco Packet Tracer</div><div class="authors">Молочков Владимир Петрович</div></div><div class="content"><h1>Содержание</h1><ul><li>Лекция 1.  <a href="#ID.1.lecture">Введение в программу Cisco Packet Tracer</a></li><ul><li><a href="#ID.1.section.1">Что такое Cisco?</a></li><ul></ul><li><a href="#ID.1.section.2">Данный курс и Сетевая Академия Cisco</a></li><ul></ul><li><a href="#ID.1.section.3">Введение в программу Cisco Packet Tracer (CPT)</a></li><ul></ul><li><a href="#ID.1.section.4">Интерфейс программы Cisco Packet Tracer</a></li><ul></ul><li><a href="#ID.1.section.5">Главное меню</a></li><ul></ul><li><a href="#ID.1.section.6">Панель инструментов</a></li><ul></ul><li><a href="#ID.1.section.7">Оборудование</a></li><ul></ul><li><a href="#ID.1.section.8">Линии связи</a></li><ul></ul><li><a href="#ID.1.section.9">Графическое меню</a></li><ul></ul><li><a href="#ID.1.section.10">Элементы анимации и симуляции</a></li><ul></ul><li><a href="#ID.1.section.11">Физическое представление оборудования</a></li><ul></ul><li><a href="#ID.1.section.12">Практическая работа 1-1. Создание сети из двух ПК в программе Cisco Parket Tracer</a></li><ul></ul><li><a href="#ID.1.section.13">Задание 1</a></li><ul></ul></ul><li>Лекция 2.  <a href="#ID.2.lecture">Режим симуляции в Cisco Packet Tracer</a></li><ul><li><a href="#ID.2.section.1">Режим симуляции в Cisco Packet Tracer</a></li><ul></ul><li><a href="#ID.2.section.2">Практическая работа 2-1. Организация Режим симуляции работы сети </a></li><ul></ul><li><a href="#ID.2.section.3">Модель OSI в Cisco Packet Tracer</a></li><ul></ul><li><a href="#ID.2.section.4">Командная строка</a></li><ul></ul><li><a href="#ID.2.section.5">Практическая работа 2-2. Настройка сетевых параметров ПК в его графическом интерфейсе</a></li><ul></ul></ul><li>Лекция 3.  <a href="#ID.3.lecture">Моделирование сети с топологией звезда на базе концентратора</a></li><ul><li><a href="#ID.3.section.1"></a></li><ul></ul><li><a href="#ID.3.section.2">Практическая работа 3-1. Моделирование сети с топологией звезда на базе концентратора</a></li><ul></ul><li><a href="#ID.3.section.3">В рабочей области компонуем узлы сети</a></li><ul></ul><li><a href="#ID.3.section.4">Инструмент создания заметок Place Note</a></li><ul></ul><li><a href="#ID.3.section.5">Полезные приемы работы в CPT</a></li><ul></ul></ul><li>Лекция 4.  <a href="#ID.4.lecture">Моделирование сети с топологией звезда на базе коммутатора</a></li><ul><li><a href="#ID.4.section.1"></a></li><ul></ul><li><a href="#ID.4.section.2">Практическая работа 4-1. Моделирование сети с топологией звезда на базе коммутатора</a></li><ul></ul><li><a href="#ID.4.section.3">Задание 4.1</a></li><ul></ul><li><a href="#ID.4.section.4">Практическая работа 4-2. Исследование качества передачи трафика по сети</a></li><ul></ul><li><a href="#ID.4.section.5">Первое знакомство с Traffic Generator</a></li><ul></ul><li><a href="#ID.4.section.6">Исследование качества работы сети</a></li><ul></ul><li><a href="#ID.4.section.7">Повышение пропускной способности локальной вычислительной сети</a></li><ul></ul><li><a href="#ID.4.section.8">Задание 2</a></li><ul></ul></ul><li>Лекция 5.  <a href="#ID.5.lecture">Командная строка управления устройствами CLI. Виртуальные локальные сети VLAN </a></li><ul><li><a href="#ID.5.section.1">Консоль</a></li><ul><li><a href="#ID.5.section.2">Режимы работы с устройством при использовании CLI</a></li><ul></ul></ul><li><a href="#ID.5.section.3">Практическая работа 5-1-1. Знакомство с командами Cisco IOS</a></li><ul></ul><li><a href="#ID.5.section.4">Установка пароля на вход в привилегированный режим</a></li><ul></ul><li><a href="#ID.5.section.5">Задание 5.1</a></li><ul></ul><li><a href="#ID.5.section.6">Виртуальные локальные сети VLAN</a></li><ul><li><a href="#ID.5.section.7">Практическая работа 5-1-2. VLAN с одним коммутатором</a></li><ul></ul></ul><li><a href="#ID.5.section.8">Практическая работа 5-2-1. Настройка виртуальной сети на коммутаторе 2960</a></li><ul><li><a href="#ID.5.section.9">Настройка коммутатора</a></li><ul></ul><li><a href="#ID.5.section.10">Проверка результатов работы</a></li><ul></ul></ul><li><a href="#ID.5.section.11">Практическая работа 5-2-2. VLAN с двумя коммутаторами. Разделяемый общий канал (транк)</a></li><ul><li><a href="#ID.5.section.12">Настраиваем транк порт Gig0/1</a></li><ul></ul><li><a href="#ID.5.section.13">Настраиваем транк порт Gig0/2</a></li><ul></ul><li><a href="#ID.5.section.14">Диагностика результатов работы</a></li><ul></ul></ul><li><a href="#ID.5.section.15">Практическая работа 5-3. Настройка виртуальной сети из двух свитчей и четырех ПК.</a></li><ul><li><a href="#ID.5.section.16">Настройка VLAN 2 и VLAN3</a></li><ul></ul><li><a href="#ID.5.section.17">Настройка связи коммутаторов через транковый порт</a></li><ul></ul></ul></ul><li>Лекция 6.  <a href="#ID.6.lecture">Cisco Server. Типы серверов </a></li><ul><li><a href="#ID.6.section.1"></a></li><ul></ul><li><a href="#ID.6.section.2">Практическая работа 6-1-1. Настраиваем WEB сервер</a></li><ul><li><a href="#ID.6.section.3">Создаем WEB-документ на сервере</a></li><ul></ul></ul><li><a href="#ID.6.section.4">Практическая работа 6-1-2. Настройка сетевых сервисов DNS, DHCP и Web</a></li><ul><li><a href="#ID.6.section.5">Настраиваем IP адреса серверов и DHCP на ПК</a></li><ul></ul><li><a href="#ID.6.section.6">Настройка служб DNS и HTTP на Server1</a></li><ul></ul><li><a href="#ID.6.section.7">Настройка службы DHCP на Server2</a></li><ul></ul><li><a href="#ID.6.section.8">Проверка работы клиентов</a></li><ul></ul></ul><li><a href="#ID.6.section.9">Примеры работы маршрутизатора в роли DHCP сервера</a></li><ul></ul><li><a href="#ID.6.section.10">Практическая работа 6-2-1a. Конфигурирование DHCP сервера на маршрутизаторе</a></li><ul></ul><li><a href="#ID.6.section.11">Практическая работа 6-2-1b. Пример настройки интерфейса маршрутизатора в качестве DHCP клиента</a></li><ul></ul><li><a href="#ID.6.section.12">Практическая работа 6-2-2. DHCP сервис на маршрутизаторе 2811</a></li><ul></ul><li><a href="#ID.6.section.13">Резервируем 10 адресов</a></li><ul></ul><li><a href="#ID.6.section.14">Создаем пул адресов, которые будут выдаваться из сети 192.168.1.0</a></li><ul></ul><li><a href="#ID.6.section.15">Настраиваем интерфейс маршрутизатора</a></li><ul></ul><li><a href="#ID.6.section.16">Проверка результата</a></li><ul></ul></ul><li>Лекция 7.  <a href="#ID.7.lecture">Статическая маршрутизация </a></li><ul><li><a href="#ID.7.section.1"></a></li><ul></ul><li><a href="#ID.7.section.2">Практическая работа 7-1-1. Настраиваем связь двух сетей через маршрутизатор</a></li><ul><li><a href="#ID.7.section.3">Шаг 1. Настройка ПК</a></li><ul></ul><li><a href="#ID.7.section.4">Шаг 2. Настройка роутера (маршрутизатора)</a></li><ul></ul><li><a href="#ID.7.section.5">Шаг 3. Проверка связи сетей</a></li><ul></ul><li><a href="#ID.7.section.6">Задание 1. Настройка статической маршрутизации на оборудовании Cisco</a></li><ul></ul></ul><li><a href="#ID.7.section.7">Специальные термины и понятия</a></li><ul></ul><li><a href="#ID.7.section.8">Практическая работа 7-2.  Настройка трех сетей с WEB сервером. Понятие маршрута по умолчанию</a></li><ul><li><a href="#ID.7.section.9">Настройки сетевых интерфейсов роутеров </a></li><ul></ul><li><a href="#ID.7.section.10">Настройка связи маршрутизаторов с подсетями (настройка шлюзов)</a></li><ul></ul><li><a href="#ID.7.section.11">Настройка PC1 и PC2</a></li><ul></ul><li><a href="#ID.7.section.12">Настройка сервера и PC3</a></li><ul></ul><li><a href="#ID.7.section.13">Настройка маршрутизации на маршрутизаторах (маршрута по умолчанию)</a></li><ul></ul><li><a href="#ID.7.section.14">Проверяем работу сети</a></li><ul></ul></ul><li><a href="#ID.7.section.15">Практическая работа 7-3-1.  Сеть на двух маршрутизаторах</a></li><ul></ul><li><a href="#ID.7.section.16">Статическая маршрутизация для пяти сетей и роутеров с тремя портами</a></li><ul><li><a href="#ID.7.section.17">Схема сети</a></li><ul></ul><li><a href="#ID.7.section.18">Постановка задачи</a></li><ul></ul><li><a href="#ID.7.section.19">Настройка маршрутизации (маршрута по умолчанию)</a></li><ul></ul><li><a href="#ID.7.section.20">Резюме</a></li><ul></ul></ul></ul><li>Лекция 8.  <a href="#ID.8.lecture">Динамическая маршрутизация на протоколах RIP и EIGRP</a></li><ul><li><a href="#ID.8.section.1"></a></li><ul></ul><li><a href="#ID.8.section.2">Протокол RIP</a></li><ul></ul><li><a href="#ID.8.section.3">Практическая работа 8-1.  Настройка протокола RIP версии 2 для сети из шести устройств</a></li><ul><li><a href="#ID.8.section.4">Настройка протокола RIP на маршрутизаторе R1</a></li><ul></ul><li><a href="#ID.8.section.5">Настройка протокола RIP на маршрутизаторе R2</a></li><ul></ul><li><a href="#ID.8.section.6">Проверяем настройки коммутаторов и протокола RIP</a></li><ul></ul><li><a href="#ID.8.section.7">Проверка связи между PC1 и PC2</a></li><ul></ul></ul><li><a href="#ID.8.section.8">Практическая работа 8-2.  Конфигурирование протокола RIP версии 2 для сети из четырех устройств</a></li><ul></ul><li><a href="#ID.8.section.9">Протокол маршрутизации EIGRP</a></li><ul></ul><li><a href="#ID.8.section.10">Практическая работа 8-3.  Конфигурирование протокола EIGRP</a></li><ul><li><a href="#ID.8.section.11">Программирование R1</a></li><ul></ul><li><a href="#ID.8.section.12">Программирование R2</a></li><ul></ul><li><a href="#ID.8.section.13">Проверка работы сети</a></li><ul></ul></ul><li><a href="#ID.8.section.14">Протокол OSPF</a></li><ul></ul><li><a href="#ID.8.section.15">Прямая и обратная маска</a></li><ul></ul><li><a href="#ID.8.section.16">Расчёт  Wildcard mask</a></li><ul></ul><li><a href="#ID.8.section.17">Самостоятельно</a></li><ul></ul><li><a href="#ID.8.section.18">Практическая работа 8-2-1.  Пример конфигурирования протокола OSPF для 4-х устройств</a></li><ul><li><a href="#ID.8.section.19">Настройка роутеров</a></li><ul></ul><li><a href="#ID.8.section.20">Проверка результата</a></li><ul></ul></ul><li><a href="#ID.8.section.21">Практическая работа 8-2-2.  Настройка маршрутизации по протоколу OSPF для 6 устройств</a></li><ul><li><a href="#ID.8.section.22">Настроим loopback интерфейс на R1</a></li><ul></ul><li><a href="#ID.8.section.23">Настраиваем протокол OSPF на R1</a></li><ul></ul><li><a href="#ID.8.section.24">Настроим loopback интерфейс на R2</a></li><ul></ul><li><a href="#ID.8.section.25">Настраиваем OSPF на R2</a></li><ul></ul><li><a href="#ID.8.section.26">Настраиваем loopback интерфейс на R3</a></li><ul></ul><li><a href="#ID.8.section.27">Настраиваем протокол OSPF на R3</a></li><ul></ul><li><a href="#ID.8.section.28">Проверяем работу сети</a></li><ul></ul></ul></ul><li>Лекция 9.  <a href="#ID.9.lecture">Списки доступа ACL. Настройка статического и динамического NAT</a></li><ul><li><a href="#ID.9.section.1"></a></li><ul></ul><li><a href="#ID.9.section.2">Практическая работа 9-1.  Создание стандартного списка доступа </a></li><ul><li><a href="#ID.9.section.3">Постановка задачи </a></li><ul></ul><li><a href="#ID.9.section.4">Настройка R0</a></li><ul></ul><li><a href="#ID.9.section.5">Настройка сервера</a></li><ul></ul><li><a href="#ID.9.section.6">Диагностика сети</a></li><ul></ul><li><a href="#ID.9.section.7">Приступаем к решению задачи</a></li><ul></ul></ul><li><a href="#ID.9.section.8">Расширенные списки доступа ACL</a></li><ul></ul><li><a href="#ID.9.section.9">Практическая работа 9-2-1.  Расширенные списки доступа ACL</a></li><ul><li><a href="#ID.9.section.10">Создаем расширенные списки доступа и запрещаем FTP трафик</a></li><ul></ul></ul><li><a href="#ID.9.section.11">Настройка статического NAT </a></li><ul></ul><li><a href="#ID.9.section.12">Практическая работа 9-3-1. Статическая трансляция адресов NAT</a></li><ul><li><a href="#ID.9.section.13">На R0 добавляем access-list, разрешаем всё (any)</a></li><ul></ul><li><a href="#ID.9.section.14">Создаём правило трансляции</a></li><ul></ul><li><a href="#ID.9.section.15">Проверяем работу сети (просмотр состояния таблицы NAT)</a></li><ul></ul><li><a href="#ID.9.section.16">Задание 9.3</a></li><ul></ul></ul><li><a href="#ID.9.section.17">Практическая работа 9-3-2. Настройка статического NAT</a></li><ul><li><a href="#ID.9.section.18">Алгоритм настройки R1</a></li><ul></ul><li><a href="#ID.9.section.19">Команды для проверки работы NAT</a></li><ul></ul></ul><li><a href="#ID.9.section.20">Динамическая трансляция адресов. Настройка динамического NAT </a></li><ul></ul><li><a href="#ID.9.section.21">Практическая работа 9-4-1. Настройка динамического NAT на маршрутизаторе R1 по шагам.</a></li><ul></ul><li><a href="#ID.9.section.22">Команды для проверки работы динамического NAT</a></li><ul></ul><li><a href="#ID.9.section.23">Практическая работа 9-4-2. Динамический NAT Overload: настройка PAT (маскарадинг)</a></li><ul></ul><li><a href="#ID.9.section.24">Команды для проверки работы маскарадинга (PAT)</a></li><ul></ul></ul><li>Лекция 10.  <a href="#ID.10.lecture">Беспроводные сети</a></li><ul><li><a href="#ID.10.section.1">Беспроводная сеть WEP</a></li><ul></ul><li><a href="#ID.10.section.2">Практическая работа 10-1-1.  Создание новой беспроводной сети</a></li><ul></ul><li><a href="#ID.10.section.3">Беспроводная сеть WPA</a></li><ul></ul><li><a href="#ID.10.section.4">Практическая работа 10-1-2. Настройка беспроводной сети WPA</a></li><ul></ul><li><a href="#ID.10.section.5">Беспроводная сеть с точкой доступа</a></li><ul><li><a href="#ID.10.section.6">Практическая работа 10-2-1.  Беспроводная сеть с точкой доступа</a></li><ul></ul><li><a href="#ID.10.section.7">Практическая работа 10-2-2.  Беспроводная сеть между офисами</a></li><ul></ul></ul><li><a href="#ID.10.section.8">Настройка коммутируемого WI-FI соединения</a></li><ul><li><a href="#ID.10.section.9">Практическая работа 10-3-1.  Настройка коммутируемого WI-FI соединения</a></li><ul></ul><li><a href="#ID.10.section.10">Практическая работа 10-3-2.  Беспроводная связь в Packet Tracer с беспроводным роутером</a></li><ul></ul></ul></ul><li>Лекция 11.  <a href="#ID.11.lecture">Программы NetEmul и GNS3</a></li><ul><li><a href="#ID.11.section.1">Программа-конкурент и аналог CPT для изучения компьютерных сетей - NetEmul</a></li><ul><li><a href="#ID.11.section.2">Интерфейс программы</a></li><ul></ul><li><a href="#ID.11.section.3">Практическая работа 11-1.  Строим сеть из двух ПК и коммутатора</a></li><ul></ul><li><a href="#ID.11.section.4">Практическая работа 11-2.  Собираем сеть из двух ПК и свитча. Изучаем таблицу коммутации</a></li><ul></ul></ul><li><a href="#ID.11.section.5">Пример 11.2. Изучаем в NetEmul сеть из двух подсетей и маршрутизатора</a></li><ul><li><a href="#ID.11.section.6">Настройка компьютеров</a></li><ul></ul><li><a href="#ID.11.section.7">Настройка маршрутизатора</a></li><ul></ul><li><a href="#ID.11.section.8">Наблюдаем свойства маршрутизатора</a></li><ul></ul><li><a href="#ID.11.section.9">Тестирование сети</a></li><ul></ul></ul><li><a href="#ID.11.section.10">Что такое GNS3?  Основные настройки программы</a></li><ul></ul></ul><li><a href="#lectures_adds">Дополнения</a></li><ul></ul><li><a href="#literature">Литература</a></li></ul></div><div class="text"><hr></hr><a name="ID.1.lecture"><h2><span class="lection_name">Лекция 1.</span> Введение в программу Cisco Packet Tracer</h2></a><div class="annotation">Cisco Packet Tracer – это эмулятор сети, созданный компанией Cisco. Знание программы Cisco Packet Tracer крайне желательно при подготовке к экзамену CCNA. </div><a name="ID.1.section.1"><h3>Что такое Cisco?</h3></a><p>Cisco является всемирно известным разработчиком и производителем сетевого оборудования. Эта американская компания стремится представить полный спектр сетевого оборудования, и таким образом предоставить возможность клиенту закупить абсолютно всё необходимое сетевое оборудование исключительно у Cisco Systems.</p><a name="ID.1.section.2"><h3>Данный курс и Сетевая Академия Cisco</h3></a><p>Сетевая Академия Cisco – это мировая образовательная программа, обучающая проектировать, создавать, отлаживать и защищать компьютерные сети. Экзамены в Академии сдаются для получения сертификата Cisco. Все сертификаты Cisco делятся на три уровня:</p><ul><li>Специалист: сертификаты CCENT, CCNA, CCDA</li><li>Профессионал: сертификаты CCNP, CCDP</li><li>Эксперт: сертификаты CCIE</li></ul><p>Обучение новичков начинается с CCNA Cisco Certified  Network  Associate). Сертификат CCNA подтверждает ваше умение установки, настройки, эксплуатации и устранения неисправностей сетевого оборудования Cisco. В данном курсе мы рассмотрим ряд тем, входящих в CCNA: использование протоколов IP, RIP v2,OSPF, а такжеVLANs, Ethernet, access control lists (ACLs). Произведем настройку серверов, статической и динамической маршрутизации, настроим трансляцию адресов NAT/PAT, коснемся ряда других вопросов. Попутно замечу, что автор не претендует заменить собой Сетевую Академию Cisco, но предполагает, что существенно поможет читателю в подготовке к получению сертификата CCNA.</p><a name="ID.1.section.3"><h3>Введение в программу Cisco Packet Tracer (CPT)</h3></a><p>Cisco Packet Tracer – это эмулятор сети, созданный компанией Cisco. Программа позволяет строить и анализировать сети на разнообразном оборудовании в произвольных топологиях с поддержкой разных протоколов. В ней вы получаете возможность изучать работу различных сетевых устройств: маршрутизаторов, коммутаторов, точек беспроводного доступа, персональных компьютеров, сетевых принтеров и т.д. Данное приложение является наиболее простым и эффективным среди своих конкурентов. Так, например, создание нового проекта сети в Cisco Packet Tracer занимает существенно меньше времени, чем в аналогичной программе - GNS3, Packet Tracer проще в установке и настройке. Курс построен на изучении версии программы Cisco Packet Tracer 6.1.1. Поэтому примеры курса следует выполнять в этой версии программы или более поздней. Cisco Packet Tracer это то, с чего стоит начинать изучать оборудование Cisco.(<a href="#ID.1.image.1.1">рис. 1.1</a>).</p><p align="left"><a name="ID.1.image.1.1"></a><div><img src="i/1/1_1.png" alt="Логотип программы CPT" width="389" height="337"></img></div><br></br><b>Рис. 1.1.</b> 
        Логотип программы CPT</p><a name="ID.1.section.4"><h3>Интерфейс программы Cisco Packet Tracer</h3></a><p>На <a href="#ID.1.image.1.2">рис. 1.2</a> представлен интерфейс (главное окно) программы Cisco Packet Tracer.</p><p align="left"><a name="ID.1.image.1.2"></a><div><img src="i/1/1_2.png" alt="Интерфейс программы Cisco Packet Tracer (CPT)" width="491" height="397"></img></div><br></br><b>Рис. 1.2.</b> 
        Интерфейс программы Cisco Packet Tracer (CPT)</p><a name="ID.1.section.5"><h3>Главное меню</h3></a><p>Главное меню показано на <a href="#ID.1.image.1.3">рис. 1.3</a>.</p><p align="left"><a name="ID.1.image.1.3"></a><div><img src="i/1/1_3.png" alt="Главное меню" width="255" height="16"></img></div><br></br><b>Рис. 1.3.</b> 
        Главное меню</p><p><b>File</b> (Файл) - содержит операции открытия/сохранения документов.</p><p><b>Edit</b> (Правка) - содержит стандартные операции "копировать/вырезать, отменить/повторить";</p><p><b>Options</b> (Настройки) – содержит настройки программы. В частности, здесь расположена кнопка <img src="i/1/1_01.png" alt=""></img>, позволяющая производить локализацию программы на другие языки.</p><p><b>View</b> (Вид) - содержит инструменты изменения масштаба рабочей области и панели инструментов;</p><p><b>Tools</b> (Инструменты) - содержит цветовую палитру и окно пользовательских устройств;</p><p><b>Exensions</b> (Расширения) - содержит мастер проектов и ряд других инструментов;</p><p><b>Help</b> (Помощь)–содержит помощь по программе.</p><a name="ID.1.section.6"><h3>Панель инструментов</h3></a><p>Панель инструментов приведена на <a href="#ID.1.image.1.4">рис. 1.4</a>.</p><p align="left"><a name="ID.1.image.1.4"></a><div><img src="i/1/1_4.png" alt="Панель инструментов" width="799" height="38"></img></div><br></br><b>Рис. 1.4.</b> 
        Панель инструментов</p><p>Панель инструментов с помощью пиктограмм дублирует основные пункты главного меню программы.</p><a name="ID.1.section.7"><h3>Оборудование</h3></a><p>Снизу, под рабочей областью, расположена панель оборудования. Данная панель содержит в своей левой части типы (классы) устройств, а в правой части – их наименование (модели). При наведении на каждое из устройств, в прямоугольнике, находящемся в центре между ними будет отображаться его тип. Типы оборудования представлены на <a href="#ID.1.image.1.5">рис. 1.5</a>.</p><p align="left"><a name="ID.1.image.1.5"></a><div><img src="i/1/1_5.png" alt="Панель оборудования Packet Tracer (Основные типы оборудования)" width="399" height="155"></img></div><br></br><b>Рис. 1.5.</b> 
        Панель оборудования Packet Tracer (Основные типы оборудования)</p><p><b>Маршрутизаторы (роутеры) </b> используется для поиска оптимального маршрута передачи данных на основании алгоритмов маршрутизации. <b>Коммутаторы</b> - устройства, предназначенные для объединения нескольких узлов в пределах одного или нескольких сегментах сети. Коммутатор (свитч)передаёт пакеты информации на основании таблицы коммутации, поэтому трафик идёт только на тот MAC-адрес, которому он предназначается, а не повторяется на всех портах, как на концентраторе (хабе). <b>Беспроводные устройства</b> в программе представлены беспроводным маршрутизатором и тремя точками доступа. Среди <b>конечных устройств</b> вы увидите ПК, ноутбук, сервер, принтер, телефоны и так далее. Интернет в программе представлен в виде облаков и модемов DSL. Пользовательские устройства и облако для многопользовательской работы показаны на <a href="#ID.1.image.1.6">рис. 1.6</a>.</p><p align="left"><a name="ID.1.image.1.6"></a><div><img src="i/1/1_6.png" alt="Пользовательские устройства и облако для многопользовательской работы" width="149" height="102"></img></div><br></br><b>Рис. 1.6.</b> 
        Пользовательские устройства и облако для многопользовательской работы</p><a name="ID.1.section.8"><h3>Линии связи</h3></a><p>С помощью линий связи создаются соединения узлов сети в единую топологию и при этом каждый тип кабеля может быть соединен лишь с определенными типами интерфейсов устройств (<a href="#ID.1.image.1.7">рис. 1.7</a>).</p><p align="left"><a name="ID.1.image.1.7"></a><div><img src="i/1/1_7.png" alt="Типы линий связи" width="491" height="139"></img></div><br></br><b>Рис. 1.7.</b> 
        Типы линий связи</p><p><b>Автоматический тип</b> – при данном типе соединения Packet Tracer автоматически выбирает наиболее предпочтительные тип соединения для выбранных устройств.</p><p><b>Консоль</b> – консольные соединение. Консольное соединение может быть выполнено между ПК и маршрутизаторами или коммутаторами.</p><p><b>Медь прямой</b> – соединение медным кабелем типа витая пара, оба конца кабеля обжаты в одинаковой раскладке. </p><p><b>Медь кроссовер</b> – соединение медным кабелем типа витая пара, концы кабеля обжаты как кроссовер. </p><p><b>Оптика</b> – соединение при помощи оптического кабеля, необходимо для соединения устройств, имеющих оптические интерфейсы.</p><p><b>Телефонный кабель</b> – кабель для подключения телефонных аппаратов. Соединение через телефонную линию может быть осуществлено между устройствами, имеющими модемные порты. Пример - ПК, дозванивающийся в сетевое облако.</p><p><b>Коаксиальный кабель</b> – соединение устройств с помощью коаксиального кабеля. Используется для соединения между кабельным модемом и облаком.</p><p><b>Серийный DCE и серийный DTE</b> - соединения через последовательные порты для связей Интернет. Для настройки таких соединений необходимо установить синхронизацию на стороне DCE-устройства. Сторону DCE можно определить по маленькой иконке "часов" рядом с портом. </p><a name="ID.1.section.9"><h3>Графическое меню</h3></a><p>На <a href="#ID.1.image.1.8">рис. 1.8</a> показано графическое меню программы.</p><p align="left"><a name="ID.1.image.1.8"></a><div><img src="i/1/1_8.png" alt="Графическое меню (повернуто)" width="222" height="50"></img></div><br></br><b>Рис. 1.8.</b> 
        Графическое меню (повернуто)</p><p>На этом рисунке слева направо:</p><p>Инструмент <b>Select</b> (Выбрать) можно активировать клавишей Esc. Он используется для выделения одного или более объектов для дальнейшего их перемещения, копирования или удаления.</p><p>Инструмент <b>Move  Layout</b> (Переместить слой, горячая клавиша M) используется для прокрутки больших проектов сетей.</p><p>Инструмент <b>Place Note</b> (Сделать пометку, клавиша N) добавляет текст в рабочей области проекта. </p><p>Инструмент <b>Delete</b> (Удалить, клавиша Del) удаляет выделенный объект или группу объектов.</p><p>Инструмент <b>Inspect</b> (Проверка, клавиша I) позволяет, в зависимости от типа устройства, просматривать содержимое таблиц (ARP, NAT, таблицы маршрутизациии др.).  </p><p>Инструмент <b>Drawapolygon</b> (Нарисовать многоугольник) позволяет рисовать прямоугольники, эллипсы, линии и закрашивать их цветом.</p><p>Инструмент <b>Resize Shape</b> (Изменить размер формы, комбинация клавиш Alt+R) предназначен для изменения размеров рисованных объектов (четырехугольников и окружностей).</p><a name="ID.1.section.10"><h3>Элементы анимации и симуляции</h3></a><p>Эти элементы интерфейса показаны на <a href="#ID.1.image.1.9">рис. 1.9</a>.</p><p align="left"><a name="ID.1.image.1.9"></a><div><img src="i/1/1_9.png" alt="Элементы анимации и симуляции" width="114" height="126"></img></div><br></br><b>Рис. 1.9.</b> 
        Элементы анимации и симуляции</p><p>Инструменты <b>Add Simple PDU</b> (Добавить простой PDU, клавиша P) и <b>Add Complex PDU</b> (Добавить комплексный PDU, клавиша C) предназначены для эмулирования отправки пакета с последующим отслеживанием его маршрута и данных внутри пакета.</p><a name="ID.1.section.11"><h3>Физическое представление оборудования</h3></a><p>В программе возможно физическое представление оборудования в виде его физической конфигурации (<a href="#ID.1.image.1.10">рис. 1.10</a>).</p><p align="left"><a name="ID.1.image.1.10"></a><div><img src="i/1/1_10.png" alt="Физическая конфигурация ПК" width="310" height="362"></img></div><br></br><b>Рис. 1.10.</b> 
        Физическая конфигурация ПК</p><p>Для изменения комплектации оборудования необходимо отключить его питание, кликнув мышью на кнопке питания и перетащить мышью нужный модуль в свободный слот, затем включить питание. В качестве примера я добавил в физическую конфигурацию ПК микрофон (PT-MICROPHONE), в результате чего ПК изменил свой значок в программе (<a href="#ID.1.image.1.11">рис. 1.11</a>). </p><p align="left"><a name="ID.1.image.1.11"></a><div><img src="i/1/1_11.png" alt="Изменение пиктограммы ПК после подключения к нему микрофона" width="183" height="73"></img></div><br></br><b>Рис. 1.11.</b> 
        Изменение пиктограммы ПК после подключения к нему микрофона</p><p>Остальные модули добавляются в устройства аналогично. Так, на компьютер есть возможность добавить не только микрофон, но и, например, наушники или жесткий диск для хранения данных.</p><a name="ID.1.section.12"><h3>Практическая работа 1-1. Создание сети из двух ПК в программе Cisco Parket Tracer</h3></a><p>В качестве примера для начального знакомства с программой построим простейшую сеть из двух ПК, соединенных кроссовым кабелем (<a href="#ID.1.image.1.12">рис. 1.12</a>).</p><p align="left"><a name="ID.1.image.1.12"></a><div><img src="i/1/1_12.png" alt="Сеть из двух ПК" width="232" height="72"></img></div><br></br><b>Рис. 1.12.</b> 
        Сеть из двух ПК</p><p>Для решения нашей задачи на вкладке  <img src="i/1/1_02.png" alt=""></img>(<b>Конечные устройства</b>) выбираем тип компьютера и переносим его мышью в рабочую область программы (рис. 13).</p><p align="left"><a name="ID.1.image.1.13"></a><div><img src="i/1/1_13.png" alt="Устанавливаем в рабочую область программы первый ПК" width="190" height="199"></img></div><br></br><b>Рис. 1.13.</b> 
        Устанавливаем в рабочую область программы первый ПК</p><p>Компьютеры соединяем посредством медного кроссовера  <img src="i/1/1_03.png" alt=""></img> (<b>Перекрестный кабель</b>).</p><div class="xml_inset">
<p><b>Совет</b></p>
<p>Если при выборе кроссовера зеленые лампочки не загорятся, то выберите тип соединения <b>Автоматически</b>.</p>
</div><p>Теперь приступим к настройке левого ПК: щелкаем на нем мышью, переходим на вкладку <b>Ip Configuration</b> (Настройка IP) – <a href="#ID.1.image.1.14">рис. 1.14</a>.</p><p align="left"><a name="ID.1.image.1.14"></a><div><img src="i/1/1_14.png" alt="Стрелка показывает на кнопку открытия окна IP Configuration" width="443" height="140"></img></div><br></br><b>Рис. 1.14.</b> 
        Стрелка показывает на кнопку открытия окна IP Configuration</p><p>Для первого ПК вводим IP адрес 192.168.1.1 и маску подсети 255.255.255.0, окно закрываем (<a href="#ID.1.image.1.15">рис. 1.15</a>). Аналогично настраиваем второй ПК на адрес 192.168.1.2 и ту же маску.</p><p align="left"><a name="ID.1.image.1.15"></a><div><img src="i/1/1_15.png" alt="Окно настройки PC0" width="401" height="354"></img></div><br></br><b>Рис. 1.15.</b> 
        Окно настройки PC0</p><p>Далее проверим наличие связи ПК и убедимся, что ПК0 и ПК1 видят друг друга. Для этого на вкладке   <img src="i/1/1_04.png" alt=""></img>(<b>Рабочий стол</b>) перейдем в поле run (Командная строка) и пропингуем соседний ПК (<a href="#ID.1.image.1.16">рис. 1.16</a>).</p><p align="left"><a name="ID.1.image.1.16"></a><div><img src="i/1/1_16.png" alt="Кнопка run" width="491" height="151"></img></div><br></br><b>Рис. 1.16.</b> 
        Кнопка run</p><p>Как видно из <a href="#ID.1.image.1.17">рис. 1.17</a> связь между ПК присутствует (настроена).</p><p align="left"><a name="ID.1.image.1.17"></a><div><img src="i/1/1_17.png" alt="Пинг прошел успешно" width="379" height="244"></img></div><br></br><b>Рис. 1.17.</b> 
        Пинг прошел успешно</p><p>Пример выполнения практической работы по настройке сети из двух ПК (<a target="_blank" href="task-1-1.pkt"><img border="0" src="http://www.intuit.ru/img/icons/www.gif"></img></a> <a target="_blank" href="task-1-1.pkt">файл task-1-1.pkt</a>) прилагается.</p><a name="ID.1.section.13"><h3>Задание 1</h3></a><p>Создайте свою сеть из 2х ПК и настройте ее работу.</p><a name="ID.2.lecture"><h2><span class="lection_name">Лекция 2.</span> Режим симуляции в Cisco Packet Tracer</h2></a><div class="annotation">Cisco Packet Tracer содержит режим симуляции работы сети, в котором можно имитировать сетевые события. </div><a name="ID.2.section.1"><h3>Режим симуляции в Cisco Packet Tracer</h3></a><p>Рассмотрим конкретный пример. </p><a name="ID.2.section.2"><h3>Практическая работа 2-1. Организация Режим симуляции работы сети </h3></a><p>Сформируйте в рабочем пространстве программы сеть из 4х ПК и 2х хабов. Задайте для ПК IP адреса и маску сети 255.255.255.0 (<a href="#ID.2.image.2.1">рис. 2.1</a>).</p><p align="left"><a name="ID.2.image.2.1"></a><div><img src="i/2/2_1.png" alt="Все ПК расположены в одной сети" width="478" height="203"></img></div><br></br><b>Рис. 2.1.</b> 
        Все ПК расположены в одной сети</p><div class="xml_inset">
<b>Совет</b>
<p>Нашу схему вы можете сохранить в виде картинки с расширением *PNG командой <span class="texample">File-Print-Print to file</span>.</p>
</div><p>Теперь нужно перейти в режим симуляции комбинацией клавиш <b>Shift+S</b>, или, щелкнув мышью на иконку симуляции в правом нижнем углу рабочего пространства (<a href="#ID.2.image.2.2">рис. 2.2</a>). </p><p align="left"><a name="ID.2.image.2.2"></a><div><img src="i/2/2_2.png" alt="Кнопка Симуляция" width="203" height="116"></img></div><br></br><b>Рис. 2.2.</b> 
        Кнопка Симуляция</p><p>Нажмите на кнопку  <img src="i/2/2_01.png" alt=""></img>(Изменить фильтры) и исключите все сетевые протоколы, кроме ICMP (<a href="#ID.2.image.2.3">рис. 2.3</a>).</p><p align="left"><a name="ID.2.image.2.3"></a><div><img src="i/2/2_3.png" alt="Флажок ICMP активен" width="221" height="117"></img></div><br></br><b>Рис. 2.3.</b> 
        Флажок ICMP активен</p><div class="xml_inset">
<b>Новый термин</b>
<p>ICMP (Internet Control Message Protocol) — сетевой протокол, входящий в стек протоколов TCP/IP. В основном ICMP используется для передачи сообщений об ошибках и других исключительных ситуациях, возникших при передаче данных. </p>
</div><p>С одного из хостов попробуем пропинговать другой узел. Для этого выбираем далеко расположенные друг от друга узлы, для того, чтобы наглядней увидеть, как будут проходить пакеты по сети в режиме симуляции. Итак, с PC1 пингуем PC2 (<a href="#ID.2.image.2.4">рис. 2.4</a>).</p><p align="left"><a name="ID.2.image.2.4"></a><div><img src="i/2/2_4.png" alt="PC1 пингует PC2 (начало процесса)" width="516" height="532"></img></div><br></br><b>Рис. 2.4.</b> 
        PC1 пингует PC2 (начало процесса)</p><div class="xml_inset">
<b>Примечание</b>
<p>Ping — утилита для проверки соединений в сетях на основе TCP/IP.Утилита отправляет запросы (ICMP Echo-Request) протокола ICMP указанному узлу сети и фиксирует поступающие ответы (ICMP Echo-Reply). Время между отправкой запроса и получением ответа (RTT) позволяет определять двусторонние задержки (RTT) по маршруту и частоту потери пакетов, то есть косвенно определять загруженность на каналах передачи данных и промежуточных устройствах. Полное отсутствие ICMP-ответов может также означать, что удалённый узел (или какой-либо из промежуточных маршрутизаторов) блокирует ICMP Echo-Reply или игнорирует ICMP Echo-Request.</p>
</div><p>На PC1 образовался пакет (конвертик), который ждёт начала движения его по сети. Запустить продвижение пакет в сеть пошагово можно, нажав на кнопку <img src="i/2/2_02.png" alt=""></img>(Вперёд) в окне симуляции. Если нажать на кнопку <img src="i/2/2_03.png" alt=""></img>(воспроизведение), то мы увидим весь цикл прохождения пакета по сети. В  (Список событий) мы можем видеть успешный результат пинга (<a href="#ID.2.image.2.5">рис. 2.5</a>).</p><p align="left"><a name="ID.2.image.2.5"></a><div><img src="i/2/2_5.png" alt="Связь PC1 и PC2 есть" width="491" height="78"></img></div><br></br><b>Рис. 2.5.</b> 
        Связь PC1 и PC2 есть</p><p>Пример сети из 4х ПК и 2х хабов для изучения режим симуляции работы сети (<a target="_blank" href="task-2-1.pkt"><img border="0" src="http://www.intuit.ru/img/icons/www.gif"></img></a> <a target="_blank" href="task-2-1.pkt">файл task-2-1*pkt</a>) прилагается.</p><a name="ID.2.section.3"><h3>Модель OSI в Cisco Packet Tracer</h3></a><p>Щелчок мышью на конверте покажет нам дополнительную информацию о движении пакета по сети. При этом на первой вкладке мы увидим <b>модель OSI</b> (<a href="#ID.2.image.2.6">рис. 2.6</a>). На вкладке OSI Model (Модель OSI) представлена информация об уровнях OSI, на которых работает данное сетевое устройство. </p><p align="left"><a name="ID.2.image.2.6"></a><div><img src="i/2/2_6.png" alt="Мониторинг движения пакета на модели OSI" width="218" height="309"></img></div><br></br><b>Рис. 2.6.</b> 
        Мониторинг движения пакета на модели OSI</p><p>На другой вкладке можно посмотреть структуру пакета (<a href="#ID.2.image.2.7">рис. 2.7</a>).</p><p align="left"><a name="ID.2.image.2.7"></a><div><img src="i/2/2_7.png" alt="Структура пакета" width="398" height="412"></img></div><br></br><b>Рис. 2.7.</b> 
        Структура пакета</p><p>Итак, подведем некий промежуточный итог нашей работы. В Packet Tracer предусмотрен режим моделирования (Симуляции), в котором показывается, как работает утилита Ping. Чтобы перейти в данный режим, необходимо нажать на значок <b>Simulation Mode</b> (Симуляция) в нижнем правом углу рабочей области или комбинацию клавиш <b>Shift+S</b>. Откроется <b>Simulation Panel</b> (Панель симуляции), в которой будут отображаться все события, связанные с выполнения ping-процесса. Моделирование прекращается либо при завершении ping-процесса, либо при закрытии окна симуляции. В режиме симуляции можно не только отслеживать используемые протоколы, но и видеть, на каком из семи уровней модели OSI данный протокол задействован. В процессе просмотра анимации мы увидели принцип работы хаба. Концентратор (хаб) повторяет пакет на всех портах в надежде, что на одном из них есть получатель информации. Если пакеты каким-то узлам не предназначенные, эти узлы игнорируют пакеты. А когда пакет вернётся отправителю, то мы увидим галочку"принятие пакета".
 (<a href="#ID.2.image.2.8">рис. 2.8</a>).</p><p align="left"><a name="ID.2.image.2.8"></a><div><img src="i/2/2_8.png" alt="Значки игнорирования пакетов и подтверждение соединения" width="213" height="212"></img></div><br></br><b>Рис. 2.8.</b> 
        Значки игнорирования пакетов и подтверждение соединения</p><a name="ID.2.section.4"><h3>Командная строка</h3></a><p>Если нажать на кнопку  <img src="i/2/2_04.png" alt=""></img>(воспроизведение), то мы увидим весь цикл прохождения пакета по сети (процесс повторится 4 раза) – <a href="#ID.2.image.2.9">рис. 2.9</a>.</p><p align="left"><a name="ID.2.image.2.9"></a><div><img src="i/2/2_9.png" alt="Пинг от ПК1 до ПК2" width="401" height="277"></img></div><br></br><b>Рис. 2.9.</b> 
        Пинг от ПК1 до ПК2</p><p>Здесь:</p><p><b>TTL</b>- время жизни отправленного пакета (определяет максимальное число маршрутизаторов, которое пакет может пройти при его продвижении по сети),</p><p><b>time</b> - время, потраченное на отправку запроса и получение ответа,</p><p><b>min</b> - минимальное время ответа,</p><p><b>max</b> - максимальное время ответа,</p><p><b>avg</b> - среднее время ответа.</p><a name="ID.2.section.5"><h3>Практическая работа 2-2. Настройка сетевых параметров ПК в его графическом интерфейсе</h3></a><p>Добавим в нашу сеть еще один ПК – PC4. Пример измененной сети из пяти ПК и 2-х хабов (<a target="_blank" href="task-2-2.pkt"><img border="0" src="http://www.intuit.ru/img/icons/www.gif"></img></a> <a target="_blank" href="task-2-2.pkt">файл task-2-2.pkt</a>) прилагается.</p><p>Откроем свойства устройства PC4, нажав на его изображение. Для конфигурирования компьютера воспользуемся командой <b>ipconfig</b> из командной строки (<a href="#ID.2.image.2.10">рис. 2.10</a>).</p><p align="left"><a name="ID.2.image.2.10"></a><div><img src="i/2/2_10.png" alt="Назначаем для ПК ip адрес и маску сети" width="282" height="143"></img></div><br></br><b>Рис. 2.10.</b> 
        Назначаем для ПК ip адрес и маску сети</p><p>Как вариант, IP адрес и маску сети можно вводить в графическом интерфейсе устройства (<a href="#ID.2.image.2.11">рис. 2.11</a>).</p><p align="left"><a name="ID.2.image.2.11"></a><div><img src="i/2/2_11.png" alt="Второй способ конфигурирования компьютера (настройки узла сети)" width="298" height="167"></img></div><br></br><b>Рис. 2.11.</b> 
        Второй способ конфигурирования компьютера (настройки узла сети)</p><p>На каждом компьютере проверим назначенные нами параметры командой <b>ipconfig</b> (<a href="#ID.2.image.2.12">рис. 2.12</a>).</p><p align="left"><a name="ID.2.image.2.12"></a><div><img src="i/2/2_12.png" alt="Проверка конфигурирования ПК3" width="438" height="237"></img></div><br></br><b>Рис. 2.12.</b> 
        Проверка конфигурирования ПК3</p><a name="ID.3.lecture"><h2><span class="lection_name">Лекция 3.</span> Моделирование сети с топологией звезда на базе концентратора</h2></a><div class="annotation"></div><a name="ID.3.section.1"><h3></h3></a><p>Звезда — базовая топология компьютерной сети, в которой все компьютеры сети присоединены к центральному узлу, образуя физический сегмент сети. Центральным узлом выступает концентратор, коммутатор или ПК. Рабочая станция, с которой необходимо передать данные, отсылает их на концентратор. В определённый момент времени только одна машина в сети может пересылать данные, если на концентратор одновременно приходят два пакета, обе посылки оказываются не принятыми и отправителям нужно будет подождать случайный промежуток времени, чтобы возобновить передачу данных. Этот недостаток отсутствует на сетевом устройстве более высокого уровня — коммутаторе, который, в отличие от концентратора, подающего пакет на все порты, подает лишь на определенный порт — получателю. Одновременно может быть передано несколько пакетов. Сколько — зависит от коммутатора. Достоинства звезды: выход из строя одной рабочей станции не отражается на работе всей сети в целом; лёгкий поиск неисправностей и обрывов в сети; высокая 
производительность сети (при условии правильного проектирования); гибкие возможности администрирования. Недостатки звезды: выход из строя центрального концентратора обернётся неработоспособностью сети (или сегмента сети) в целом; для прокладки сети зачастую требуется больше кабеля, чем для большинства других топологий; число рабочих станций в сети (или сегменте сети) ограничено количеством портов в центральном концентраторе. </p><a name="ID.3.section.2"><h3>Практическая работа 3-1. Моделирование сети с топологией звезда на базе концентратора</h3></a><p>В данном примере мы c помощью программного симулятора Packet Tracer построим сеть с топологией Звезда на базе концентратора (<a href="#ID.3.image.3.1">рис. 3.1</a>) и изучим ряд новых приемов работы в этой программе.</p><p align="left"><a name="ID.3.image.3.1"></a><div><img src="i/3/3_1.png" alt="Моделирование сети с топологией звезда на базе концентратора" width="278" height="303"></img></div><br></br><b>Рис. 3.1.</b> 
        Моделирование сети с топологией звезда на базе концентратора</p><a name="ID.3.section.3"><h3>В рабочей области компонуем узлы сети</h3></a><p>Выбираем тип оборудования <b>Hub’s</b> (Концентраторы). В меню "список устройств данного типа оборудования" выбираем конкретный концентратор - Hub-PT и перетаскиваем его мышью в рабочую область программы. Далее выбираем тип устройства <b>End Devices</b> (Конечные устройства) и в дополнительном меню выбираем настольный компьютер PC-PT и перетаскиваем его мышью в рабочую область программы. Таким образом, устанавливаем ещё три компьютера и один сервер. Для подключения  компьютеров и сервера к концентратору  выбираем новый тип устройств <b>Connections</b> (Соединения), далее выбираем <img src="i/3/3_01.png" alt=""></img> (Медный прямой) тип кабеля. Чтобы соединить сетевую карту компьютера с портом Hub-а, необходимо щелкнуть левой клавишей мыши по нужному компьютеру. В открывшимся графическом меню выбрать порт FastEthernet0 и протянуть кабель от ПК к концентратору, где в аналогичном меню выбрать любой свободный порт Fast Ethernet концентратора. При этом желательно всегда придерживаться следующего 
правила: для сервера выбираем 0-й порт, для PC1 - 1й порт, для PC2 - 2й порт и так далее. Назначаем узлам сети IP адреса и маску. Для этого двойным щелчком открываем нужный компьютер, далее Config (Конфигурация)- <b>Interface</b> (Интерфейс)- <b>FastEthetnet0</b>. В группе параметров <b>IP Configuration</b> (Настройка IP) должен быть активирован переключатель <b>Static</b> (Статический) в поле <b>IP Address</b> необходимо ввести IP-адрес компьютера, маска появится автоматически. <b>Port status</b> (Состояние порта) – <b>On</b> (Вкл). </p><a name="ID.3.section.4"><h3>Инструмент создания заметок Place Note</h3></a><p>Используя инструмент создания заметок <b>Place Note</b> (клавиша N), подписываем все IP устройств, а вверху рабочей области создаем заголовок нашего проекта "<b>Изучение топологии звезда</b>" - <a href="#ID.3.image.3.2">рис. 3.2</a>.</p><p align="left"><a name="ID.3.image.3.2"></a><div><img src="i/3/3_2.png" alt="Используем инструмент Place Note (Заметка)" width="319" height="341"></img></div><br></br><b>Рис. 3.2.</b> 
        Используем инструмент Place Note (Заметка)</p><div class="xml_inset">
<b>Совет</b>
<p>IP адреса следует скопировать из окна <b>Config</b> (Конфигурация). При этом активируйте инструмент <b>Place Note</b> (Заметка).</p>
</div><p>С целью исключения нагромождения рабочей области надписями, уберем надписи (метки) типов устройств: откроем меню <b>Options</b> (Опции) в верхней части окна Packet Tracer, затем в ниспадающем списке выберем пункт <b>Preferens </b> (Настройки), а в диалоговом окне снимем флажок <b>Show device model labels</b> (Показать модели устройств) - <a href="#ID.3.image.3.3">рис. 3.3</a>.</p><p align="left"><a name="ID.3.image.3.3"></a><div><img src="i/3/3_3.png" alt="Дезактивируем флажок Show device model labels" width="516" height="215"></img></div><br></br><b>Рис. 3.3.</b> 
        Дезактивируем флажок Show device model labels</p><p>Для проверки работоспособности сети отправим с компьютера на другой ПК тестовый сигнал ping и переключимся в режим <b>Simulation</b> (Симуляция). В окне <b>Event list</b> (Список событий), с помощью кнопки <b>Edit filters </b> (Изменить фильтры), сначала очистите фильтры от всех типов сигнала, а затем установим тип контроля сигнала: только ICMP.</p><div class="xml_inset">
<b>Примечание</b>
<p>Я не привожу иллюстраций для этих команд, поскольку они уже приводились в предыдущих главах курса.</p>
</div><p>Далее окно <b>Event list</b> (Список событий) закрываем (<a href="#ID.3.image.3.4">рис. 3.4</a>).</p><p align="left"><a name="ID.3.image.3.4"></a><div><img src="i/3/3_4.png" alt="Кнопка Event list (Список событий)" width="320" height="118"></img></div><br></br><b>Рис. 3.4.</b> 
        Кнопка Event list (Список событий)</p><p>В правой части окна, в графическом меню выбираем <img src="i/3/3_02.png" alt=""></img>(Простой PDU) и щелчками мыши, устанавливаем его на ПК - выбираем  источник сигнала (например, PC3) и, затем, на узле назначения (пусть это будет сервер). Нажимая на кнопку  <img src="i/3/3_03.png" alt=""></img>(Захват/Вперед) наблюдаем пошаговое продвижение пакета PDU – <a href="#ID.3.image.3.5">рис. 3.5</a></p><p align="left"><a name="ID.3.image.3.5"></a><div><img src="i/3/3_5.png" alt="Успешное прохождение пакетов по сети" width="671" height="52"></img></div><br></br><b>Рис. 3.5.</b> 
        Успешное прохождение пакетов по сети</p><div class="xml_inset">
<b>Новый термин</b>
<p>PDU - обобщённое название фрагмента данных на разных уровнях Модели OSI: кадр Ethernet, ip-пакет, udp-датаграмма, tcp-сегмент и т. д.</p>
</div><p>Пример схемы сети с топологией звезда на базе концентратора (<a target="_blank" href="task-3-1.pkt"><img border="0" src="http://www.intuit.ru/img/icons/www.gif"></img></a> <a target="_blank" href="task-3-1.pkt">файл task-3-1.pkt</a>) прилагается.</p><a name="ID.3.section.5"><h3>Полезные приемы работы в CPT</h3></a><p>Предположим, что вам нужно спроектировать и настроить следующую сеть (<a href="#ID.3.image.3.6">рис. 3.6</a>). Рассмотрим, как можно ускорить и упростить этот процесс.</p><p align="left"><a name="ID.3.image.3.6"></a><div><img src="i/3/3_6.png" alt="Постановка задачи" width="587" height="230"></img></div><br></br><b>Рис. 3.6.</b> 
        Постановка задачи</p><p>Поместите в рабочую область первый ПК (это будет PC) и настройте его (<a href="#ID.3.image.3.7">рис. 3.7</a>).</p><p align="left"><a name="ID.3.image.3.7"></a><div><img src="i/3/3_7.png" alt="Настраиваем PC0" width="424" height="213"></img></div><br></br><b>Рис. 3.7.</b> 
        Настраиваем PC0</p><p>Удерживая клавишу Ctrl скопируйте этот ПК несколько раз и настройте остальные адреса ПК, меняя только последнюю цифру IP адреса (<a href="#ID.3.image.3.8">рис. 3.8</a>).</p><p align="left"><a name="ID.3.image.3.8"></a><div><img src="i/3/3_8.png" alt="Быстрое создание и настройка трех ПК" width="669" height="320"></img></div><br></br><b>Рис. 3.8.</b> 
        Быстрое создание и настройка трех ПК</p><p>Далее скопируйте, удерживая <b>Ctrl</b> сразу три ПК и настройте их также, меняя только последнюю цифру IP адреса (<a href="#ID.3.image.3.9">рис. 3.9</a>).</p><p align="left"><a name="ID.3.image.3.9"></a><div><img src="i/3/3_9.png" alt="Копируем все три ПК сразу" width="377" height="234"></img></div><br></br><b>Рис. 3.9.</b> 
        Копируем все три ПК сразу</p><p>Добавление свитча и хаб делаем традиционно, а подключение кабеля - автоматическое. </p><a name="ID.4.lecture"><h2><span class="lection_name">Лекция 4.</span> Моделирование сети с топологией звезда на базе коммутатора</h2></a><div class="annotation"></div><a name="ID.4.section.1"><h3></h3></a><p>Сначала немного теории. Hub работает на 1м уровне модели OSI и отправляет информацию во все порты, кроме порта – источника.  Switch работает на 2м уровне OSI и отправляет информацию только в порт назначения за счет использования таблицы MAC адресов хостов. В сетях IP существует 3 основных способа передачи данных: Unicast, Broadcast, Multicast.</p><ul><li>Unicast (юникаст) – процесс отправки пакета от одного хоста к другому хосту.</li><li>Multicast (мультикаст) – процесс отправки пакета от одного хоста к некоторой ограниченной группе хостов.</li><li>Broadcast (бродкаст) – процесс отправки пакета от одного хоста ко всем хостам в сети.</li></ul><p>В некотовых случаях switch может отправлять фреймы как hub, например, если фрейм бродкастовый (broadcast - широковещание) или unknown unicast (неизвестному единственному адресату).</p><a name="ID.4.section.2"><h3>Практическая работа 4-1. Моделирование сети с топологией звезда на базе коммутатора</h3></a><p>Работу сети с топологией звезда на базе концентратора мы уже изучили. Теперь рассмотрим аналогичную сеть на базе коммутатора (<a href="#ID.4.image.4.1">рис. 4.1</a>).</p><p align="left"><a name="ID.4.image.4.1"></a><div><img src="i/4/4_1.png" alt="Звезда на базе коммутатора модели 2960" width="216" height="274"></img></div><br></br><b>Рис. 4.1.</b> 
        Звезда на базе коммутатора модели 2960</p><p>Пример сети с топологией звезда на базе коммутатора (<a target="_blank" href="task-4-1.pkt"><img border="0" src="http://www.intuit.ru/img/icons/www.gif"></img></a> <a target="_blank" href="task-4-1.pkt">файл task-4-1.pkt</a>) прилагается.</p><p>На вкладке Physical вы можете посмотреть вид коммутатора, имеющего 24 порта Fast Ethernet и 2 порта Gigabit Ethernet (<a href="#ID.4.image.4.2">рис. 4.2</a>).</p><p align="left"><a name="ID.4.image.4.2"></a><div><img src="i/4/4_2.png" alt="Физический внешний вид коммутатора модели 2960" width="342" height="234"></img></div><br></br><b>Рис. 4.2.</b> 
        Физический внешний вид коммутатора модели 2960</p><p>В режиме Simulation настроим фильтры <img src="i/4/4_01.png" alt=""></img> и с помощью функции  <img src="i/4/4_02.png" alt=""></img> просмотрим прохождение пакета между двумя ПК через коммутатор. Как видим, маршруты пакетав концентраторе и коммутаторе будут разными: как в прямом, так и в обратном направлении хаб отправляет всем, а коммутатор – только одному.</p><a name="ID.4.section.3"><h3>Задание 4.1</h3></a><p>Произведите проектирование локальной сети из хаба, коммутатора и 4х ПК</p><p>Сеть, которую необходимо спроектировать представлена на <a href="#ID.4.image.4.3">рис. 4.3</a>.</p><p align="left"><a name="ID.4.image.4.3"></a><div><img src="i/4/4_3.png" alt="Проектируемая сеть" width="297" height="223"></img></div><br></br><b>Рис. 4.3.</b> 
        Проектируемая сеть</p><p>Произведите настройку и диагностику этой сети двумя способами (утилитой ping и в окне списка PDU. Убедитесь в успешности работы сети в режиме симуляции. </p><div class="xml_inset">
<b>Примечание</b>
<p>Перед выполнением симуляции необходимо задать фильтрацию пакетов. Для этого нужно нажать на кнопку "Изменить фильтры", откроется окно, в котором нужно оставить только протоколы "ICMP" и "ARP". Кнопка "Авто захват/Воспроизведение" подразумевает моделирование всего ping-процесса в едином процессе, тогда как "Захват/Вперед" позволяет отображать его пошагово. </p>
</div><a name="ID.4.section.4"><h3>Практическая работа 4-2. Исследование качества передачи трафика по сети</h3></a><p>При исследовании пропускной способности ЛВС (качества передачи трафика по сети) желательно увеличить размер пакета и отправлять запросы с коротким интервалом времени, не ожидая ответа от удаленного узла, для того, чтобы создать серьезную нагрузку на сеть. Однако, утилита ping не позволяет отправлять эхо-запрос без получения эхо-ответа на предыдущий запрос и до истечения времени ожидания.  Поэтому для организации существенного трафика воспользуемся программой Traffic Generator. Для работы создайте и настройте следующую сеть (<a href="#ID.4.image.4.4">рис. 4.4</a>).</p><p align="left"><a name="ID.4.image.4.4"></a><div><img src="i/4/4_4.png" alt="Топология сети для нашей работы" width="484" height="246"></img></div><br></br><b>Рис. 4.4.</b> 
        Топология сети для нашей работы</p><a name="ID.4.section.5"><h3>Первое знакомство с Traffic Generator</h3></a><p>В окне управления PC1 во вкладке Desktop выберите приложение Traffic Generator и задайте настройки, как на <a href="#ID.4.image.4.5">рис. 4.5</a> для передачи трафика от PC1 на PC8. Для ясности я рядом с английской версией окна разместил тот же текст в русской версии программы CPT.</p><p align="left"><a name="ID.4.image.4.5"></a><div><img src="i/4/4_5.png" alt="Настройка генератора трафика (Вариант трафика от PC1 до PC8)" width="492" height="322"></img></div><br></br><b>Рис. 4.5.</b> 
        Настройка генератора трафика (Вариант трафика от PC1 до PC8)</p><p>Итак, при помощи протокола ICMP мы сформировали трафик между компьютерами PC1 с адресом 192.168.0.1 и PC8 с адресом 192.168.0.8. При этом в разделе <b>Source Settings</b>  (Настройки источника) необходимо установить флажок <b>Auto Select Port</b>  (Автовыбор порта), а в разделе <b>PDU Settings</b>  (настройки IP-пакета) задать следующие значения параметров этого поля:</p><p><b>Select application</b>: PING </p><p><b>Destination: IPAddress</b>: 192.168.0.8 (адресполучателя); </p><p><b>Source IP Address</b>: 192.168.0.1 (адрес отправителя); </p><p><b>TTL</b>:32 (время жизни пакета); </p><p><b>TOS: </b>  0 (тип обслуживания, "0" - обычный, без приоритета); </p><p><b>Sequence Number</b>: 1 (начальное значение счетчика пакетов); </p><p><b>Size</b>: 1400 (размер поля данных пакета в байтах); </p><p><b>Simulations Settings</b>  - здесь необходимо активировать переключатель;</p><p><b>Periodic Interval</b>: 0.3 Seconds (период повторения пакетов)</p><div class="xml_inset">
<b>Внимание</b>
<p>Не обязательно использовать те настройки, которые задал автор. Можете указать свои, например, Size: 1500, PeriodicInterval: 0.5 Seconds. Однако, если неверно укажете IP источника, то генератор работать не будет.</p>
</div><p>После нажатия на кнопку <b>Send</b> (Послать) между PC1 и PC8 начнется активный обмен данными. Не закрывайте окно генератора трафика настройки, чтобы не прервать поток трафика - лампочки должны постоянно мигать! </p><div class="xml_inset">
<b>Новый термин</b>
<p>TTL - время жизни пакета. Наличие этого параметра не позволяет пакету бесконечно ходить по сети. TTL уменьшается на единицу на каждом узле (хопе), через который проходит пакет. </p>
</div><p>Пример сети для исследования качества передачи трафика по сети (<a target="_blank" href="task-4-2.pkt"><img border="0" src="http://www.intuit.ru/img/icons/www.gif"></img></a> <a target="_blank" href="task-4-2.pkt">файл task-4-2.pkt</a>) прилагается.</p><a name="ID.4.section.6"><h3>Исследование качества работы сети</h3></a><p>Для оценки качества работы сети передадим поток пакетов между РС1 и РС8 при помощи команды ping –n 200 192.168.0.8и будем оценивать качество работы сети по числу потерянных пакетов.  Параметр "–n" позволяет задать количество передаваемых эхо-запросов (у нас их 200) – <a href="#ID.4.image.4.6">рис. 4.6</a>.</p><p align="left"><a name="ID.4.image.4.6"></a><div><img src="i/4/4_6.png" alt="Отправляем 200 пакетов на PC8" width="347" height="317"></img></div><br></br><b>Рис. 4.6.</b> 
        Отправляем 200 пакетов на PC8</p><p>Одновременно с пингом, нагрузите сеть, включив генератор трафика на компьютере РС2 (узел назначения – РС8, размер поля данных–2500 байт, период повторения передачи - 0,1 сек. – <a href="#ID.4.image.4.7">рис. 4.7</a>.</p><p align="left"><a name="ID.4.image.4.7"></a><div><img src="i/4/4_7.png" alt="Увеличиваем нагрузку на сеть" width="302" height="315"></img></div><br></br><b>Рис. 4.7.</b> 
        Увеличиваем нагрузку на сеть</p><p>Для оценки качества работы сети - зафиксируйте число потерянных пакетов (<a href="#ID.4.image.4.8">рис. 4.8</a>).</p><p align="left"><a name="ID.4.image.4.8"></a><div><img src="i/4/4_8.png" alt="Потеряно 6 пакетов" width="368" height="157"></img></div><br></br><b>Рис. 4.8.</b> 
        Потеряно 6 пакетов</p><div class="xml_inset">
<b>Примечание</b>
<p>Как вариант можно было бы загрузить сеть путем организации еще одного потока трафика между какими-либо узлами сети, например, включив генератор трафика еще на ноутбуке PC3. </p>
</div><p>В заключение этой части нашей работы остановите Traffic Generator на всех узлах, нажав кнопку <b>Stop</b>. </p><a name="ID.4.section.7"><h3>Повышение пропускной способности локальной вычислительной сети</h3></a><p>Проверим тот факт, что установка коммутаторов вместо хабов устраняет возможность возникновения коллизий между пакетами пользователей сети. Замените центральный концентратор на коммутатор (<a href="#ID.4.image.4.9">рис. 4.9</a>).  Немного подождите и убедитесь, что сеть находится в рабочем состоянии - все маркеры портов не красные, а зеленые. </p><p align="left"><a name="ID.4.image.4.9"></a><div><img src="i/4/4_9.png" alt="Топология сети при замене центрального концентратора на коммутатор" width="488" height="241"></img></div><br></br><b>Рис. 4.9.</b> 
        Топология сети при замене центрального концентратора на коммутатор</p><p>Снова задайте поток пакетов между РС1 и РС8 при помощи команды ping –n 200 192.168.0.8и включите Traffic Generator на РС2. Проследите работу нового варианта сети. Убедитесь, что за счет снижения паразитного трафика качество работы сети стало выше (<p align="left"><a name="ID.4.image.4."></a><div><img src="i/4/4_10.png" alt="" width="407" height="66"></img></div><br></br><b>Рис. 4..</b> 
        </p>).</p><p align="left"><a name="ID.4.image.4.10"></a><div><img src="i/4/4_10.png" alt="Потерян 1 пакет" width="407" height="66"></img></div><br></br><b>Рис. 4.10.</b> 
        Потерян 1 пакет</p><a name="ID.4.section.8"><h3>Задание 2</h3></a><p>Проверьте самостоятельно, что замена не одного, а всех хабов коммутаторами существенно улучшит	качество передачи трафика в сети. Пример такой сети для исследования качества передачи трафика по сети (<a target="_blank" href="task-4-3.pkt"><img border="0" src="http://www.intuit.ru/img/icons/www.gif"></img></a> <a target="_blank" href="task-4-3.pkt">файл task-4-3.pkt</a>) прилагается.</p><a name="ID.5.lecture"><h2><span class="lection_name">Лекция 5.</span> Командная строка управления устройствами CLI. Виртуальные локальные сети VLAN </h2></a><div class="annotation"></div><a name="ID.5.section.1"><h3>Консоль</h3></a><p>Большинство сетевых устройств компании CISCO допускают конфигурирование. Для этого администратор сети должен подключиться к устройству через прямое кабельное (консольное) подключение (<a href="#ID.5.image.5.1">рис. 5.1</a>).</p><p align="left"><a name="ID.5.image.5.1"></a><div><img src="i/5/5_1.png" alt="Консольное подключение к сетевому устройству" width="328" height="221"></img></div><br></br><b>Рис. 5.1.</b> 
        Консольное подключение к сетевому устройству</p><p>Итак, программирование устройств CISCO чаще всего производят через консольный порт RJ-45. На <a href="#ID.5.image.5.2">рис. 5.2</a>  и <a href="#ID.5.image.5.3">рис. 5.3</a> приведены фотографии консольных разъёмов на маршрутизаторе и 2 варианта консольного кабеля.  </p><p align="left"><a name="ID.5.image.5.2"></a><div><img src="i/5/5_2.png" alt="Синим цветом показаны разъёмы под управляющий (консольный) кабель" width="389" height="209"></img></div><br></br><b>Рис. 5.2.</b> 
        Синим цветом показаны разъёмы под управляющий (консольный) кабель</p><p align="left"><a name="ID.5.image.5.3"></a><div><img src="i/5/5_3.png" alt="Варианты консольных кабелей" width="491" height="190"></img></div><br></br><b>Рис. 5.3.</b> 
        Варианты консольных кабелей</p><div class="xml_inset">
<b>Примечание</b>
<p>Классический консольный кабель имеет разъем DB9 для подключения к COM-порту компьютера и разъем RG-45 для подключения к консольному порту маршрутизатора. Сейчас Cisco активно продвигает новые маршрутизаторы серий 28хх, 38хх и т.д. В них предусмотрена возможность конфигурирования через USB-интерфейс (используются обычные USB-кабели). </p>
</div><p>Подключив консоль и получив доступ к устройству через командную строку, пользователь (администратор сети или сетевой инженер) может задавать различные команды и, тем самым, определять параметры конфигурации оборудования. </p><a name="ID.5.section.2"><h4>Режимы работы с устройством при использовании CLI</h4></a><p>Командная строка представляет собой место, куда пользователь вводит символы, формирующие управляющее воздействие. Работа с командной строкой осуществляется в нескольких режимах (<a href="#ID.5.table.5.1">таблица 5.1</a>). </p><div class="xml_table_env"><a name="ID.5.table.5.1"></a><table border="0" class="xml_table" cellpadding="2" cellspacing="1"><caption>
                    Таблица 5.1.
                    Режимы командного интерфейса </caption><tr><th valign="top" bgcolor="#d8d8d8">Режим</th><th valign="top" bgcolor="#d8d8d8">Переход в режим</th><th valign="top" bgcolor="#d8d8d8">Вид командной строки</th><th valign="top" bgcolor="#d8d8d8">Выход из режима</th></tr><tr><td valign="top" bgcolor="#eaeaea">Пользовательский</td><td valign="top" bgcolor="#eaeaea">Подключение</td><td valign="top" bgcolor="#eaeaea">Router&gt;</td><td valign="top" bgcolor="#eaeaea">logout</td></tr><tr><td valign="top" bgcolor="#eaeaea">Привилегированный</td><td valign="top" bgcolor="#eaeaea">Enable.</td><td valign="top" bgcolor="#eaeaea">Router#</td><td valign="top" bgcolor="#eaeaea">disable</td></tr><tr><td valign="top" bgcolor="#eaeaea">Глобальная конфигурация</td><td valign="top" bgcolor="#eaeaea">Configure terminal</td><td valign="top" bgcolor="#eaeaea">Router(config)#</td><td valign="top" bgcolor="#eaeaea">exit,end или Ctrl-Z</td></tr><tr><td valign="top" bgcolor="#eaeaea">Настройка интерфейсов</td><td valign="top" bgcolor="#eaeaea">Interface</td><td valign="top" bgcolor="#eaeaea">Router(config-if)</td><td valign="top" bgcolor="#eaeaea">еxit</td></tr></table></div><p>Несколько слов о виде командной строки:</p><p><b>Router&gt;</b> Приглашение, которое характеризует пользовательский режим, в котором можно просматривать некоторую статистику и проводить самые простые операции вроде пинга. Это режим для сетевого оператора, инженера первой линии техподдержки, чтобы он ничего не повредил и лишнего не узнал. Иными словами, команды в этом режиме позволяют выводить на экран информацию без смены установок сетевого устройства.</p><p><b>Router#</b> Приглашение в привилегированном режиме. Привилегированный режим поддерживает команды настройки и тестирования, детальную проверку сетевого устройства, манипуляцию с конфигурационными файлами и доступ в режим конфигурирования. Попасть в него можно, введя команду enable. </p><p><b>Router(config)#</b>Приглашение в режиме глобальной конфигурации. Он позволяет нам вносить изменения в настройки устройства. Команды режима глобального конфигурирования определяют поведение системы в целом. Активируется командой #configure terminal из привилегированного режима.</p><a name="ID.5.section.3"><h3>Практическая работа 5-1-1. Знакомство с командами Cisco IOS</h3></a><p>В Cisco Packet Tracer интерфейс командной строки для устройств доступен в окне настроек параметров сетевого устройства на вкладке "CLI". Это окно имитирует прямое кабельное (консольное) подключение к сетевому устройству. Работа с командной строкой (CLI) для настройки (программирования) сетевого производится с помощью команд операционной системы Cisco IOS (<a href="#ID.5.image.5.4">рис. 5.4</a>).</p><p align="left"><a name="ID.5.image.5.4"></a><div><img src="i/5/5_4.png" alt="Сеть для выполнения команд ОС CiscoIOS" width="330" height="146"></img></div><br></br><b>Рис. 5.4.</b> 
        Сеть для выполнения команд ОС CiscoIOS</p><p>Пример такой сети для знакомства с командами Cisco IOS (<a target="_blank" href="task-5-1.pkt"><img border="0" src="http://www.intuit.ru/img/icons/www.gif"></img></a> <a target="_blank" href="task-5-1.pkt">файл task-5-1.pkt</a>) прилагается.</p><p>Выше мы говорили о режимах командного интерфейса – пользовательском, привилегированном и глобального конфигурация. Проделайте все команды входа и выхода в эти режимы для Router1. При входе в сетевое устройство Router1 и нажатии на клавишу Enter командная строка имеет вид как на <a href="#ID.5.image.5.5">рис. 5.5</a>. Выход из пользовательского режима – <b>logout</b>.</p><p align="left"><a name="ID.5.image.5.5"></a><div><img src="i/5/5_5.png" alt="Вид командной строки в пользовательском режиме" width="491" height="173"></img></div><br></br><b>Рис. 5.5.</b> 
        Вид командной строки в пользовательском режиме</p><p>Чтобы получить доступ к полному набору команд, необходимо сначала активизировать привилегированный режим командой <b>enable</b>. О переходе в привилегированный режим будет свидетельствовать появление в командной строке приглашения в виде знака #. Выход из привилегированного режима производится командой <b>disable</b>.</p><div class="xml_inset">
<b>Примечание</b>
<p>Вместо <b>enable</b> можно было набрать <b>en</b>. Команды в любом режиме IOS распознаёт по первым уникальным символам.</p>
</div><p>Режим глобального конфигурирования — реализует мощные однострочные команды, которые решают задачи конфигурирования. Для входа в режим глобального конфигурирования используется команда привилегированного режима <b>configure terminal</b>. Выход командой <b>exit</b> или <b>end</b>.</p><a name="ID.5.section.4"><h3>Установка пароля на вход в привилегированный режим</h3></a><p>Пароль доступа позволяет вам контролировать доступ в привилегированный режим от неопытных пользователей и злоумышленников. Напомним, что только в привилегированном режиме можно вносить конфигурационные изменения. На Router1 установите пароль доступа в этот режим как "parol" командой <span class="texample">Router1(config)#enable password parol</span>, затем выйдите из привилегированного режима сетевого устройства, то есть перейдите в пользовательский режим. Попытайтесь снова зайти в привилегированный режим. Как видите, без ввода пароля это теперь невозможно (<a href="#ID.5.image.5.6">рис. 5.6</a>).</p><p align="left"><a name="ID.5.image.5.6"></a><div><img src="i/5/5_6.png" alt="Установка пароля на вход в привилегированный режим" width="448" height="239"></img></div><br></br><b>Рис. 5.6.</b> 
        Установка пароля на вход в привилегированный режим</p><p>Для изменения пароля введем новый пароль привилегированного режима (<a href="#ID.5.image.5.7">рис. 5.7</a>).</p><p align="left"><a name="ID.5.image.5.7"></a><div><img src="i/5/5_7.png" alt="Был пароль 12345, стал пароль 54321" width="430" height="148"></img></div><br></br><b>Рис. 5.7.</b> 
        Был пароль 12345, стал пароль 54321</p><p>Для сброса пароля можно произвести перезагрузку роутера (<a href="#ID.5.image.5.8">рис. 5.8</a>).</p><p align="left"><a name="ID.5.image.5.8"></a><div><img src="i/5/5_8.png" alt="Перезагрузка R1 командой reload" width="399" height="325"></img></div><br></br><b>Рис. 5.8.</b> 
        Перезагрузка R1 командой reload</p><div class="xml_inset">
<b>Советы при работе с CLI</b>
<p>Все команды в консоли можно сокращать, но, важно, чтобы сокращение однозначно указывало на команду. Используйте клавишу <b>Tab</b> и знак вопроса (?). По нажатию Tab сокращенная команда дописывается до полной, а знак вопроса (?), следующий за командой, выводит список дальнейших возможностей и небольшую справку по ним. Можно перейти к следующей команде, сохранённой в буфере. Для этого нажмите на Стрелку вниз или <b>Ctrl + N</b>. Можно вернуться к командам, введённым ранее. Нажмите на Стрелку вверх или <b>Ctrl + P</b> (<a href="#ID.5.image.5.9">рис. 5.9</a>).</p>
</div><p align="left"><a name="ID.5.image.5.9"></a><div><img src="i/5/5_9.png" alt="Стрелки Вверх или Вниз на клавиатуре позволяют листать ранее использованные вами команды" width="268" height="167"></img></div><br></br><b>Рис. 5.9.</b> 
        Стрелки Вверх или Вниз на клавиатуре позволяют листать ранее использованные вами команды</p><p>Активная конфигурация автоматически не сохраняется и будет потеряна в случае сбоя электропитания. Чтобы сохранить настройки роутера используйте команду <b>write memory</b> (<a href="#ID.5.image.5.10">рис. 5.10</a>).</p><p align="left"><a name="ID.5.image.5.10"></a><div><img src="i/5/5_10.png" alt="Сохранение текущей конфигурации R1" width="198" height="145"></img></div><br></br><b>Рис. 5.10.</b> 
        Сохранение текущей конфигурации R1</p><a name="ID.5.section.5"><h3>Задание 5.1</h3></a><p>Схема сети показана на <a href="#ID.5.image.5.11">рис. 5.11</a>.</p><p align="left"><a name="ID.5.image.5.11"></a><div><img src="i/5/5_11.png" alt="Схема сети" width="457" height="155"></img></div><br></br><b>Рис. 5.11.</b> 
        Схема сети</p><p>Нужно:</p><ol><li>Построить такую сеть</li><li>Изменить имя коммутаторов Cisco; </li><li>Обеспечить парольный доступ к привилегированному режиму на коммутаторах;</li><li>Задать ip-адреса и маски коммутаторам (172.16.1.11/24, 172.16.1.12/24, 172.16.1.13/24);</li><li>Задать ip-адреса и маски сетей персональным компьютерам. (172.16.1.1/24, 172.16.1.2/24,  172.16.1.3/24, 172.16.1.4/24);</li><li>Убедиться в достижимости всех объектов сети по протоколу IP;</li><li>Переключившись в "Режим симуляции" и рассмотреть и пояснить процесс обмена данными по протоколу ICMP между устройствами (выполнив команду Ping с одного компьютера на другой).</li></ol><a name="ID.5.section.6"><h3>Виртуальные локальные сети VLAN</h3></a><p>VLAN (Virtual Local Area Network) — виртуальная локальная компьютерная сеть из группы хостов с общим набором требований. VLAN позволяют хостам группироваться или дистанцироваться между собой. Устройства, в пределах одной VLAN могут общаться, а узлы, находящиеся в разных VLAN'ах, невидимы друг для друга. </p><a name="ID.5.section.7"><h4>Практическая работа 5-1-2. VLAN с одним коммутатором</h4></a><p>Для рисования ПК выбираем в конечных устройства настольный компьютер и, удерживая <b>Ctrl</b>, (так быстрее) нажмите 1 раз на ПК а затем рисуйте нужное кол-во ПК, щелкая мышкой (<a href="#ID.5.image.5.12">рис. 5.12</a>). Этим приемом вы сможете за один раз нарисовать сразу 4 ПК.</p><p align="left"><a name="ID.5.image.5.12"></a><div><img src="i/5/5_12.png" alt="Выбор устройств, удерживая Ctrl" width="162" height="208"></img></div><br></br><b>Рис. 5.12.</b> 
        Выбор устройств, удерживая Ctrl</p><p>Устанавливаем коммутатор и, удерживая Ctrl, создаем подключение прямым кабелем, выбирая порты коммутатора. После инициализации портов все лампы загорятся зеленым. На схему будет две подсети (<a href="#ID.5.image.5.13">рис. 5.13</a>)
.</p><p align="left"><a name="ID.5.image.5.13"></a><div><img src="i/5/5_13.png" alt="Две подсети: VLAN2 и VLAN3" width="232" height="226"></img></div><br></br><b>Рис. 5.13.</b> 
        Две подсети: VLAN2 и VLAN3</p><div class="xml_inset">
<b>Примечание</b>
<p>Имя VLAN1 используется по умолчанию, его лучше в нашем примере не использовать.</p>
</div><p>На коммутаторе набираем команду <b>en</b> и входим в привилегированный режим. Затем набираем команду <b>conf t</b> для входа в режим глобального конфигурирования. Если подвести курсор мыши к портам коммутатора, то вы увидите какие порты в каком сегменте задействованы. Для VLAN3 – это Fa0/3 и Fa0/4 (предположим, что это будет бухгалтерия - buh) и для VLAN2 – это Fa0/1 и Fa0/2 (предположим, что это будет склад – sklad). Сначала будем конфигурировать второй сегмент сети VLAN2 (sklad) – <a href="#ID.5.image.5.14">рис. 5.14</a>.</p><p align="left"><a name="ID.5.image.5.14"></a><div><img src="i/5/5_14.png" alt="VLAN2 получает имя sklad" width="443" height="74"></img></div><br></br><b>Рис. 5.14.</b> 
        VLAN2 получает имя sklad</p><p>В виртуальной сети VLAN2 настраиваем порты коммутатора Fa0/1 и Fa0/2 как access порты, т.е. порты для подключения пользователей (<a href="#ID.5.image.5.15">рис. 5.15</a>).</p><p align="left"><a name="ID.5.image.5.15"></a><div><img src="i/5/5_15.png" alt="Указываем порты коммутатора для подключения пользователей" width="371" height="252"></img></div><br></br><b>Рис. 5.15.</b> 
        Указываем порты коммутатора для подключения пользователей</p><p>Теперь командой <b>show vlan</b> можно проверить результат (<a href="#ID.5.image.5.16">рис. 5.16</a>).</p><p align="left"><a name="ID.5.image.5.16"></a><div><img src="i/5/5_16.png" alt="Подсеть VLAN2 склад настроена" width="430" height="226"></img></div><br></br><b>Рис. 5.16.</b> 
        Подсеть VLAN2 склад настроена</p><p>Далее работаем с VLAN3 (<a href="#ID.5.image.5.17">рис. 5.17</a>).</p><p align="left"><a name="ID.5.image.5.17"></a><div><img src="i/5/5_17.png" alt="VLAN3 получает имя buh" width="455" height="119"></img></div><br></br><b>Рис. 5.17.</b> 
        VLAN3 получает имя buh</p><p>В виртуальной сети VLAN3 настраиваем порты коммутатора Fa0/3 и Fa0/4 как <b>access</b> порты, т.е. порты для подключения пользователей, затем командой <b>show vlan</b> можно проверить и убедиться, что мы создали в сети 2 сегмента на разные порты коммутатора (<a href="#ID.5.image.5.18">рис. 5.18</a>).</p><p align="left"><a name="ID.5.image.5.18"></a><div><img src="i/5/5_18.png" alt="Мы настроили VLAN2 и VLAN3" width="395" height="347"></img></div><br></br><b>Рис. 5.18.</b> 
        Мы настроили VLAN2 и VLAN3</p><p>Настраиваем IP адреса компьютеров – для VLAN2 из сети 192.168.2.0, а для VLAN3 из сети 192.168.3.0 (<a href="#ID.5.image.5.19">рис. 5.19</a>).</p><p align="left"><a name="ID.5.image.5.19"></a><div><img src="i/5/5_19.png" alt="Настраиваем IP адреса компьютеров" width="210" height="217"></img></div><br></br><b>Рис. 5.19.</b> 
        Настраиваем IP адреса компьютеров</p><p>Проверяем связь ПК в пределах VLAN и отсутствие связи между VLAN2 и VLAN3 (<a href="#ID.5.image.5.20">рис. 5.20</a>).</p><p align="left"><a name="ID.5.image.5.20"></a><div><img src="i/5/5_20.png" alt="Все работает так, как было задумано" width="359" height="353"></img></div><br></br><b>Рис. 5.20.</b> 
        Все работает так, как было задумано</p><p>Итак, на компьютере ПК0 мы убедились, что компьютер в своем сегменте видит ПК, а в другом сегменте – нет.</p><p>Пример описанной выше и полностью настроенной VLAN (<a target="_blank" href="task-5-2.pkt"><img border="0" src="http://www.intuit.ru/img/icons/www.gif"></img></a> <a target="_blank" href="task-5-2.pkt">файл task-5-2.pkt</a>) прилагается.</p><a name="ID.5.section.8"><h3>Практическая работа 5-2-1. Настройка виртуальной сети на коммутаторе 2960</h3></a><p>В данной работе рассматривается настройка VLAN на коммутаторе фирмы Сisco в программе CPT. Мы уже делали подобную работу. Но здесь мы не только закрепим пройденное, но и узнаем ряд новых команд Cisco IOS.</p><p>Создайте сеть, топология которой представлена на <a href="#ID.5.image.5.21">рис. 5.21</a>. </p><p align="left"><a name="ID.5.image.5.21"></a><div><img src="i/5/5_21.png" alt="Схема сети с одним коммутатором" width="491" height="245"></img></div><br></br><b>Рис. 5.21.</b> 
        Схема сети с одним коммутатором</p><p>Задача данной работы является создание 2х независимых групп компьютеров: ПК1-ПК3 должны быть доступны только друг для друга, а вторая независимая группа - компьютеры ПК4 и ПК5.</p><a name="ID.5.section.9"><h4>Настройка коммутатора</h4></a><p>Первоначально сформируем VLAN2. Дважды щелкните левой кнопкой мыши по коммутатору. В открывшемся окне перейдите на вкладку <b>CLI</b>. Вы увидите окно консоли. Нажмите на клавишу <b>Enter</b> для того, чтобы приступить к вводу команд. Перейдем в привилегированный режим, выполнив команду <b>enable</b>:</p><p><b>Switch&gt;en </b></p><p>По умолчанию все ПК объединены в VLAN1. Для реализации сети, которую мы запланировали, создадим на коммутаторе еще два VLAN (2 и 3). Для этого в привилегированном режиме выполните следующую команду для перехода в режим конфигурации:</p><p><b>Switch#conf t</b></p><p>Теперь вводим команду <b>VLAN 2</b>. Данной командой вы создадите на коммутатореVLANс номером 2. Указатель ввода Switch (config)# изменится на Switch (config-vlan)# это свидетельствует о том, что вы конфигурируете уже не весь коммутатор в целом, а только отдельныйVLAN, в данном случаеVLANномер 2 (<a href="#ID.5.image.5.22">рис. 5.22</a>).</p><p align="left"><a name="ID.5.image.5.22"></a><div><img src="i/5/5_22.png" alt="Листинг команд для формирования VLAN2" width="416" height="223"></img></div><br></br><b>Рис. 5.22.</b> 
        Листинг команд для формирования VLAN2</p><div class="xml_inset">
<b>Примечание</b>
<p>Командой VLAN2, мы создаем на коммутаторе новый VLAN с номером 2. Команда <b>name subnet_5</b> присваивает имя subnet_5 виртуальной сети номер 2. Выполняя команду <b>interface range fast Ethernet 0/1-3</b> мы переходим к конфигурированию интерфейсов fastEthernet 0/1, fastEthernet 0/2 и fastEthernet 0/3 коммутатора. Слово range в данной команде, указывает на то, что мы будем конфигурировать не один порт, а диапазон портов. Команда <b>switch port mode access</b> конфигурирует выбранный порт коммутатора, как порт доступа (access порт). Команда <b>switch port access vlan 2</b> указывает, что данный порт является портом доступа для VLAN номер 2.</p>
</div><p>Выйдите из режима конфигурирования, дважды набрав команду <b>exit</b> и просмотрите результат конфигурирования (<a href="#ID.5.image.5.23">рис. 5.23</a>), выполнив команду <b>sh vl br</b>. Как видим, на коммутаторе появился VLAN с номером 2 и именем subnet_5, портами доступа которого являются fastEthernet 0/1, fastEthernet 0/2 и fastEthernet 0/3.</p><p align="left"><a name="ID.5.image.5.23"></a><div><img src="i/5/5_23.png" alt="Просмотр информации о VLAN на коммутаторе" width="393" height="221"></img></div><br></br><b>Рис. 5.23.</b> 
        Просмотр информации о VLAN на коммутаторе</p><div class="xml_inset">
<b>Примечание</b>
<p>Команда <b>shvlbr</b> выводит информацию о существующих на коммутаторе VLAN-ах. В результате выполнения команды на экране появится: <b>номера VLAN </b> (первый столбец), <b>название VLAN</b> (второй столбец), <b>состояние VLAN</b> (работает он или нет) – третий столбец, <b>порты</b>, принадлежащие к данному VLAN (четвертый столбец). </p>
</div><p>Далее аналогичным образом создадим <b>VLAN 3</b> с именем <b>subnet_6</b> и сделаем его портами доступа интерфейсы fastEthernet 0/4 и fastEthernet 0/5. Результат показан на <a href="#ID.5.image.5.24">рис. 5.24</a>.</p><p align="left"><a name="ID.5.image.5.24"></a><div><img src="i/5/5_24.png" alt="Результат – настройка на коммутатореVLAN2 и VLAN3" width="377" height="355"></img></div><br></br><b>Рис. 5.24.</b> 
        Результат – настройка на коммутатореVLAN2 и VLAN3</p><a name="ID.5.section.10"><h4>Проверка результатов работы</h4></a><p>Сеть настроена и нужно ее протестировать. Результат положителен, если в пределах своей VLAN компьютеры доступны, а компьютеры из разных VLAN не доступны (<a href="#ID.5.image.5.25">рис. 5.25</a>). У нас все пять компьютеров находя в
 одной сети 10.0.0.0/8, но они находятся в разных виртуальных локальных сетях.</p><p align="left"><a name="ID.5.image.5.25"></a><div><img src="i/5/5_25.png" alt="Пинг с PC1 на PC3 и PC4" width="374" height="257"></img></div><br></br><b>Рис. 5.25.</b> 
        Пинг с PC1 на PC3 и PC4</p><p>Пример описанной выше и полностью настроенной VLAN (<a target="_blank" href="task-5-1.pkt"><img border="0" src="http://www.intuit.ru/img/icons/www.gif"></img></a> <a target="_blank" href="task-5-1.pkt">файл task-5-1.pkt</a>) прилагается.</p><a name="ID.5.section.11"><h3>Практическая работа 5-2-2. VLAN с двумя коммутаторами. Разделяемый общий канал (транк)</h3></a><p>На практике часто возникает задача разделения устройств, подключенных к одному или нескольким коммутаторам на несколько непересекающихся локальных сетей. В случае, если используется только один коммутатор, то эта задача решается путем конфигурирования портов коммутатора, указав каждому порту к какой локальной сети он относится. Если же используется несколько коммутаторов (<a href="#ID.5.image.5.26">рис. 5.26</a>
), то необходимо между коммутаторами помимо данных передавать информацию к какой локальной сети относится кадр. Для этого был разработан стандарт 802.1Q. </p><p align="left"><a name="ID.5.image.5.26"></a><div><img src="i/5/5_26.png" alt="Виртуальные локальные сети (VLAN) с использованием двух коммутаторов" width="479" height="207"></img></div><br></br><b>Рис. 5.26.</b> 
        Виртуальные локальные сети (VLAN) с использованием двух коммутаторов</p><p>От теории перейдем к практике и произведем дублирование нашей сети (той, которая была показана ранее на <a href="#ID.5.image.5.21">рис. 5.21</a>). Для этого выделим всю сеть инструментом <b>Select</b> (Выделить), и, удерживая клавишу <b>Ctrl</b>, перетащим на новое место в рабочей области программы. Так мы произведем копирование (<a href="#ID.5.image.5.27">рис. 5.27</a>).</p><p align="left"><a name="ID.5.image.5.27"></a><div><img src="i/5/5_27.png" alt="Дублируем сеть с одним коммутатором" width="490" height="161"></img></div><br></br><b>Рис. 5.27.</b> 
        Дублируем сеть с одним коммутатором</p><p>Соединим коммутаторы перекрестным кабелем (кроссом) через самые производительные порты – Gigabit Ethernet (<a href="#ID.5.image.5.28">рис. 5.28</a>).</p><p align="left"><a name="ID.5.image.5.28"></a><div><img src="i/5/5_28.png" alt="Соединяем коммутаторы через Gigabit Ethernet порты" width="491" height="347"></img></div><br></br><b>Рис. 5.28.</b> 
        Соединяем коммутаторы через Gigabit Ethernet порты</p><p>Теперь поправим настройки на дубликате исходной сети (<a href="#ID.5.image.5.29">рис. 5.29</a>).</p><p align="left"><a name="ID.5.image.5.29"></a><div><img src="i/5/5_29.png" alt="Настраиваем сеть-дубликат" width="383" height="357"></img></div><br></br><b>Рис. 5.29.</b> 
        Настраиваем сеть-дубликат</p><p>Укажем новый вариант подсетей VLAN2 и VLAN3, а также выделим <b>trunk (транк)</b> связь коммутаторов (<a href="#ID.5.image.5.30">рис. 5.30</a>).</p><p align="left"><a name="ID.5.image.5.30"></a><div><img src="i/5/5_30.png" alt="В сети обозначаем подсети VLAN2 и VLAN3" width="491" height="378"></img></div><br></br><b>Рис. 5.30.</b> 
        В сети обозначаем подсети VLAN2 и VLAN3</p><a name="ID.5.section.12"><h4>Настраиваем транк порт Gig0/1</h4></a><p>При настройке Gig0/1 на коммутаторе Switch0 мы меняем состояние порта и указываем vlan 2 и 3 для работы с ним (<a href="#ID.5.image.5.31">рис. 5.31</a>).</p><p align="left"><a name="ID.5.image.5.31"></a><div><img src="i/5/5_31.png" alt="Настраиваем транк порт Gig0/1 на коммутаторе Switch0" width="395" height="323"></img></div><br></br><b>Рис. 5.31.</b> 
        Настраиваем транк порт Gig0/1 на коммутаторе Switch0</p><a name="ID.5.section.13"><h4>Настраиваем транк порт Gig0/2</h4></a><p>Транк порт Gig0/2 на коммутаторе CopySwitch0 настраиваем аналогично (<a href="#ID.5.image.5.32">рис. 5.32</a>).</p><p align="left"><a name="ID.5.image.5.32"></a><div><img src="i/5/5_32.png" alt="Настраиваем trunk порт Gig0/2 на коммутаторе CopySwitch0" width="518" height="187"></img></div><br></br><b>Рис. 5.32.</b> 
        Настраиваем trunk порт Gig0/2 на коммутаторе CopySwitch0</p><a name="ID.5.section.14"><h4>Диагностика результатов работы</h4></a><p>Проверяем пинг с PC1 в разные vlan (<a href="#ID.5.image.5.33">рис. 5.33</a>).Все отлично: в пределах своей vlan ПК доступны, а между ПК разных vlan связи нет.</p><p align="left"><a name="ID.5.image.5.33"></a><div><img src="i/5/5_33.png" alt="Пинг с PC1 в разные vlan" width="380" height="363"></img></div><br></br><b>Рис. 5.33.</b> 
        Пинг с PC1 в разные vlan</p><p>Пример описанной выше и полностью настроенной VLAN (<a target="_blank" href="task-5-2.pkt"><img border="0" src="http://www.intuit.ru/img/icons/www.gif"></img></a> <a target="_blank" href="task-5-2.pkt">файл task-5-2.pkt</a>) прилагается.</p><a name="ID.5.section.15"><h3>Практическая работа 5-3. Настройка виртуальной сети из двух свитчей и четырех ПК.</h3></a><p>Ниже мы рассмотрим как настроить VLAN из двух свитчей и четырех ПК.</p><p>Создайте сеть, топология которой представлена на <a href="#ID.5.image.5.34">рис. 5.34</a>. Пока в сети 10.0.0.0 нет разделения на VLAN - все компьютеры доступны между собой.</p><p align="left"><a name="ID.5.image.5.34"></a><div><img src="i/5/5_34.png" alt="Схема сети" width="415" height="312"></img></div><br></br><b>Рис. 5.34.</b> 
        Схема сети</p><p>Итак, подсети Vlan 2 принадлежат порты коммутаторов Fa0/2, а Vlan 3 принадлежат порты коммутаторов Fa0/1.</p><a name="ID.5.section.16"><h4>Настройка VLAN 2 и VLAN3</h4></a><p>Перейдите к настройке коммутатора Switch1. Откройте его консоль. В открывшемся окне перейдите на вкладку CLI, войдите в привилегированный режим и настройте VLAN 2 и VLAN3. Затем просмотрите информацию о существующих на коммутаторе VLAN-ах командой: <span class="texample">Switch1#sh vl br</span> (<a href="#ID.5.image.5.35">рис. 5.35</a>).</p><p align="left"><a name="ID.5.image.5.35"></a><div><img src="i/5/5_35.png" alt="Конфигурация Switch1" width="365" height="415"></img></div><br></br><b>Рис. 5.35.</b> 
        Конфигурация Switch1</p><p>Аналогичным образом сконфигурируйте Switch2, исходя из того, что по условиям задачи у нас Fa0/2 расположен в Vlan2, а Fa0/1 находится в Vlan 3 (это не всегда так). Результат конфигурирования S2 показан на <a href="#ID.5.image.5.36">рис. 5.36</a>.</p><p align="left"><a name="ID.5.image.5.36"></a><div><img src="i/5/5_36.png" alt="Конфигурация Switch2" width="386" height="428"></img></div><br></br><b>Рис. 5.36.</b> 
        Конфигурация Switch2</p><p>Итак, подсети Vlan 2 принадлежат порты коммутаторов Fa0/2, а Vlan 3 принадлежат порты коммутаторов Fa0/1. Поскольку в данный момент нет обмена информации о виланах, то все компьютеры разобщены (<a href="#ID.5.image.5.37">рис. 5.37</a>).</p><p align="left"><a name="ID.5.image.5.37"></a><div><img src="i/5/5_37.png" alt="Связей между ПК нет" width="433" height="382"></img></div><br></br><b>Рис. 5.37.</b> 
        Связей между ПК нет</p><a name="ID.5.section.17"><h4>Настройка связи коммутаторов через транковый порт</h4></a><p>Теперь организуем магистраль обмена между коммутаторами. Для этого настроим третий порт Fa0/3 на каждом коммутаторе как транковый. Войдите в консоль коммутатора <b>Switch1</b> и задайте транковый порт (<a href="#ID.5.image.5.38">рис. 5.38</a>).</p><p align="left"><a name="ID.5.image.5.38"></a><div><img src="i/5/5_38.png" alt="Настраиваем транковый порт на S1" width="412" height="252"></img></div><br></br><b>Рис. 5.38.</b> 
        Настраиваем транковый порт на S1</p><p>Откройте конфигурацию коммутатораS1 на интерфейсе FastEthernet 0/3 и убедитесь, что порт транковый (<a href="#ID.5.image.5.39">рис. 5.39</a>).</p><p align="left"><a name="ID.5.image.5.39"></a><div><img src="i/5/5_39.png" alt="Конфигурация интерфейса FastEthernet0/3 на Switch1" width="415" height="172"></img></div><br></br><b>Рис. 5.39.</b> 
        Конфигурация интерфейса FastEthernet0/3 на Switch1</p><p>На коммутаторе Switch2 интерфейс FastEthernet 0/3 автоматически настроится как транковый (<a href="#ID.5.image.5.40">рис. 5.40</a>).</p><p align="left"><a name="ID.5.image.5.40"></a><div><img src="i/5/5_40.png" alt="Конфигурация интерфейса FastEthernet0/3 на Switch2" width="381" height="157"></img></div><br></br><b>Рис. 5.40.</b> 
        Конфигурация интерфейса FastEthernet0/3 на Switch2</p><p>Теперь компьютеры, входящие в один виллан должны пинговаться, а компьютеры в разных виллах будут взаимно недоступны (<a href="#ID.5.image.5.41">рис. 5.41</a>).</p><p align="left"><a name="ID.5.image.5.41"></a><div><img src="i/5/5_41.png" alt="Проверка связи PC1 с ПК в VLAN 2 и VLAN 3" width="386" height="362"></img></div><br></br><b>Рис. 5.41.</b> 
        Проверка связи PC1 с ПК в VLAN 2 и VLAN 3</p><p>Пример, описанной выше и полностью настроенной VLAN (<a target="_blank" href="task-5-3.pkt"><img border="0" src="http://www.intuit.ru/img/icons/www.gif"></img></a> <a target="_blank" href="task-5-3.pkt">файл task-5-3.pkt</a>) прилагается.	</p><a name="ID.6.lecture"><h2><span class="lection_name">Лекция 6.</span> Cisco Server. Типы серверов </h2></a><div class="annotation"></div><a name="ID.6.section.1"><h3></h3></a><p>Как правило, сервер отдает в сеть свои ресурсы, а клиент эти ресурсы использует. Также, на серверах устанавливаются специализированное программное и аппаратное обеспечение.  На одном компьютере может работать одновременно несколько программ-серверов. Сервисы серверов часто определяют их название:</p><p><b>Cisco HTTP (WEB) сервер</b> – позволяет создавать простейшие веб-странички и проверять прохождение пакетов на 80-ый порт сервера. Эти серверы предоставляют доступ к веб-страницам и сопутствующим ресурсам, например, картинкам. </p><p><b>DHCP сервер</b> – позволяет организовывать пулы сетевых настроек для автоматического конфигурирования сетевых интерфейсов. Dynamic Host Configuration Protocol обеспечивает автоматическое распределение IP-адресов между компьютерами в сети. Такая технология широко применяется в локальных сетях с общим выходом в Интернет.</p><p><b>DNS сервер</b> – позволяет организовать службу разрешения доменных имён.Функция DNS-сервера заключается в преобразовании доменных имен серверов в IP-адреса. </p><p><b>Cisco EMAIL</b> – почтовый сервер, для проверки почтовых правил. Электронное письмо нельзя послать непосредственно получателю – сначала оно попадает на сервер, на котором зарегистрирована учетная запись отправителя. Тот, в свою очередь, отправляет "посылку" серверу получателя, с которого последний и забирает сообщение. </p><p><b>FTP</b> – файловый сервер. В его задачи входит хранение файлов и обеспечение доступа к ним клиентских ПК, например, по протоколу FTP. Ресурсы файл-сервера могут быть либо открыты для всех компьютеров в сети, либо защищены системой идентификации и правами доступа.</p><p>Итак, эмулятор сетевой среды Cisco Packet Tracer позволяет проводить настройку таких сетевых сервисов, как: HTTP, DHCP, DNS, EMAIL, FTP и ряда других в составе сервера сети. Рассмотрим настойку некоторых из них.</p><a name="ID.6.section.2"><h3>Практическая работа 6-1-1. Настраиваем WEB сервер</h3></a><p>Топология для наших исследований приведена на <a href="#ID.6.image.6.1">рис. 6.1</a>.</p><p align="left"><a name="ID.6.image.6.1"></a><div><img src="i/6/6_1.png" alt="Схема сети" width="293" height="186"></img></div><br></br><b>Рис. 6.1.</b> 
        Схема сети</p><a name="ID.6.section.3"><h4>Создаем WEB-документ на сервере</h4></a><p>Для создания HTTP-сервера открываем на сервере вкладку HTTP и редактируем первую страницу сайта с названием <b>index.html</b>. Включаем службу HTTP переключателем On (<a href="#ID.6.image.6.2">рис. 6.2</a>).</p><p align="left"><a name="ID.6.image.6.2"></a><div><img src="i/6/6_2.png" alt="Вкладка Config, служба сервера HTTP" width="491" height="329"></img></div><br></br><b>Рис. 6.2.</b> 
        Вкладка Config, служба сервера HTTP</p><div class="xml_inset">
<b>Примечание</b>
<p>В этом окне можно добавить новую страницу кнопкой <img src="i/6/6_01.png" alt=""></img> или удалить текущую кнопкой <img src="i/6/6_02.png" alt=""></img>. Переключение между несколькими страницами осуществляется кнопками <img src="i/6/6_03.png" alt=""></img>.</p>
</div><p>В окнеhtmlкода создаем текст первой страницы сайта <b>index.html</b>. Вариант 1 (<a href="#ID.6.image.6.3">рис. 6.3</a>).</p><div class="example"><pre>&lt;html&gt;
&lt;body&gt;
&lt;h1&gt;Welcome to WEB-Server CISCO!&lt;/h1&gt;
&lt;p&gt;Server working: &lt;font color="red"&gt;&lt;b&gt;OK!&lt;/b&gt;&lt;/font&gt;&lt;/p&gt;
&lt;/body&gt;
&lt;/html&gt;
</pre></div><p align="left"><a name="ID.6.image.6.3"></a><div><img src="i/6/6_3.png" alt="Текст web-страницы, вариант 1" width="408" height="177"></img></div><br></br><b>Рис. 6.3.</b> 
        Текст web-страницы, вариант 1</p><p>Либо вариант 2 (<a href="#ID.6.image.6.4">рис. 6.4</a>).</p><div class="example"><pre>&lt;html&gt;
&lt;center&gt;&lt;font size='+2' color='blue'&gt;Welcome to Cisco Packet Tracer HTML Server! &lt;/font&gt;&lt;/center&gt;
&lt;body&gt;
Hello!&lt;br/&gt;I am OK!
&lt;/body&gt;
&lt;/html&gt;
</pre></div><p align="left"><a name="ID.6.image.6.4"></a><div><img src="i/6/6_4.png" alt="Текст web-страницы, вариант 2" width="422" height="175"></img></div><br></br><b>Рис. 6.4.</b> 
        Текст web-страницы, вариант 2</p><div class="xml_inset">
<b>Совет</b>
<p>Текст можно переносить в это окно через буфер обмена. Он может быть только на английском языке</p>
</div><p>Для того, чтобы проверить работоспособность нашего сервера, открываем клиентскую машину (10.0.0.2 или 10.0.0.3) и на вкладке <b>Desktop</b> (Рабочий стол) запускаем приложение <b>Web Browser</b>. После чего набираем адрес нашего WEB-сервера 10.0.0.1 и нажимаем на кнопку <b>GO</b>. Убеждаемся, что наш веб-сервер работает.</p><p>Описанная выше и полностью настроенной сеть с WEB сервером (<a target="_blank" href="task-6-1.pkt"><img border="0" src="http://www.intuit.ru/img/icons/www.gif"></img></a> <a target="_blank" href="task-6-1.pkt">файл task-6-1.pkt</a>) прилагается.</p><a name="ID.6.section.4"><h3>Практическая работа 6-1-2. Настройка сетевых сервисов DNS, DHCP и Web</h3></a><p>Создайте схему сети, представленную на <a href="#ID.6.image.6.5">рис. 6.5</a>.</p><p align="left"><a name="ID.6.image.6.5"></a><div><img src="i/6/6_5.png" alt="Схема сети" width="270" height="317"></img></div><br></br><b>Рис. 6.5.</b> 
        Схема сети</p><p>Наша задача состоит в том, чтобы настроить Server1 как DNS и Web-сервер, а Server2 как DHCP сервер. Напомню, что работа DNS-сервера заключается в преобразовании доменных имен серверовв IP-адреса. DHCP сервер позволяет организовывать пулы для автоматического конфигурирования сетевых интерфейсов, то есть, обеспечивает автоматическое распределение IP-адресов между компьютерами в сети. Иначе говоря, в нашем случае компьютеры получают IP-адреса благодаря сервису DHCP Server2 и открывают, например, сайт <a target="_blank" href="www.yandex.ru">www.yandex.ru</a> на Server1.</p><a name="ID.6.section.5"><h4>Настраиваем IP адреса серверов и DHCP на ПК</h4></a><p>Войдите в конфигурацию PC1 и PC2 и установите настройку IP через DHCP сервер <a href="#ID.6.image.6.6">рис. 6.6</a>.</p><p align="left"><a name="ID.6.image.6.6"></a><div><img src="i/6/6_6.png" alt="Настройка IPна PC1" width="256" height="176"></img></div><br></br><b>Рис. 6.6.</b> 
        Настройка IPна PC1</p><p>Задайте в конфигурации серверов настройки IP: Server1 – 10.0.0.1 (<a href="#ID.6.image.6.7">рис. 6.7</a>), Server2 – 10.0.0.2 (<a href="#ID.6.image.6.8">рис. 6.8</a>). Маска подсети установится автоматически как 255.0.0.0. </p><p align="left"><a name="ID.6.image.6.7"></a><div><img src="i/6/6_7.png" alt="" width="255" height="239"></img></div><br></br><b>Рис. 6.7.</b> 
        </p><p align="left"><a name="ID.6.image.6.8"></a><div><img src="i/6/6_8.png" alt="" width="309" height="238"></img></div><br></br><b>Рис. 6.8.</b> 
        </p><a name="ID.6.section.6"><h4>Настройка служб DNS и HTTP на Server1</h4></a><p>В конфигурации Server1 войдите на вкладку DNS и задайте две ресурсные записи (Resource Records) в прямой зоне DNS.</p><div class="xml_inset">
<b>Новый термин</b>
<p><span class="keyword_def">Зона DNS</span> — часть дерева доменных имен (включая ресурсные записи), размещаемая как единое целое на сервере доменных имен (DNS-сервере). В зоне прямого просмотра на запрос доменного имени идет ответ в виде IP адреса. В зоне обратного просмотра по IP мы узнаем доменное имя ПК.</p>
</div><p>Сначала в ресурсной записи типа <b>A Record</b> свяжите доменное имя компьютера <b>server1.yandex.ru</b> с его <b>IP адресом 10.0.0.1</b> и нажмите на кнопку <b>Add</b> (добавить) и активируйте переключатель <b>On</b> – <a href="#ID.6.image.6.9">рис. 6.9</a>.</p><p align="left"><a name="ID.6.image.6.9"></a><div><img src="i/6/6_9.png" alt="Ввод ресурсной записи типа A Record" width="491" height="214"></img></div><br></br><b>Рис. 6.9.</b> 
        Ввод ресурсной записи типа A Record</p><p>Далее в ресурсной записи типа <b>CNAME</b> свяжите название сайта <a target="_blank" href="www.yandex.ru">www.yandex.ru</a> с сервером и нажмите на кнопку <b>Add</b> (добавить) – <a href="#ID.6.image.6.10">рис. 6.10</a>.</p><p align="left"><a name="ID.6.image.6.10"></a><div><img src="i/6/6_10.png" alt="Ввод ресурсной записи типа CNAME" width="491" height="265"></img></div><br></br><b>Рис. 6.10.</b> 
        Ввод ресурсной записи типа CNAME</p><p>В результате должно получиться следующее (<a href="#ID.6.image.6.11">рис. 6.11</a>).</p><p align="left"><a name="ID.6.image.6.11"></a><div><img src="i/6/6_11.png" alt="Служба DNS в прямой зоне" width="420" height="233"></img></div><br></br><b>Рис. 6.11.</b> 
        Служба DNS в прямой зоне</p><p>Теперь настроим службу HTTP. В конфигурации Server1 войдите на вкладку HTTP и создайте стартовую страницу сайта <a target="_blank" href="www.yandex.ru">www.yandex.ru</a> (<a href="#ID.6.image.6.12">рис. 6.12</a>).</p><p align="left"><a name="ID.6.image.6.12"></a><div><img src="i/6/6_12.png" alt="Стартовая страница сайта" width="620" height="155"></img></div><br></br><b>Рис. 6.12.</b> 
        Стартовая страница сайта</p><p>Включите командную строку на Server1 и проверьте работу службы DNS. Для проверки правильности работы прямой зоны DNS сервера введите команду <span class="texample">SERVER&gt;nslookup</span> <a target="_blank" href="www.yandex.ru">www.yandex.ru</a>. Если все правильно настроено, то вы получите отклик на запрос с указанием доменного имени DNS сервера в сети и его IP адреса (<a href="#ID.6.image.6.13">рис. 6.13</a>).</p><p align="left"><a name="ID.6.image.6.13"></a><div><img src="i/6/6_13.png" alt="Служба DNSв прямой зоне DNSна Server1 настроена правильно" width="266" height="275"></img></div><br></br><b>Рис. 6.13.</b> 
        Служба DNSв прямой зоне DNSна Server1 настроена правильно</p><div class="xml_inset">
<b>Примечание</b>
<p>Команда <b>nslookup</b> служит для определения ip-адреса по доменному имени (и наоборот).</p>
</div><a name="ID.6.section.7"><h4>Настройка службы DHCP на Server2</h4></a><p>Войдите в конфигурацию Server2 и на вкладке DHCP настройте службу DHCP. Для этого наберите новые значения пула, установите переключатель <b>On</b> и нажмите на кнопку <b>Save</b> (Сохранить) - <a href="#ID.6.image.6.14">рис. 6.14</a>.</p><p align="left"><a name="ID.6.image.6.14"></a><div><img src="i/6/6_14.png" alt="Настройка DHCPсервера." width="491" height="284"></img></div><br></br><b>Рис. 6.14.</b> 
        Настройка DHCPсервера.</p><a name="ID.6.section.8"><h4>Проверка работы клиентов</h4></a><p>Войдите в конфигурации хоста PC1и PC2 и в командной строке сконфигурируйте протокол TCP/IP. Для этого командой <span class="texample">PC&gt; ipconfig /release</span> сбросьте (очистите) старые параметры IP адреса (<a href="#ID.6.image.6.15">рис. 6.15</a>).</p><p align="left"><a name="ID.6.image.6.15"></a><div><img src="i/6/6_15.png" alt="Удаление конфигурации IP-адресов для всех адаптеров" width="326" height="209"></img></div><br></br><b>Рис. 6.15.</b> 
        Удаление конфигурации IP-адресов для всех адаптеров</p><div class="xml_inset">
<b>Примечание</b>
<p>Команда <b>ipconfig /release</b> отправляет сообщение <b>DHCP RELEASE</b> серверу DHCP для освобождения текущей конфигурации DHCP и удаления конфигурации IP-адресов для всех адаптеров (если адаптер не задан). Этот ключ отключает протокол TCP/IP для адаптеров, настроенных для автоматического получения IP-адресов.</p>
</div><p>Теперь командой <span class="texample">PC&gt; ipconfig /renew</span> получите новые параметры от DHCP сервера (<a href="#ID.6.image.6.16">рис. 6.16</a>).</p><p align="left"><a name="ID.6.image.6.16"></a><div><img src="i/6/6_16.png" alt="Конфигурация протокол TCP/IP клиента от DHCP сервера" width="343" height="213"></img></div><br></br><b>Рис. 6.16.</b> 
        Конфигурация протокол TCP/IP клиента от DHCP сервера</p><p>Аналогично поступите для PC2 (<a href="#ID.6.image.6.17">рис. 6.17</a>).</p><p align="left"><a name="ID.6.image.6.17"></a><div><img src="i/6/6_17.png" alt="PC2 получил IP адрес от DHCP сервера Server2" width="341" height="322"></img></div><br></br><b>Рис. 6.17.</b> 
        PC2 получил IP адрес от DHCP сервера Server2</p><p>Осталось проверить работу WEB сервера Server1 и открыть сайт <a target="_blank" href="www.yandex.ru">www.yandex.ru</a> в браузере на PC1 или PC2 (<a href="#ID.6.image.6.18">рис. 6.18</a>).</p><p align="left"><a name="ID.6.image.6.18"></a><div><img src="i/6/6_18.png" alt="Проверка работы службы HTTP на Server1" width="306" height="201"></img></div><br></br><b>Рис. 6.18.</b> 
        Проверка работы службы HTTP на Server1</p><p>Описанная в данном примере и полностью работоспособная сеть с настройками сетевых сервисов DNS, DHCP и Web (<a target="_blank" href="task-6-2.pkt"><img border="0" src="http://www.intuit.ru/img/icons/www.gif"></img></a> <a target="_blank" href="task-6-2.pkt">файл task-6-2.pkt</a> прилагается.</p><a name="ID.6.section.9"><h3>Примеры работы маршрутизатора в роли DHCP сервера</h3></a><p>Маршрутизация (routing) – процесс определения маршрута следования информации в сетях связи. Задача маршрутизации состоит в определении последовательности транзитных узлов для передачи пакета от источника до адресата.  Определение маршрута следования и продвижение IP-пакетов выполняют специализированные сетевые устройства – маршрутизаторы. Каждый маршрутизатор имеет от двух и более сетевых интерфейсов, к которым подключены: локальные сети либо маршрутизаторы соседних сетей. </p><div class="xml_inset">
<b>Новый термин</b>
<p><span class="keyword_def">Маршрутизатор (router, роутер)</span> – сетевое устройство третьего уровня модели OSI, обладающее как минимум двумя сетевыми интерфейсами, которые находятся в разных сетях. Маршрутизатор может иметь интерфейсы: для работы по медному кабелю,  оптическому кабелю, так и по беспроводным "линиям" связи. </p>
</div><p>Выбор маршрута маршрутизатор осуществляет на основе таблицы маршрутизации. Таблицы маршрутизации содержат информацию о сетях, и интерфейсов, через которые осуществляется подключение непосредственно, а также содержатся сведения о маршрутах или путях, по которым маршрутизатор связывается с удаленными сетями, не подключенными к нему напрямую. Эти маршруты могут назначаться администратором статически или определяться динамически при помощи программного протокола маршрутизации. Таблица маршрутизации содержит набор правил – записей, состоящих из определенных полей. Каждое правило содержит следующие основные поля-компоненты:</p><ul><li>адрес IP-сети получателя,</li><li>маску,</li><li>адрес следующего узла, которому следует передавать пакеты,</li><li>административное расстояние — степень доверия к источнику маршрута,</li><li>метрику - некоторый вес - стоимость маршрута,</li><li>интерфейс, через который будут продвигаться данные.</li></ul><p>Пример таблицы маршрутизации:</p><p align="left"><a name=""></a><div><img src="i/6/6_04.png" alt=""></img></div><br></br></p><p>Протокол DHCP представляет собой стандартный протокол, который позволяет серверу динамически присваивать клиентам IP-адреса и сведения о конфигурации. Идея работы DHCP сервиса такова: на ПК заданы настройки получения ip адреса автоматически. После включения и загрузки каждый ПК отправляет широковещательный запрос в своей сети с вопросом "Есть здесь DHCP сервер - мне нужен ip адрес?". Данный запрос получают все компьютере в подсети, но ответит на этот запрос только DHCP сервер, который отправит компьютеру свободный ip адрес из пула, а также маску и адрес шлюза по умолчанию. Компьютер получает параметры от DHCP сервера и применяет их. После перезагрузки ПК снова отправляет широковещательный запрос и может получить другой ip адрес (первый свободный который найдется в пуле адресов на DHCP сервере).</p><p>Маршрутизатор можно сконфигурировать как DHCP сервер. Иначе говоря, вы можете программировать интерфейс маршрутизатора на раздачу настроек для хостов.Системный администратор настраивает на сервере DHCP параметры, которые передаются клиенту. Как правило, сервер DHCP предоставляет клиентам по меньшей мере: IP-адрес, маску подсети и основной шлюз. Однако предоставляются и дополнительные сведения, такие, например, как адрес сервера DNS. </p><a name="ID.6.section.10"><h3>Практическая работа 6-2-1a. Конфигурирование DHCP сервера на маршрутизаторе</h3></a><p>Схема сети приведена на <a href="#ID.6.image.6.19">рис. 6.19</a>. С помощью настроек ПК, представленных на рисунке, мы указываем хосту, что он должен получатьIP адрес, адрес основного шлюза и адрес DNS сервера от DHCP сервера. </p><p align="left"><a name="ID.6.image.6.19"></a><div><img src="i/6/6_19.png" alt="Схема сети" width="305" height="100"></img></div><br></br><b>Рис. 6.19.</b> 
        Схема сети</p><p>Произведем настройку R0:</p><p><b>Router (config)#ip dhcp pool TST</b> создаем пул IP адресов для DHCP сервера с именем TST</p><p><b>Router (dhcp-config)#network 192.168.1.0 255.255.255.0</b> указываем из какой сети мы будем раздавать IP адреса (первый параметр - адрес данной сети, а второй параметр ее маска)</p><p><b>Router (dhcp-config)#default-router 192.168.1.1</b> указываем адрес основного шлюза, который  будет рассылать в сообщениях DHCP</p><p><b>Router (dhcp-config)#dns-server  5.5.5.5</b> указываем адрес DNS сервера, который так же будет рассылаться хостам в сообщениях DHCP</p><p><b>Router (dhcp-config)#exit</b></p><p><b>Router (config)#ip dhcp excluded-address 192.168.1.1</b> этот хост исключен из пула, то есть, ни один из хостов сети не получит от DHCP сервера этот адрес.</p><p>Полный листинг этих команд приведен на <a href="#ID.6.image.6.20">рис. 6.20</a>.</p><p align="left"><a name="ID.6.image.6.20"></a><div><img src="i/6/6_20.png" alt="Команды для конфигурирования R0" width="417" height="229"></img></div><br></br><b>Рис. 6.20.</b> 
        Команды для конфигурирования R0</p><p>Проверим результат получения динамических параметров для PC0 (<a href="#ID.6.image.6.21">рис. 6.21</a>).</p><p align="left"><a name="ID.6.image.6.21"></a><div><img src="i/6/6_21.png" alt="DHCPработает" width="285" height="207"></img></div><br></br><b>Рис. 6.21.</b> 
        DHCPработает</p><p>Проверим работоспособность DHCP сервера на хосте PC0 командой <b>ipconfig /all</b> (<a href="#ID.6.image.6.22">рис. 6.22</a>).</p><p align="left"><a name="ID.6.image.6.22"></a><div><img src="i/6/6_22.png" alt="Хост получил настройки от DHCP сервера" width="432" height="323"></img></div><br></br><b>Рис. 6.22.</b> 
        Хост получил настройки от DHCP сервера</p><p>Хост успешно получил IP адрес, адрес шлюза и адрес DNS сервера от DHCP сервера R0.</p><a name="ID.6.section.11"><h3>Практическая работа 6-2-1b. Пример настройки интерфейса маршрутизатора в качестве DHCP клиента</h3></a><p>Схема сети показана на <a href="#ID.6.image.6.23">рис. 6.23</a>.</p><p align="left"><a name="ID.6.image.6.23"></a><div><img src="i/6/6_23.png" alt="Схема сети" width="262" height="244"></img></div><br></br><b>Рис. 6.23.</b> 
        Схема сети</p><p>Конфигурируем интерфейс Fa0/0 для R1 (<a href="#ID.6.image.6.24">рис. 6.24</a>).</p><p align="left"><a name="ID.6.image.6.24"></a><div><img src="i/6/6_24.png" alt="Конфигурируем интерфейс маршрутизатора" width="1102" height="423"></img></div><br></br><b>Рис. 6.24.</b> 
        Конфигурируем интерфейс маршрутизатора</p><p>Наблюдаем результат (<a href="#ID.6.image.6.25">рис. 6.25</a>).</p><p align="left"><a name="ID.6.image.6.25"></a><div><img src="i/6/6_25.png" alt="DHCP не работает" width="291" height="205"></img></div><br></br><b>Рис. 6.25.</b> 
        DHCP не работает</p><p>После настройки интерфейса роутера на получение настроек по DHCP, DHCP клиент на PC1 перестал получать IP-адрес – IP из диапазона 169.254.x.x/16 назначается автоматически самим ПК при проблемах с получением адреса по DHCP. Интерфейс роутера IP-адрес так же не получит т.к. в данной подсети нет DHCP серверов. Описанные выше схемы представлены в виде одного файла - <a target="_blank" href="task-6-3.pkt"><img border="0" src="http://www.intuit.ru/img/icons/www.gif"></img></a> <a target="_blank" href="task-6-3.pkt">task-6-3.pkt</a>.</p><a name="ID.6.section.12"><h3>Практическая работа 6-2-2. DHCP сервис на маршрутизаторе 2811</h3></a><p>В этом примере мы будем конфигурировать маршрутизатор 2811, а именно, настраивать на нем DHCP сервер, который будет выдавать по DHCP адреса из сети 192.168.1.0 (<a href="#ID.6.image.6.26">рис. 6.26</a>). PC1 и PC2 буду получать настройки динамически, а для сервера желательно иметь постоянный адрес, т.е., когда он задан статически. </p><p align="left"><a name="ID.6.image.6.26"></a><div><img src="i/6/6_26.png" alt="Схема сети" width="269" height="231"></img></div><br></br><b>Рис. 6.26.</b> 
        Схема сети</p><div class="xml_inset">
<b>Примечание</b>
<p>Как устройство с постоянным адресом здесь можно включить еще и принтер.</p>
</div><a name="ID.6.section.13"><h3>Резервируем 10 адресов</h3></a><div class="example"><pre>R1 (config)#ip dhcp excluded-address 192.168.1.1 192.168.1.10</pre></div><div class="xml_inset">
<b>Примечание</b>
<p>Этой командой мы обязали маршрутизатор R1 не выдавать адреса с 192.168.1.1 по 192.168.1.10 потому, что адрес 192.168.1.1 будет использоваться самим маршрутизатором как шлюз, а остальные адреса мы зарезервируем под различные хосты этой сети. </p>
</div><p>Таким образом, первый DHCP адрес, который выдаст R1 равен <b>192.168.1.11</b>.</p><a name="ID.6.section.14"><h3>Создаем пул адресов, которые будут выдаваться из сети 192.168.1.0</h3></a><div class="example"><pre>R1 (config)#ip dhcp pool POOL1
R1 (dhcp-config)#network 192.168.1.0 255.255.255.0
R1 (dhcp-config)#default-router 192.168.1.1
R1 (dhcp-config)#domain-name my-domain.com
R1 (dhcp-config)#dns-server 192.168.1.5
</pre></div><div class="xml_inset">
<b>Примечание</b>
<p>Согласно этим настройкам выдавать адреса из сети 192.168.1.0 (кроме тех, что мы исключили) будет маршрутизатор R1 через шлюз 192.168.1.1. </p>
</div><a name="ID.6.section.15"><h3>Настраиваем интерфейс маршрутизатора</h3></a><div class="example"><pre>R1 (config)#interfacefa0/0
R1 (config-if)#ip address 192.168.1.1 255.255.255.0
R1 (config-if)#no shutdown
R1 (config-if)#exit
R1(config)#exit
R1#
</pre></div><div class="xml_inset">
<b>Примечание</b>
<p>Команда <b>no shut</b> (сокращение от no shutdown) используется для того, чтобы бы интерфейс был активным. Обратная команда – shut, выключит интерфейс.</p>
</div><a name="ID.6.section.16"><h3>Проверка результата</h3></a><p>Теперь оба ПК получили настройки и командой <span class="texample">R1#show ip dhcp binding</span> можно посмотреть на список выданных роутером адресов (<a href="#ID.6.image.6.27">рис. 6.27</a>).</p><p align="left"><a name="ID.6.image.6.27"></a><div><img src="i/6/6_27.png" alt="Адреса выдаются автоматически, начиная с адреса 192.168.1.11" width="470" height="191"></img></div><br></br><b>Рис. 6.27.</b> 
        Адреса выдаются автоматически, начиная с адреса 192.168.1.11</p><p>Итак, мы видим, что протокол DHCP позволяет производить автоматическую настройку сети на всех компьютерах (<a href="#ID.6.image.6.28">рис. 6.28</a>).</p><p align="left"><a name="ID.6.image.6.28"></a><div><img src="i/6/6_28.png" alt="PC1 и PC2 получают IP адреса от DHCP сервера" width="491" height="193"></img></div><br></br><b>Рис. 6.28.</b> 
        PC1 и PC2 получают IP адреса от DHCP сервера</p><p>Рабочая сеть данного примера прилагается виде файла - <a target="_blank" href="task-6-4.pkt"><img border="0" src="http://www.intuit.ru/img/icons/www.gif"></img></a> <a target="_blank" href="task-6-4.pkt">task-6-4.pkt</a>.</p><a name="ID.7.lecture"><h2><span class="lection_name">Лекция 7.</span> Статическая маршрутизация </h2></a><div class="annotation"></div><a name="ID.7.section.1"><h3></h3></a><p>Таблица маршрутизации может составляться двумя способами: статично и динамично. В случае <span class="keyword_def">статической маршрутизации</span> записи в таблице вводятся и изменяются вручную. Такой способ требует вмешательства администратора каждый раз, когда происходят изменения в топологии сети. С другой стороны, он является наиболее стабильным и требующим минимума аппаратных ресурсов маршрутизатора для обслуживания таблицы. При <span class="keyword_def"> динамической маршрутизации </span> записи в таблице обновляются автоматически при помощи одного или нескольких протоколов маршрутизации — RIP, OSPF, IGRP, EIGRP и др. Кроме того, маршрутизатор строит таблицу оптимальных путей к сетям назначения на основе различных критериев (метрик), таких, как: количества промежуточных узлов, пропускной способности каналов, задержки передачи данных и т. п. Динамическая маршрутизация оказывает дополнительную нагрузку на устройства, а высокая нестабильность сети может приводить к ситуациям, когда маршрутизаторы не успевают синхронизировать свои таблицы, что приводит к противоречивым сведениям о топологии сети в различных её частях и потере передаваемых данных.</p><div class="xml_inset">
<b>Новый термин</b>
<p><span class="keyword_def">Статическая маршрутизация</span> — вид маршрутизации, при котором информация о маршрутах заносится в таблицы маршрутизации каждого маршрутизатора вручную администратором сети. Отсюда сразу же вытекает ряд недостатков. Прежде всего это очень плохая масштабируемость сетей, так как при добавлении N+1 сети потребуется сделать 2*(N+1) записей о маршрутах. Но, при использовании статических записей процессору маршрутизатора не требуется производить никаких расчетов, связанных с определением маршрутов – это плюс.</p>
</div><p>Статическая маршрутизация успешно используется при организации работы компьютерных сетей небольшого размера (1-2 маршрутизатора), в силу легкости конфигурации и отсутствии дополнительной нагрузки на сеть в виде широковещательного служебного трафика, характерного для динамических протоколов маршрутизации. Также статическая маршрутизация используется на компьютерах внутри сети. В таком случае обычно задается маршрут шлюза по умолчанию. </p><a name="ID.7.section.2"><h3>Практическая работа 7-1-1. Настраиваем связь двух сетей через маршрутизатор</h3></a><p>Построим такую сеть (<a href="#ID.7.image.7.1">рис. 7.1</a>).</p><p align="left"><a name="ID.7.image.7.1"></a><div><img src="i/7/7_1.png" alt="Постановка задачи" width="491" height="172"></img></div><br></br><b>Рис. 7.1.</b> 
        Постановка задачи</p><p>Наша цель – настроить связь двух сетей через маршрутизатор (роутер).</p><a name="ID.7.section.3"><h4>Шаг 1. Настройка ПК</h4></a><p>Настраиваем компьютеры подсети 192.168.10.0 (<a href="#ID.7.image.7.2">рис. 7.2</a>).</p><p align="left"><a name="ID.7.image.7.2"></a><div><img src="i/7/7_2.png" alt="Настраиваем компьютеры подсети 192.168.10.0" width="620" height="197"></img></div><br></br><b>Рис. 7.2.</b> 
        Настраиваем компьютеры подсети 192.168.10.0</p><p>Настраиваем компьютеры подсети 192.168.11.0 (<a href="#ID.7.image.7.3">рис. 7.3</a>).</p><p align="left"><a name="ID.7.image.7.3"></a><div><img src="i/7/7_3.png" alt="Настраиваем компьютеры подсети 192.168.11.0" width="620" height="208"></img></div><br></br><b>Рис. 7.3.</b> 
        Настраиваем компьютеры подсети 192.168.11.0</p><a name="ID.7.section.4"><h4>Шаг 2. Настройка роутера (маршрутизатора)</h4></a><p>Настраиваем роутер (маршрутизатор)как шлюз 192.168.10.254 для первой сети на интерфейсе Fa0/0 (<a href="#ID.7.image.7.4">рис. 7.4</a>).</p><p align="left"><a name="ID.7.image.7.4"></a><div><img src="i/7/7_4.png" alt="Окно ввода команд" width="420" height="193"></img></div><br></br><b>Рис. 7.4.</b> 
        Окно ввода команд</p><div class="xml_inset">
<b>Примечание</b>
<p>Здесь описаны следующие команды: привилегированный режим, режим конфигурирования, заходим на интерфейс, включаем этот интерфейс, задаем IPадрес и маску порта, выходим.</p>
</div><p>Аналогично настраиваем роутер как шлюз 192.168.11.254 для второй сети на интерфейсе Fa0/1 (<a href="#ID.7.image.7.5">рис. 7.5</a>).</p><p align="left"><a name="ID.7.image.7.5"></a><div><img src="i/7/7_5.png" alt="Настраиваем R1как шлюз 192.168.11.254 для второй сети" width="369" height="199"></img></div><br></br><b>Рис. 7.5.</b> 
        Настраиваем R1как шлюз 192.168.11.254 для второй сети</p><a name="ID.7.section.5"><h4>Шаг 3. Проверка связи сетей</h4></a><p>Проверяем таблицу маршрутизации командой <b>show ip route</b> (<a href="#ID.7.image.7.6">рис. 7.6</a>).</p><p align="left"><a name="ID.7.image.7.6"></a><div><img src="i/7/7_6.png" alt="Проверяем таблицу маршрутизации роутера R1" width="460" height="265"></img></div><br></br><b>Рис. 7.6.</b> 
        Проверяем таблицу маршрутизации роутера R1</p><p>У нас роутер обслуживает две сети. Проверяем связь роутера и ПК (<a href="#ID.7.image.7.7">рис. 7.7</a>).</p><p align="left"><a name="ID.7.image.7.7"></a><div><img src="i/7/7_7.png" alt="Связь роутера со всеми ПК есть" width="491" height="543"></img></div><br></br><b>Рис. 7.7.</b> 
        Связь роутера со всеми ПК есть</p><p>Проверяем связь роутера с подсетями (<a href="#ID.7.image.7.8">рис. 7.8</a>).</p><p align="left"><a name="ID.7.image.7.8"></a><div><img src="i/7/7_8.png" alt="Проверяем связь роутера с подсетями" width="468" height="282"></img></div><br></br><b>Рис. 7.8.</b> 
        Проверяем связь роутера с подсетями</p><div class="xml_inset">
<b>Примечание</b>
<p>Команда ping посылает ICMP эхо-пакеты для верификациисоединения. В приведённом выше примере время прохождения одного эхо-пакета превысило заданное, о чём свидетельствует точка (.) в выведенной информации, а четыре пакета прошли успешно, о чём говорит восклицательный знак (!). </p>
</div><p>Проверим также связь ПК из разных сетей между собой (<a href="#ID.7.image.7.9">рис. 7.9</a>).</p><p align="left"><a name="ID.7.image.7.9"></a><div><img src="i/7/7_9.png" alt="Проверка связи PC1иPC3" width="394" height="295"></img></div><br></br><b>Рис. 7.9.</b> 
        Проверка связи PC1иPC3</p><div class="xml_inset">
<b>Примечание</b>
<p>Как выглядит порт маршрутизатора физически показано на <a href="#ID.7.image.7.10">рис. 7.10</a>. Как видите, в него вставляется кабель с разъемом RJ-45.</p>
</div><p align="left"><a name="ID.7.image.7.10"></a><div><img src="i/7/7_10.png" alt="Ethernetport 0/0 маршрутизатора CISCO 2811" width="280" height="164"></img></div><br></br><b>Рис. 7.10.</b> 
        Ethernetport 0/0 маршрутизатора CISCO 2811</p><p>Описанная выше и полностью настроенной сеть (<a target="_blank" href="task-7-1.pkt"><img border="0" src="http://www.intuit.ru/img/icons/www.gif"></img></a> <a target="_blank" href="task-7-1.pkt">файл task-7-1.pkt</a>) прилагается.</p><a name="ID.7.section.6"><h4>Задание 1. Настройка статической маршрутизации на оборудовании Cisco</h4></a><p>Схема сети показана на <a href="#ID.7.image.7.11">рис. 7.11</a>.</p><p align="left"><a name="ID.7.image.7.11"></a><div><img src="i/7/7_11.png" alt="Схема сети" width="384" height="134"></img></div><br></br><b>Рис. 7.11.</b> 
        Схема сети</p><p>Студент должен:</p><ol><li>Выполнить весь пример по настройке связи двух сетей</li><li>Покажите преподавателю Шаг 1. Настройку ПК	</li><li>Покажите преподавателю Шаг 2. Настройку роутера (маршрутизатора)</li><li>Покажите преподавателю Шаг 3. Проверку связи сетей</li><li>Какой протокол следит за тем, чтобы в сети не было повторения IP адресов? (ARP)</li><li>Как шлюз по умолчанию для узлов сети связан с портами маршрутизатора?</li></ol><p>В процессе выполнения задания необходимо:</p><ol><li>Задать IP адреса сетевым интерфейсам маршрутизаторов, интерфейсам управления коммутаторов и сетевым интерфейсам локальных компьютеров;</li><li>Установить связь на физическом и канальном уровнях между соседними маршрутизаторами по последовательному сетевому интерфейсу;</li><li>Добиться возможности пересылки данных по протоколу IP между соседними объектами сети (C1-S1, C1-R1, S1-R1, R1-R2, R2-S2, R2-C2, и т.д.);</li><li>Настроить на маршрутизаторе R2 статические маршруты к сетям локальных компьютеров C1, C3</li><li>Настроить на маршрутизаторах R1, R3 маршруты "по умолчанию" к сетям локальных компьютеров C2-C3 и C1-C2 соответственно;</li><li>Добиться возможности пересылки данных по протоколу IP между любыми объектами сети (ping);</li><li>Переключившись в "Режим симуляции" рассмотреть и пояснить процесс обмена данными по протоколу ICMP между устройствами (выполнив команду Ping с одного компьютера на другой), пояснить роль протокола ARP в этом процессе. </li></ol><a name="ID.7.section.7"><h3>Специальные термины и понятия</h3></a><p><span class="keyword_def">Маршрутизатором (шлюзом)</span>, называется узел сети с несколькими IP-интерфейсами (содержащими свой MAC-адрес и IP-адрес), подключенными к разным IP-сетям, осуществляющий на основе решения задачи маршрутизации перенаправление дейтаграмм из одной сети в другую для доставки от отправителя к получателю. Как уже отмечалось, <span class="keyword_def">динамическая маршрутизация</span> — это процесс протокола маршрутизации, определяющий взаимодействие устройства с соседними маршрутизаторами. Маршрутизатор будет обновлять сведения о каждой подключенной к нему сети. Если в сети произойдет изменение, протокол динамической маршрутизации автоматически информирует об изменении все маршрутизаторы. Если же используется <span class="keyword_def">статическая маршрутизация</span>, обновить таблицы маршрутизации на всех устройствах придется системному администратору. Статическая маршрутизация позволяет сократить объем таблиц маршрутизации в конечных узлах и маршрутизаторах за счет использования в качестве номера сети назначения так называемого <span class="keyword_def">маршрута по умолчанию</span> – default (0.0.0.0), который обычно занимает в таблице маршрутизации последнюю строку. Если в таблице маршрутизации есть такая запись, то все пакеты с номерами сетей, которые отсутствуют в таблице маршрутизации, передаются маршрутизатору, указанному в строке default. </p><div class="xml_inset">
<b>Новый термин</b>
<p>Шлюз по умолчанию (defaultgateway) - адрес маршрутизатора, на который отправляется трафик для которого не нашлось отдельных записей в таблице маршрутизации. Для устройств, подключенных к одному маршрутизатору (как правило, это рабочие станции) использование шлюза по умолчанию — единственная форма маршрутизации. </p>
</div><p>Доступность компьютера проверяется при помощи посылки контрольного диагностического сообщения по протоколу <span class="keyword_def">ICMP</span> (Internet Control Message Protocol), по которому любая оконечная станция должна выдать эхо-ответ узлу, отправившему такое сообщение. В сетях на основе TCP/IP для проверки соединений обычно используется <span class="keyword_def">утилита ping</span>. Эта программа отправляет запросы (ICMP Echo-Request) протокола ICMP узлу сети с указанным IP-адресом. Получив этот запрос, исследуемый узел должен послать пакет с ответом (ICMP Echo-Reply). Первый узел фиксирует поступающие ответы. <span class="keyword_def">Время между отправкой запроса и получением ответа</span> (RTT, от англ. Round Trip Time) позволяет определять двусторонние задержки (RTT) по маршруту и частоту потери пакетов, то есть косвенно определить загруженность каналов передачи данных и промежуточных устройств. Метрика — числовой коэффициент, влияющий на выбор маршрута в компьютерных сетях. Как правило, определяется количеством "хопов" (ретрансляционных переходов) до сети назначения или параметрами канала связи. Чем метрика меньше, тем маршрут приоритетнее. <span class="keyword_def">Петля маршрутизации</span> — явление, возникающее, когда маршрутизатор отсылает пакет на неверный адрес назначения. Получивший такой пакет маршрутизатор возвращает его обратно. Таким образом получается петля. Для борьбы с подобными петлями в TCP/IP предусмотрен механизм TTL. Протоколы маршрутизации так же предлагают свои способы борьбы с петлями.</p><a name="ID.7.section.8"><h3>Практическая работа 7-2.  Настройка трех сетей с WEB сервером. Понятие маршрута по умолчанию</h3></a><p>Схема у нас будет следующая:два коммутатора 2950-24, два ПК в сети 192.168.10.0 с маской 255.255.255.0. Сервер и компьютер в сети 192.168.20.0 с маской 255.255.255.0. Сеть между маршрутизаторами (марки 1841) 192.168.1.0 с маской 255.255.255.252. Компьютеры из сети 192.168.10.0 должны достучаться к DNSсерверу в сети 192.168.20.0 (<a href="#ID.7.image.7.12">рис. 7.12</a>).</p><p align="left"><a name="ID.7.image.7.12"></a><div><img src="i/7/7_12.png" alt="Постановка задачи" width="491" height="264"></img></div><br></br><b>Рис. 7.12.</b> 
        Постановка задачи</p><p>Сеть у нас не сложная, ПК в ней немного, поэтому будем использовать не динамическую, а статическую маршрутизацию. </p><a name="ID.7.section.9"><h4>Настройки сетевых интерфейсов роутеров </h4></a><p>Будем настраивать связь роутеров через порты Fa0/1для R1 и Fa0/0 для R2. Настраиваем Router1 исходя из постановки задачи о том, что сеть между маршрутизаторами192.168.1.0 с маской 255.255.255.252. Поэтому порту Fa0/1 присвоим IP адрес 192.168.1.1 (<a href="#ID.7.image.7.13">рис. 7.13</a>).</p><p align="left"><a name="ID.7.image.7.13"></a><div><img src="i/7/7_13.png" alt="Настраиваем порт 0/1для маршрутизатораR1" width="632" height="134"></img></div><br></br><b>Рис. 7.13.</b> 
        Настраиваем порт 0/1для маршрутизатораR1</p><div class="xml_inset">
<b>Важно</b>
<p>При конфигурировании через webинтерфейс обязательно установите флажок <b>On</b> (Вкл.), что эквивалентно команде <b>nosh</b>.</p>
</div><div class="xml_inset">
<b>Примечание</b>
<p>Как вариант, все параметры маршрутизатор можно настроить из командной строки на вкладке CLI следующими командами: <b>enable</b> (включаем привилегированный режим), <b>config terminal</b> (входим в режим конфигурации), <b>interface fastethernet0/1</b> (настраиваем интерфейс 100 мб Ethernet 0/1), <b>ip address 192.168.1.1 255.255.255.252</b> (прописываем ip адрес интерфейса и маску сети маршрутизатора), <b>no shutdown</b> (включаем интерфейс - по умолчанию все выключено), <b>exit</b> (выходим из режима конфигурирования интерфейса), <b>end</b> (закончили редактирование), <b>write</b> (сохранили конфигурацию). </p>
</div><p>Аналогично настраиваем Router2 исходя из постановки задачи о том, что сеть между маршрутизаторами192.168.1.0 с маской 255.255.255.252. Порту Fa0/0 присвоим IP адрес 192.168.1.2 (<a href="#ID.7.image.7.14">рис. 7.14</a>).</p><p align="left"><a name="ID.7.image.7.14"></a><div><img src="i/7/7_14.png" alt="Конфигурируем R2" width="437" height="195"></img></div><br></br><b>Рис. 7.14.</b> 
        Конфигурируем R2</p><div class="xml_inset">
<b>Примечание</b>
<p>При конфигурировании роутера из командной строки можно использовать сокращенную форму записи команд: <b>en</b> (включаем расширенный режим). <b>conf t</b> (входим в режим конфигурации). <b>int  fa0/0</b> (настраиваем интерфейс 100 мб. Ethernet 0/0). <b> Ip addr192.168.1.2  255.255.255.252</b>  (прописываем ip адрес интерфейса и маску сети).  <b>No shut</b> (включаем интерфейс - по умолчанию он выключен). <b>exit</b> (выходим из режима конфигурирования интерфейса). <b>end</b> (заканчиваем редактирование). <b>wr</b> (сохраняем конфигурацию).</p>
</div><p>В итоге после настройки маршрутизаторов на портах загораются зеленые маркеры, то есть, связь между ними есть. Сеть между маршрутизаторами работает, но маршрутизации пока нет, то есть, из одной сети в другую попасть нельзя. </p><a name="ID.7.section.10"><h4>Настройка связи маршрутизаторов с подсетями (настройка шлюзов)</h4></a><p>Настроим порт Fa0/0 маршрутизатора R1 на работу с сетью 192.168.10.0 (<a href="#ID.7.image.7.15">рис. 7.15</a>).</p><p align="left"><a name="ID.7.image.7.15"></a><div><img src="i/7/7_15.png" alt="Настроим портFa0/0 маршрутизатораR1 на работу с сетью 192.168.10.0" width="491" height="228"></img></div><br></br><b>Рис. 7.15.</b> 
        Настроим портFa0/0 маршрутизатораR1 на работу с сетью 192.168.10.0</p><p>Аналогично порт Fa0/1 маршрутизатора R2 настроим на работу с сетью 192.168.20.0 (<a href="#ID.7.image.7.16">рис. 7.16</a>).</p><p align="left"><a name="ID.7.image.7.16"></a><div><img src="i/7/7_16.png" alt="Порт Fa0/1 маршрутизатораR2 настроим на работу с сетью 192.168.20.0" width="491" height="229"></img></div><br></br><b>Рис. 7.16.</b> 
        Порт Fa0/1 маршрутизатораR2 настроим на работу с сетью 192.168.20.0</p><p>Как теперь видно по маркерам – сеть поднялась (Up), то есть все индикаторы горят зеленым цветом.</p><a name="ID.7.section.11"><h4>Настройка PC1 и PC2</h4></a><p>Продолжим работу и настроим компьютеры в сети 192.168.10.0, то есть, нужно задать IP компьютеров, маску сети и основной шлюз. По исходным условиям задачи у нас слева пара компьютеров в сети 192.168.10.0 с маской 255.255.255.0 (<a href="#ID.7.image.7.17">рис. 7.17</a>).</p><p align="left"><a name="ID.7.image.7.17"></a><div><img src="i/7/7_17.png" alt="Настраиваем PC1 и PC2" width="620" height="209"></img></div><br></br><b>Рис. 7.17.</b> 
        Настраиваем PC1 и PC2</p><div class="xml_inset">
<b>Новый термин</b>
<p><span class="keyword_def">Основной шлюз (Default Gateway)</span> – это адрес, куда компьютер отправляет пакет, если не знает, куда его отправить. Например, при попытке узла Б отправить данные узлу А. в отсутствие конкретного адреса к узлу А, узел Б направляет трафик TCP/IP, предназначенный для узла А, своему основному шлюзу.</p>
</div><a name="ID.7.section.12"><h4>Настройка сервера и PC3</h4></a><p>Далее нужно настроитьPC3 и сервер в сети 192.168.20.0 (<a href="#ID.7.image.7.18">рис. 7.18</a> и <a href="#ID.7.image.7.19">рис. 7.19</a>).</p><p align="left"><a name="ID.7.image.7.18"></a><div><img src="i/7/7_18.png" alt="Настройка сервера" width="296" height="234"></img></div><br></br><b>Рис. 7.18.</b> 
        Настройка сервера</p><p align="left"><a name="ID.7.image.7.19"></a><div><img src="i/7/7_19.png" alt="НастраиваемPC2" width="282" height="188"></img></div><br></br><b>Рис. 7.19.</b> 
        НастраиваемPC2</p><a name="ID.7.section.13"><h4>Настройка маршрутизации на маршрутизаторах (маршрута по умолчанию)</h4></a><p>Можете пропинговать сети и убедиться в том, что ситуация такая: запросы из сети …10.0 в сеть…20.0 проходят, а ответов – нет. Поэтому надо прописать на маршрутизаторах маршруты по умолчанию. Вспомним, что порту Fa0/1 мы присвоили IP адрес 192.168.1.1, а порту Fa0/0 – адрес 192.168.1.2. Поэтому на маршрутизаторе R1 для порта Fa0/1 с IP адресом 192.168.1.1 следует выполнить такие команды (<a href="#ID.7.image.7.20">рис. 7.20</a>). </p><p align="left"><a name="ID.7.image.7.20"></a><div><img src="i/7/7_20.png" alt="Прописываем маршрут по умолчанию на R1" width="361" height="195"></img></div><br></br><b>Рис. 7.20.</b> 
        Прописываем маршрут по умолчанию на R1</p><div class="xml_inset">
<b>Примечание</b>
<p>Запись означает, что все запросы, для которых не прописаны маршруты, R1 посылает на 192.168.1.2, то есть, на R2.</p>
</div><p>Для R2 поступаем аналогично (<a href="#ID.7.image.7.21">рис. 7.21</a>). </p><p align="left"><a name="ID.7.image.7.21"></a><div><img src="i/7/7_21.png" alt="Прописываем маршрут по умолчанию на R2" width="366" height="234"></img></div><br></br><b>Рис. 7.21.</b> 
        Прописываем маршрут по умолчанию на R2</p><div class="xml_inset">
<b>Примечание</b>
<p>Запись означает, что все запросы, для которых не прописаны маршруты, R2 отправляет на 192.168.1.1, то есть, на R1.</p>
</div><a name="ID.7.section.14"><h4>Проверяем работу сети</h4></a><p>После настройки роутеров можно протестировать сеть, для этого нужно пропинговать компьютерами из одной сети — компьютеры из другой сети (<a href="#ID.7.image.7.22">рис. 7.22</a>).</p><p align="left"><a name="ID.7.image.7.22"></a><div><img src="i/7/7_22.png" alt="Связь не идеальная, но есть" width="428" height="439"></img></div><br></br><b>Рис. 7.22.</b> 
        Связь не идеальная, но есть</p><p>Чтобы убедиться наверняка, давайте посмотрим, как идут пакеты по узлам сети и для этого воспользуемся командой <b>tracert 192.168.20.20</b> (<a href="#ID.7.image.7.23">рис. 7.23</a>).</p><div class="xml_inset">
<b>Примечание</b>
<p>Tracert — команда, предназначенная для определения маршрутов следования данных в сетях TCP/IP. </p>
</div><p align="left"><a name="ID.7.image.7.23"></a><div><img src="i/7/7_23.png" alt="Наблюдаем как идут пакеты между сегментами сети от PC1 на сервер" width="423" height="245"></img></div><br></br><b>Рис. 7.23.</b> 
        Наблюдаем как идут пакеты между сегментами сети от PC1 на сервер</p><p>Как видно из скриншота пакеты сначала уходят на адрес 192.168.10.5 (R1– порт Fa0/0), далее на адрес 192.168.1.2 (R2 – порт Fa0/0), а дальше приходит на сервер 192.168.20.20 — все верно! </p><div class="xml_inset">
<b>Примечание</b>
<p>Web страниц на сервере мы не создавали, но они там существуют изначально, по умолчанию. Запустите Web Browser и убедитесь в этом самостоятельно (<a href="#ID.7.image.7.24">рис. 7.24</a>).</p>
</div><p align="left"><a name="ID.7.image.7.24"></a><div><img src="i/7/7_24.png" alt="На сервере работает служба HTTP" width="620" height="443"></img></div><br></br><b>Рис. 7.24.</b> 
        На сервере работает служба HTTP</p><p>Описанная выше и полностью настроенной сеть (<a target="_blank" href="task-7-2.pkt"><img border="0" src="http://www.intuit.ru/img/icons/www.gif"></img></a> <a target="_blank" href="task-7-2.pkt">файл task-7-2.pkt</a>) прилагается.</p><a name="ID.7.section.15"><h3>Практическая работа 7-3-1.  Сеть на двух маршрутизаторах</h3></a><p>Далее мы изучим статическую маршрутизацию в локальных сетях, рассмотрев этот вопрос на двух практических примерах.</p><p>Схема сети для настройки статической маршрутизации приведена на <a href="#ID.7.image.7.25">рис. 7.25</a>.</p><p align="left"><a name="ID.7.image.7.25"></a><div><img src="i/7/7_25.png" alt="Схема сети" width="491" height="233"></img></div><br></br><b>Рис. 7.25.</b> 
        Схема сети</p><p>Если сейчас командой show ip route посмотреть таблицу маршрутизации на R0 и R1, то увидим следующее (<a href="#ID.7.image.7.26">рис. 7.26</a> и <a href="#ID.7.image.7.27">рис. 7.27</a>).</p><p align="left"><a name="ID.7.image.7.26"></a><div><img src="i/7/7_26.png" alt="Таблица маршрутизации на 1-ммаршрутизаторе" width="444" height="182"></img></div><br></br><b>Рис. 7.26.</b> 
        Таблица маршрутизации на 1-ммаршрутизаторе</p><p align="left"><a name="ID.7.image.7.27"></a><div><img src="i/7/7_27.png" alt="Таблица маршрутизации на 2-ммаршрутизаторе" width="455" height="116"></img></div><br></br><b>Рис. 7.27.</b> 
        Таблица маршрутизации на 2-ммаршрутизаторе</p><p>Мы видим, что в данный момент в нашей таблице есть только сети, подключенные напрямую. R0 не знает сеть 10.1.2.0, а R1 не знает сеть 10.1.1.0. Поэтому, чтобы настроить маршрутизацию, следует добавим эти маршруты в таблицы маршрутизаторов:</p><div class="example"><pre>R0 (config)#ip route 10.1.2.0 255.255.255.0 192.168.1.2 
R1 (config)#ip route 10.1.1.0 255.255.255.0 192.168.1.1
</pre></div><p>Теперь снова выведем таблицы маршрутизации наших устройств (<a href="#ID.7.image.7.28">рис. 7.28</a>). </p><p align="left"><a name="ID.7.image.7.28"></a><div><img src="i/7/7_28.png" alt="Маршрутизация настроена" width="491" height="347"></img></div><br></br><b>Рис. 7.28.</b> 
        Маршрутизация настроена</p><p>Теперь 1-й маршрутизатор знает, что пакеты, направляемые в подсеть 10.1.2.0 можно переслать маршрутизатору с ip адресом 192.168.1.2, а 2-й маршрутизатор знает, что пакеты, направляемые в подсеть 10.1.1.0 можно переслать маршрутизатору с ip адресом 192.168.1.1. Проверяем связь ПК из разных сетей (<a href="#ID.7.image.7.29">рис. 7.29</a>).</p><p align="left"><a name="ID.7.image.7.29"></a><div><img src="i/7/7_29.png" alt="Статическая маршрутизация настроена – PC0 может общаться с PC3" width="415" height="314"></img></div><br></br><b>Рис. 7.29.</b> 
        Статическая маршрутизация настроена – PC0 может общаться с PC3</p><p>Описанная сеть на двух маршрутизаторах (<a target="_blank" href="task-7-3.pkt"><img border="0" src="http://www.intuit.ru/img/icons/www.gif"></img></a> <a target="_blank" href="task-7-3.pkt">файл task-7-3.pkt</a>) прилагается.</p><a name="ID.7.section.16"><h3>Статическая маршрутизация для пяти сетей и роутеров с тремя портами</h3></a><p>В этом примере мы соберем и настроим следующую схему сети (<a href="#ID.7.image.7.30">рис. 7.30</a>).</p><a name="ID.7.section.17"><h4>Схема сети</h4></a><p>На данной схеме имеется пять сетей: 192.168.1.0, 172.20.20.0, 192.168.100.0, 10.10.10.0 и 192.168.2.0. В качестве шлюза по умолчанию у каждого компьютера указан интерфейс маршрутизатора, к которому он подключен. Маска у всех ПК одна - 255.255.255.0. Маска маршрутизаторов для каждого порта своя: Fa0/0 -255.255.255.0, Fa0/1 - 255.255.0.0, Fa1/0 - 255.255.255.252. </p><p align="left"><a name="ID.7.image.7.30"></a><div><img src="i/7/7_30.png" alt="Связь сетей посредством маршрутизаторов" width="491" height="158"></img></div><br></br><b>Рис. 7.30.</b> 
        Связь сетей посредством маршрутизаторов</p><p>Далее соединим маршрутизаторы между собой нам потребуется добавить к маршрутизатору интерфейсную плату NM-1FE-TX (NM – Network module, 1FE – содержит один порт FastEthernet, TX – поддерживает 10/100MBase-TX). Чтобы это сделать перейдите к окну конфигурации маршрутизатора0, выключите его, щелкнув на кнопке питания. После этого перетяните интерфейсную плату NM-1FE-TX в разъем маршрутизатора (<a href="#ID.7.image.7.31">рис. 7.31</a>). После того как карта добавлена, еще раз щелкните по тумблеру маршрутизатора, чтобы включить его. Повторите аналогичные действия со вторым маршрутизатором.</p><p align="left"><a name="ID.7.image.7.31"></a><div><img src="i/7/7_31.png" alt="Вставляем интерфейсную плату в маршрутизатор" width="491" height="208"></img></div><br></br><b>Рис. 7.31.</b> 
        Вставляем интерфейсную плату в маршрутизатор</p><a name="ID.7.section.18"><h4>Постановка задачи</h4></a><p>Нам требуется произвести необходимые настройки для того, чтобы все ПК могли общаться друг с другом, то есть, необходимо обеспечить доступность компьютеров из разных сетей между собой.</p><a name="ID.7.section.19"><h4>Настройка маршрутизации (маршрута по умолчанию)</h4></a><p>В настоящий момент если мы отправим с компьютера PC1 с IP адресом 192.168.1.100 пакет на интерфейс Fa1/0 с IP адресом 192.168.100.2 маршрутизатора R2, то ICMP пакет слева дойдет до этого маршрутизатора, но при отправке ICMP пакетов в обратном направлении с адреса 192.168.100.2 на адрес 192.168.1.100 возникнет проблема. Дело в том, что маршрутизатор R2 не имеет в своей таблице маршрутизации информации о сети 172.20.20.0, так как шлюз по умолчанию мы еще не прописывали и маршрутизатор R2 не знает, куда отправлять ответы на запрос. В небольших сетях самым простым способом настроить маршрутизацию, является добавление маршрута по умолчанию. Для того чтобы это сделать выполните на маршрутизаторе R1 в режиме конфигурирования следующие команды (<a href="#ID.7.image.7.32">рис. 7.32</a>).</p><p align="left"><a name="ID.7.image.7.32"></a><div><img src="i/7/7_32.png" alt="Настройка маршрута по умолчанию на R1" width="418" height="250"></img></div><br></br><b>Рис. 7.32.</b> 
        Настройка маршрута по умолчанию на R1</p><div class="xml_inset">
<b>Примечание</b>
<p>В этих командах первая группа цифр 0.0.0.0 обозначают IP адрес сети назначения, следующая группа цифр 0.0.0.0 обозначает её маску, а последние цифры – 192.168.100.2 это IP адрес интерфейса, на который необходимо передать пакеты, чтобы попасть в данную сеть. Если мы указываем в качестве адреса сети 0.0.0.0 с маской 0.0.0.0, то данный маршрут становится маршрутом по умолчанию, и все пакеты, адреса назначения которых, прямо не указаны в таблице маршрутизации будут отправлены на него.</p>
</div><p>На правом маршрутизаторе R2 поступаем аналогично (<a href="#ID.7.image.7.33">рис. 7.33</a>).</p><p align="left"><a name="ID.7.image.7.33"></a><div><img src="i/7/7_33.png" alt="Настройка маршрута по умолчанию на R2" width="377" height="228"></img></div><br></br><b>Рис. 7.33.</b> 
        Настройка маршрута по умолчанию на R2</p><p>Отправим с компьютера PC1 с IP адресом 192.168.1.100 пакет на интерфейс Fa1/0 с IP адресом 192.168.100.2 маршрутизатора R2 и посмотрим, что изменилось (<a href="#ID.7.image.7.34">рис. 7.34</a>).</p><p align="left"><a name="ID.7.image.7.34"></a><div><img src="i/7/7_34.png" alt="С компьютера PC1 с IP адресом 192.168.1.100 успешно пингуем интерфейс Fa1/0 с IP адресом 192.168.100.2 маршрутизатора R2" width="375" height="304"></img></div><br></br><b>Рис. 7.34.</b> 
        С компьютера PC1 с IP адресом 192.168.1.100 успешно пингуем интерфейс Fa1/0 с IP адресом 192.168.100.2 маршрутизатора R2</p><p>Описанная выше, полностью рабочая сеть (<a target="_blank" href="task-7-4.pkt"><img border="0" src="http://www.intuit.ru/img/icons/www.gif"></img></a> <a target="_blank" href="task-7-4.pkt">файл task-7-4.pkt</a>) прилагается.</p><a name="ID.7.section.20"><h4>Резюме</h4></a><p>Допустим, мы хотим пропинговать с компьютера PC1 с адресом 192.168.1.100 (из левой сети) компьютер PC4 с IP адресом 10.10.10.100 (из правой сети).  В качестве шлюза по умолчанию на компьютере с адресом 192.168.1.100 установлен адрес 192.168.1.1интерфейса Fa0/0 маршрутизатора R1. Сначала компьютер будет искать в свой таблице маршрутизации адрес 10.10.10.100, а после того, как он его не найдет, ICMP пакеты будут отправлены на адрес по умолчанию, то есть на интерфейс маршрутизатора R1 с адресом 192.168.1.1 (порт Fa0/0). Получив пакет, маршрутизатор R1 просмотрит адрес его назначения – 10.10.10.100 и также попытается обнаружить его в свой таблице маршрутизации. Когда он не обнаружит и его, пакет будет отправлен на интерфейс Fa1/0, с адресом 192.168.100.2 маршрутизатора R2. Маршрутизатор R2 попробует обнаружить в свой таблице маршрутизации маршрут к адресу 10.10.10.100. Когда это не увенчается успехом, маршрутизатор будет искать маршрут к сети 10.0.0.0. Информация о данной сети содержится в таблице маршрутизации, и маршрутизатор знает, что для того чтобы попасть в данную сеть необходимо отправить пакеты на интерфейс FastEthernet0/1, непосредственно к которому подключена данная сеть. Так как в нашем примере вся сеть 10.0.0.0, представляет из себя всего 1 компьютер, то пакеты сразу же попадают в место назначения, то есть, на компьютер с IP адресом 10.10.10.100. При отсылке ответных ICMP пакетов, все происходит аналогичным образом. Однако, не всегда можно обойтись указанием только маршрутов по умолчанию. В более сложных сетевых конфигурациях может потребоваться прописывать маршрут для каждой из сетей в отдельности. Это будет непросто. Поэтому в больших сетях обычно используют не статическую, а динамическую маршрутизацию.</p><a name="ID.8.lecture"><h2><span class="lection_name">Лекция 8.</span> Динамическая маршрутизация на протоколах RIP и EIGRP</h2></a><div class="annotation"></div><a name="ID.8.section.1"><h3></h3></a><p><span class="keyword_def">Маршрутизация</span> - процесс определения в сети наилучшего пути, по которому пакет может достигнуть адресата. Динамическая маршрутизация может быть осуществлена с использованием одного и более протоколов (RIP v2, OSPF и др.). </p><div class="xml_inset">
<b>Новый термин</b>
<p><span class="keyword_def">Динамическая маршрутизация </span>— вид маршрутизации, при котором таблица маршрутизации заполняется и обновляется автоматически при помощи одного или нескольких протоколов маршрутизации (RIP, OSPF, EIGRP, BGP). </p>
</div><p>Каждый протокол маршрутизации использует свою систему оценки маршрутов (<span class="keyword">метрику</span>). Маршрут к сетям назначения строится на основе таких критериев как </p><ul><li>количество ретрансляционных переходов</li><li>пропускная способность канала связи</li><li>задержки передачи данных</li><li>и др.</li></ul><p>Маршрутизаторы обмениваются друг с другом информацией о маршрутах с помощью служебных пакетов по протоколу UDP. Такой обмен информации увеличивает наличие дополнительного трафика в сети и нагрузку на эту сеть. Возможна также ситуация, при которой таблицы маршрутизации на роутерах не успевают согласоваться между собой, что может повлечь появление ошибочных маршрутов и потерю данных.</p><p>Протоколы маршрутизации делятся на три типа:</p><ul><li>Дистанционно векторные протоколы (RIP)</li><li>Протоколы с отслеживанием состояния каналов (OSPF)</li><li>Смешанные протоколы (EIGRP)</li><li>И др.</li></ul><a name="ID.8.section.2"><h3>Протокол RIP</h3></a><p>RIP — протокол дистанционно-векторной маршрутизации, использующий для нахождения оптимального пути алгоритм Беллмана-Форда. Алгоритм маршрутизации RIP- один из самых простых протоколов маршрутизации. Каждые 30 секунд он передает в сеть свою таблицу маршрутизации. Основное отличие протоколов в том, что RIPv2 (в отличие от RIPv1) может работать по мультикасту, то есть, рассылаясь на мультикаст адрес. Максимальное количество "хопов" (шагов до места назначения), разрешенное в RIP1, равно 15 (метрика 15). Ограничение в 15 хопов не дает применять RIP в больших сетях, поэтому протокол наиболее распространен в небольших компьютерных сетях. Вторая версия протокола — протокол RIP2 была разработана в 1994 году и является улучшенной версией первого. В этом протоколе повышена безопасность за счет введения дополнительной маршрутной информации. Принцип дистанционно-векторного протокола: каждый маршрутизатор, использующий протокол RIP периодически широковещательно рассылает своим соседям специальный пакет-вектор, содержащий расстояния (измеряются в метрике) от данного маршрутизатора до всех известных ему сетей. Маршрутизатор получивший такой вектор, наращивает компоненты вектора на величину расстояния от себя до данного соседа и дополняет вектор информацией об известных непосредственно ему самому сетях или сетях, о которых ему сообщили другие маршрутизаторы. Дополненный вектор маршрутизатор рассылает всем своим соседям. Маршрутизатор выбирает из нескольких альтернативных маршрутов маршрут с наименьшим значением метрики, а маршрутизатор, передавший информацию о таком маршруте помечается как следующий (next hop). Протокол непригоден для работы в больших сетях, так как засоряет сеть интенсивным трафиком, а узлы сети оперируют только векторами-расстояний, не имея точной информации о состоянии каналов и топологии сети. Сегодня даже в небольших сетях протокол вытесняется превосходящими его по возможностям протоколами EIGRP  и OSPF.</p><a name="ID.8.section.3"><h3>Практическая работа 8-1.  Настройка протокола RIP версии 2 для сети из шести устройств</h3></a><p>Наша задача – настроить маршрутизацию на схеме, представленной на <a href="#ID.8.image.8.1">рис. 8.1</a>.</p><p align="left"><a name="ID.8.image.8.1"></a><div><img src="i/8/8_1.png" alt="Схема сети" width="466" height="185"></img></div><br></br><b>Рис. 8.1.</b> 
        Схема сети</p><div class="xml_inset">
<b>Примечание</b>
<p>При настройке сети не забывайте включать порты.</p>
</div><a name="ID.8.section.4"><h4>Настройка протокола RIP на маршрутизаторе R1</h4></a><p>Войдите в конфигурации в консоль роутера и выполните следующие настройки (<a href="#ID.8.image.8.2">рис. 8.2</a>).</p><p align="left"><a name="ID.8.image.8.2"></a><div><img src="i/8/8_2.png" alt="Настройка протокола RIPv2 на маршрутизаторе Router1" width="464" height="234"></img></div><br></br><b>Рис. 8.2.</b> 
        Настройка протокола RIPv2 на маршрутизаторе Router1</p><div class="xml_inset">
<b>Примечание</b>
<p><b>Router(config)#router rip</b> (Вход в режим конфигурирования протокола RIP). <b>Router(config-router)#network 192.168.10.1</b> (Подключение клиентской сети к роутеру со стороны коммутатора S1). <b>Router(config-router)#network 192.168.20.1</b> (Подключение второй сети, то есть сети между роутерами). <b>Router(config-router)#version 2</b> (Задание использования второй версии протокол RIP). </p>
</div><a name="ID.8.section.5"><h4>Настройка протокола RIP на маршрутизаторе R2</h4></a><p>Войдите в конфигурации роутера 2 и выполните следующие настройки (<a href="#ID.8.image.8.3">рис. 8.3</a>).</p><p align="left"><a name="ID.8.image.8.3"></a><div><img src="i/8/8_3.png" alt="Настройка протокола RIPv2 на маршрутизаторе R2" width="480" height="228"></img></div><br></br><b>Рис. 8.3.</b> 
        Настройка протокола RIPv2 на маршрутизаторе R2</p><a name="ID.8.section.6"><h4>Проверяем настройки коммутаторов и протокола RIP</h4></a><p>Давайте посмотрим настройки протокола RIPv2 на маршрутизаторах R1 и R2 (<a href="#ID.8.image.8.4">рис. 8.4</a>).</p><p align="left"><a name="ID.8.image.8.4"></a><div><img src="i/8/8_4.png" alt="Настройки маршрутизаторов R1 и R2" width="620" height="584"></img></div><br></br><b>Рис. 8.4.</b> 
        Настройки маршрутизаторов R1 и R2</p><p>Чтобы убедиться в том, что маршрутизаторы действительно правильно сконфигурированы и работают корректно, просмотрите таблицу RIP роутеров, используя команду: <b>Router#show ip route rip</b> (<a href="#ID.8.image.8.5">рис. 8.5</a> и <a href="#ID.8.image.8.6">рис. 8.6</a>).</p><p align="left"><a name="ID.8.image.8.5"></a><div><img src="i/8/8_5.png" alt="Таблица маршрутизации R1" width="494" height="52"></img></div><br></br><b>Рис. 8.5.</b> 
        Таблица маршрутизации R1</p><p>Данная таблица показывает, что к сети 192.168.10.0 есть только один маршрут: через R1(сеть 10.10.0.1).</p><p align="left"><a name="ID.8.image.8.6"></a><div><img src="i/8/8_6.png" alt="Таблицы маршрутизации R2" width="474" height="130"></img></div><br></br><b>Рис. 8.6.</b> 
        Таблицы маршрутизации R2</p><p>Данная таблица показывает, что к сети 192.168.20.0 есть только один маршрут: через R2 (сеть 10.10.0.2).</p><a name="ID.8.section.7"><h4>Проверка связи между PC1 и PC2</h4></a><p>Проверим, что маршрутизация производится верно (<a href="#ID.8.image.8.7">рис. 8.7</a>).</p><p align="left"><a name="ID.8.image.8.7"></a><div><img src="i/8/8_7.png" alt="Пинг с PC1 на PC2" width="402" height="324"></img></div><br></br><b>Рис. 8.7.</b> 
        Пинг с PC1 на PC2</p><p>Рабочая сеть данного примера представлена <a target="_blank" href="task-8-1.pkt"><img border="0" src="http://www.intuit.ru/img/icons/www.gif"></img></a> <a target="_blank" href="task-8-1.pkt">файлом task-8-1.pkt</a>.</p><a name="ID.8.section.8"><h3>Практическая работа 8-2.  Конфигурирование протокола RIP версии 2 для сети из четырех устройств</h3></a><p>На <a href="#ID.8.image.8.8">рис. 8.8</a> представлена сеть, на примере которой мы сконфигурируем протокол маршрутизации RIP v2. </p><p align="left"><a name="ID.8.image.8.8"></a><div><img src="i/8/8_8.png" alt="Сеть для конфигурации протоколов маршрутизации" width="491" height="92"></img></div><br></br><b>Рис. 8.8.</b> 
        Сеть для конфигурации протоколов маршрутизации</p><p>Сначала сконфигурируем R1 (<a href="#ID.8.image.8.9">рис. 8.9</a>).</p><p align="left"><a name="ID.8.image.8.9"></a><div><img src="i/8/8_9.png" alt="Настройка RIP на R1" width="467" height="201"></img></div><br></br><b>Рис. 8.9.</b> 
        Настройка RIP на R1</p><p>Смотрим результат на вкладке <b>Config</b> (<a href="#ID.8.image.8.10">рис. 8.10</a>).</p><p align="left"><a name="ID.8.image.8.10"></a><div><img src="i/8/8_10.png" alt="Окно R1,вкладка Config" width="299" height="153"></img></div><br></br><b>Рис. 8.10.</b> 
        Окно R1,вкладка Config</p><p>Конфигурируем R2 (<a href="#ID.8.image.8.11">рис. 8.11</a>).</p><p align="left"><a name="ID.8.image.8.11"></a><div><img src="i/8/8_11.png" alt="Настройка RIP на R2" width="464" height="217"></img></div><br></br><b>Рис. 8.11.</b> 
        Настройка RIP на R2</p><p>Наблюдаем результат (<a href="#ID.8.image.8.12">рис. 8.12</a>).</p><p align="left"><a name="ID.8.image.8.12"></a><div><img src="i/8/8_12.png" alt="Окно R2, вкладка Config" width="323" height="169"></img></div><br></br><b>Рис. 8.12.</b> 
        Окно R2, вкладка Config</p><p>Проверяем доступность ПК из разных сетей (<a href="#ID.8.image.8.13">рис. 8.13</a>).</p><p align="left"><a name="ID.8.image.8.13"></a><div><img src="i/8/8_13.png" alt="Результат маршрутизации по протоколу RIP" width="332" height="267"></img></div><br></br><b>Рис. 8.13.</b> 
        Результат маршрутизации по протоколу RIP</p><p>Рабочая сеть данного примера представлена <a target="_blank" href="task-8-2.pkt"><img border="0" src="http://www.intuit.ru/img/icons/www.gif"></img></a> <a target="_blank" href="task-8-2.pkt">файлом task-8-2.pkt</a>.</p><a name="ID.8.section.9"><h3>Протокол маршрутизации EIGRP</h3></a><p>Протокол EIGRP более прост в реализации и менее требователен к вычислительным ресурсам маршрутизатора, чем протокол OSPF. Также EIGRP имеет более продвинутый алгоритм вычисления метрики. В формуле вычисления метрики есть возможность учитывать загруженность и надежность интерфейсов на пути пакета. Недостатком протокола EIGRP является его ограниченность в его использовании только на оборудовании компании Cisco. </p><a name="ID.8.section.10"><h3>Практическая работа 8-3.  Конфигурирование протокола EIGRP</h3></a><p>Схема сети изображена на <a href="#ID.8.image.8.14">рис. 8.14</a>.</p><p align="left"><a name="ID.8.image.8.14"></a><div><img src="i/8/8_14.png" alt="Схема для конфигурации протокола EIGRP" width="491" height="118"></img></div><br></br><b>Рис. 8.14.</b> 
        Схема для конфигурации протокола EIGRP</p><p>Настройка протокола EIGRP очень похожа на настройку протокола RIP.</p><a name="ID.8.section.11"><h4>Программирование R1</h4></a><p>Конфигурируем R1 (<a href="#ID.8.image.8.15">рис. 8.15</a>).</p><p align="left"><a name="ID.8.image.8.15"></a><div><img src="i/8/8_15.png" alt="Конфигурирование R1" width="465" height="195"></img></div><br></br><b>Рис. 8.15.</b> 
        Конфигурирование R1</p><a name="ID.8.section.12"><h4>Программирование R2</h4></a><p>Конфигурируем R2 (<a href="#ID.8.image.8.16">рис. 8.16</a>).</p><p align="left"><a name="ID.8.image.8.16"></a><div><img src="i/8/8_16.png" alt="Конфигурирование R2" width="469" height="207"></img></div><br></br><b>Рис. 8.16.</b> 
        Конфигурирование R2</p><a name="ID.8.section.13"><h4>Проверка работы сети</h4></a><p>Проверяем работу маршрутизаторов (<a href="#ID.8.image.8.17">рис. 8.17</a>).	</p><p align="left"><a name="ID.8.image.8.17"></a><div><img src="i/8/8_17.png" alt="Результат проверки работоспособности сети" width="313" height="257"></img></div><br></br><b>Рис. 8.17.</b> 
        Результат проверки работоспособности сети</p><p>Рабочая сеть данного примера представлена <a target="_blank" href="task-8-3.pkt"><img border="0" src="http://www.intuit.ru/img/icons/www.gif"></img></a> <a target="_blank" href="task-8-3.pkt">файлом task-8-3.pkt</a>.</p><a name="ID.8.section.14"><h3>Протокол OSPF</h3></a><p>Алгоритм работы протокола динамической маршрутизации OSPF основан на использовании всеми маршрутизаторами единой базы данных, описывающей, с какими сетями связан каждый маршрутизатор. Описывая каждую связь, маршрутизаторы связывают с ней метрику – значение, характеризующее "качество" канала связи. Это позволяет маршрутизаторам OSPF (в отличие от RIP, где все каналы равнозначны) учитывать реальную пропускную способность канала и выявлять наилучшие маршруты. Важной особенностью протокола OSPF является то, что используется групповая, а не широковещательная рассылка (как в RIP), то есть, нагрузка каналов меньше.</p><p><span class="keyword_def"></span>OSPF (Open Shortest Path First) — протокол динамической маршрутизации, основанный на технологии отслеживания состояния канала link-state (LSA). Основан на алгоритме для поиска кратчайшего пути. Отслеживание состояния канала требует отправки объявлений о состоянии канала (LSA) на активные интерфейсы всех доступных маршрутизаторов зоны. В этих объявлениях содержится описание всех каналов маршрутизатора и стоимость каждого канала. LSA сообщения отправляются, только если произошли какие-либо изменения в сети, но раз в 30 минут LSA сообщения отправляются в принудительном порядке. Протокол реализует деление автономной системы на зоны (areas). Использование зон позволяет снизить нагрузку на сеть и процессоры маршрутизаторов и уменьшить размер таблиц маршрутизации. </p><p><b>Описание работы протокола:</b></p><p>Все маршрутизаторы обмениваются специальными Hello-пакетами через все интерфейсы, на которых активирован протокол OSPF. Таким образом, определяются маршрутизаторы-соседи, разделяющие общий канал передачи данных. В дальнейшем hello-пакеты посылаются с интервалом раз в 30 секунд. Маршрутизаторы пытаются перейти в состояние соседства со своими соседями. Переход в данное состояние определяется типом маршрутизаторов и типом сети, по которой происходит обмен hello-пакетами, по зонному признаку. Пара маршрутизаторов в состоянии соседства синхронизирует между собой базу данных состояния каналов. Каждый маршрутизатор посылает объявление о состоянии канала своим соседям, а каждый получивший такое объявление записывает информацию в базу данных состояния каналов и рассылает копию объявления другим своим соседям. При рассылке объявлений по зоне, все маршрутизаторы строят идентичную базу данных состояния каналов. Каждый маршрутизатор использует алгоритм SPF для вычисления графа (дерева кратчайшего пути) без петель. Каждый маршрутизатор строит собственную маршрутизацию, основываясь на построенном дереве кратчайшего пути.</p><a name="ID.8.section.15"><h3>Прямая и обратная маска</h3></a><p>В оборудовании <b>Cisco</b> иногда приходится использовать обратную маску, то есть не привычную нам <b>255.255.255.0</b> (Subnet mask — прямая маска), а <b>0.0.0.255</b> (Wildcard mask — обратная маска). Обратная маска используется в листах допуска (access list) и при описании сетей в протоколе <b>OSPF</b>. Прямая маска используется во всех остальных случаях. Отличие масок заключается также в том, что прямая маска оперирует сетями, а обратная — хостами. С помощью обратной маски вы можете, например, выделить во всех подсетях хосты с конкретным адресом и разрешить им доступ в Интернет. Так, как чаше всего в локальных сетях используют адреса типа 192.168.1.0 с маской 255.255.255.0, то самая распространенная Wildcard mask (шаблонная маска или обратная маска, или инверсная маска) - маска 0.0.0.255. </p><div class="xml_inset">
<b>Новый термин</b>
<p>Шаблонная маска (wildcard mask) — маска, указывающая на количество хостов сети. Является дополнением для маски подсети. Вычисляется по формуле для каждого из октетов маски подсети как 255-маска_подсети. Например, для сети 192.168.1.0 и маской подсети 255.255.255.242 шаблонная маска будет выглядеть как 0.0.0.13.  Шаблонная маска используется в настройке некоторых протоколов маршрутизации, а также является удобным параметром ограничений в списках доступа.</p>
</div><a name="ID.8.section.16"><h3>Расчёт  Wildcard mask</h3></a><p>Существует связь, между обратной и прямой маской: в сумме эти маски по каждому разряду должны составлять 255. Пусть наша сеть 192.168.32.0 /28. Рассчитает wildcard mask: префикс /28 это 255.255.255.240 или 11111111.11111111.11111111.11110000. Для wildcard mask нам нужны только нули, то есть, 11110000 переводим в десятичное число и считаем: 128/64/32/16/8/4/2/1 это будет 8+4+2+1=15, т.е. наша wildcard mask будет равна 0.0.0.15. </p><a name="ID.8.section.17"><h3>Самостоятельно</h3></a><p>Дана прямая маска <b>255.255.255.248</b>. Выполните расчет и докажите, что обратная равна <b>0.0.0.7</b>.</p><a name="ID.8.section.18"><h3>Практическая работа 8-2-1.  Пример конфигурирования протокола OSPF для 4-х устройств</h3></a><p>Соберите схему, изображенную на <a href="#ID.8.image.8.18">рис. 8.18</a>.</p><p align="left"><a name="ID.8.image.8.18"></a><div><img src="i/8/8_18.png" alt="Схема для конфигурации протокола OSPF" width="789" height="163"></img></div><br></br><b>Рис. 8.18.</b> 
        Схема для конфигурации протокола OSPF</p><a name="ID.8.section.19"><h4>Настройка роутеров</h4></a><p>Выполним конфигурирование R1 (<a href="#ID.8.image.8.19">рис. 8.19</a>).</p><p align="left"><a name="ID.8.image.8.19"></a><div><img src="i/8/8_19.png" alt="Настройка R1" width="521" height="163"></img></div><br></br><b>Рис. 8.19.</b> 
        Настройка R1</p><p>Теперь выполним настройки R2 (<a href="#ID.8.image.8.20">рис. 8.20</a>).</p><p align="left"><a name="ID.8.image.8.20"></a><div><img src="i/8/8_20.png" alt="Настройка R2" width="471" height="210"></img></div><br></br><b>Рис. 8.20.</b> 
        Настройка R2</p><div class="xml_inset">
<b>Совет</b>
<p>Если вам потребуется в CPT сбросить настройки роутера, то следует выключить его тумблер питания, а затем снова включить.</p>
</div><a name="ID.8.section.20"><h4>Проверка результата</h4></a><p>Для проверки маршрутизации пропингуем ПК из разных сетей (<a href="#ID.8.image.8.21">рис. 8.21</a>).</p><p align="left"><a name="ID.8.image.8.21"></a><div><img src="i/8/8_21.png" alt="Результат проверки работоспособности OSPF" width="518" height="825"></img></div><br></br><b>Рис. 8.21.</b> 
        Результат проверки работоспособности OSPF</p><p>Рабочая сеть данного примера представлена <a target="_blank" href="task-8-4.pkt"><img border="0" src="http://www.intuit.ru/img/icons/www.gif"></img></a> <a target="_blank" href="task-8-4.pkt">файлом task-8-4.pkt</a>.</p><a name="ID.8.section.21"><h3>Практическая работа 8-2-2.  Настройка маршрутизации по протоколу OSPF для 6 устройств</h3></a><p>Постройте следующую схему (<a href="#ID.8.image.8.22">рис. 8.22</a>).</p><p align="left"><a name="ID.8.image.8.22"></a><div><img src="i/8/8_22.png" alt="Начальная схема сети для нашей работы" width="491" height="246"></img></div><br></br><b>Рис. 8.22.</b> 
        Начальная схема сети для нашей работы</p><p>Цель работы – настроить маршрутизацию в данной сети по протоколу OSPF.</p><a name="ID.8.section.22"><h4>Настроим loopback интерфейс на R1</h4></a><p>На R1 настроим программный <b>loopback интерфейс</b> — алгоритм, который направляет полученный сигнал (или данные) обратно отправителю (<a href="#ID.8.image.8.23">рис. 8.23</a>).</p><div class="xml_inset">
<b>Примечание</b>
<p>IPv4-адрес, назначенный loopback-интерфейсу, может быть необходим для процессов маршрутизатора, в которых используется IPv4-адрес интерфейса в целях идентификации. Один из таких процессов — алгоритм кратчайшего пути (OSPF). При включении интерфейса loopback для идентификации маршрутизатор будет использовать всегда доступный адрес интерфейса loopback, а не IP-адрес, назначенный физическому порту, работа которого может быть нарушена. На маршрутизаторе можно активировать несколько интерфейсов loopback. IPv4-адрес для каждого интерфейса loopback должен быть уникальным и не должен быть задействован другим интерфейсом.</p>
</div><p align="left"><a name="ID.8.image.8.23"></a><div><img src="i/8/8_23.png" alt="Настраиваем интерфейс loopback на R1" width="381" height="147"></img></div><br></br><b>Рис. 8.23.</b> 
        Настраиваем интерфейс loopback на R1</p><a name="ID.8.section.23"><h4>Настраиваем протокол OSPF на R1</h4></a><p>Включаем OSPF на R1, все маршрутизаторы должны быть в одной зоне <b>area 0</b> (<a href="#ID.8.image.8.24">рис. 8.24</a>).</p><div class="xml_inset">
</div><p align="left"><a name="ID.8.image.8.24"></a><div><img src="i/8/8_24.png" alt="Включаем протокол OSPF на R1" width="302" height="156"></img></div><br></br><b>Рис. 8.24.</b> 
        Включаем протокол OSPF на R1</p><p>Подводим курсор мыши к R1 и наблюдаем результат наших настроек (<a href="#ID.8.image.8.25">рис. 8.25</a>).</p><p align="left"><a name="ID.8.image.8.25"></a><div><img src="i/8/8_25.png" alt="Маршрутизатор R1 настроен" width="336" height="72"></img></div><br></br><b>Рис. 8.25.</b> 
        Маршрутизатор R1 настроен</p><div class="xml_inset">
<b>Примечание</b>
<p>Обратите внимание, что физически порта 192.168.100.1 нет, он существует только логически (программно).</p>
</div><a name="ID.8.section.24"><h4>Настроим loopback интерфейс на R2</h4></a><p>На R2 настроим программный loopback интерфейс по аналогии с R1 (<a href="#ID.8.image.8.26">рис. 8.26</a>).</p><p align="left"><a name="ID.8.image.8.26"></a><div><img src="i/8/8_26.png" alt="Настраиваем логический интерфейс loopback на R2" width="414" height="191"></img></div><br></br><b>Рис. 8.26.</b> 
        Настраиваем логический интерфейс loopback на R2</p><a name="ID.8.section.25"><h4>Настраиваем OSPF на R2</h4></a><p>Включаем протокол OSPF на R2, все маршрутизаторы должны быть в одной зоне area 0 (<a href="#ID.8.image.8.27">рис. 8.27</a>).</p><p align="left"><a name="ID.8.image.8.27"></a><div><img src="i/8/8_27.png" alt="Включаем протокол OSPF на R2" width="318" height="187"></img></div><br></br><b>Рис. 8.27.</b> 
        Включаем протокол OSPF на R2</p><p>Подводим курсор мыши к R2 и наблюдаем результат наших настроек (<a href="#ID.8.image.8.28">рис. 8.28</a>).</p><p align="left"><a name="ID.8.image.8.28"></a><div><img src="i/8/8_28.png" alt="Маршрутизатор R2 настроен" width="337" height="67"></img></div><br></br><b>Рис. 8.28.</b> 
        Маршрутизатор R2 настроен</p><a name="ID.8.section.26"><h4>Настраиваем loopback интерфейс на R3</h4></a><p>Делаем все аналогично (<a href="#ID.8.image.8.29">рис. 8.29</a>).</p><p align="left"><a name="ID.8.image.8.29"></a><div><img src="i/8/8_29.png" alt="Настраиваем логический интерфейс loopback на R3" width="361" height="167"></img></div><br></br><b>Рис. 8.29.</b> 
        Настраиваем логический интерфейс loopback на R3</p><a name="ID.8.section.27"><h4>Настраиваем протокол OSPF на R3</h4></a><p>Здесь делаем все, как раньше (<a href="#ID.8.image.8.30">рис. 8.30</a>).</p><p align="left"><a name="ID.8.image.8.30"></a><div><img src="i/8/8_30.png" alt="Включаем протокол OSPF на R2" width="312" height="206"></img></div><br></br><b>Рис. 8.30.</b> 
        Включаем протокол OSPF на R2</p><p>Проверяем результат (<a href="#ID.8.image.8.31">рис. 8.31</a>).</p><p align="left"><a name="ID.8.image.8.31"></a><div><img src="i/8/8_31.png" alt="Маршрутизатор R3 настроен" width="337" height="68"></img></div><br></br><b>Рис. 8.31.</b> 
        Маршрутизатор R3 настроен</p><a name="ID.8.section.28"><h4>Проверяем работу сети</h4></a><p>Убеждаемся, что роутер R3 видит R2 и R1 (<a href="#ID.8.image.8.32">рис. 8.32</a>).</p><p align="left"><a name="ID.8.image.8.32"></a><div><img src="i/8/8_32.png" alt="Роутер R3 видит своих соседей" width="348" height="178"></img></div><br></br><b>Рис. 8.32.</b> 
        Роутер R3 видит своих соседей</p><p>Теперь посмотрим таблицу маршрутизации для R3 (<a href="#ID.8.image.8.33">рис. 8.33</a>).</p><p align="left"><a name="ID.8.image.8.33"></a><div><img src="i/8/8_33.png" alt="Таблица маршрутизации для R3" width="382" height="335"></img></div><br></br><b>Рис. 8.33.</b> 
        Таблица маршрутизации для R3</p><div class="xml_inset">
<b>Примечание</b>
<p>В этой таблице запись с буквой "О" говорит о том, что данный маршрут прописан протоколом OSPF. Мы видим, что сеть 192.168.1.0 доступна для R3 через адрес 10.10.11.1 (это порт gig0/1 маршрутизатора R1). Аналогично, сеть 192.168.2.0 доступна для R3 через адрес 10.10.12.1 (это порт gig0/1 маршрутизатора R2).</p>
</div><p>Теперь проверяем доступность разных сетей (<a href="#ID.8.image.8.34">рис. 8.34</a>).</p><p align="left"><a name="ID.8.image.8.34"></a><div><img src="i/8/8_34.png" alt="Сети 192.168.1.0 и 192.168.2.0 доступны" width="398" height="238"></img></div><br></br><b>Рис. 8.34.</b> 
        Сети 192.168.1.0 и 192.168.2.0 доступны</p><p>Рабочая сеть данного примера представлена <a target="_blank" href="task-8-5.pkt"><img border="0" src="http://www.intuit.ru/img/icons/www.gif"></img></a> <a target="_blank" href="task-8-5.pkt">файлом task-8-5.pkt</a>.</p><a name="ID.9.lecture"><h2><span class="lection_name">Лекция 9.</span> Списки доступа ACL. Настройка статического и динамического NAT</h2></a><div class="annotation"></div><a name="ID.9.section.1"><h3></h3></a><p>Списки доступа (access-lists) используются в целом ряде случаев и являются механизмом задания условий, которые роутер проверяет перед выполнением каких-либо действий. Маршрутизатор проверяет каждый пакет и на основании вышеперечисленных критериев, указанных в ACL определяет, что нужно сделать с пакетом, пропустить или отбросить. Типичными критериями являются адреса отправителя и получателя пакета, тип протокола. Каждый критерий в списке доступа записывается отдельной строкой. Список доступа в целом представляет собой набор строк с критериями, имеющих один и тот же номер (или имя). Порядок задания критериев в списке существенен. Проверка пакета насоответствие списку производится последовательным применением критериев из данного списка (в том порядке, в котором они были введены). Пакет, который не соответствует ни одному из введенных критериев будет отвергнут. Для каждого протокола на интерфейс может быть назначен только один список доступа. Как пример ниже приведена таблица списка управления доступом по 
умолчанию: </p><div class="xml_table_env"><a name=""></a><table border="0" class="xml_table" cellpadding="2" cellspacing="1"><tr><th valign="top" bgcolor="#d8d8d8">№ правила</th><th valign="top" bgcolor="#d8d8d8">Подсеть</th><th valign="top" bgcolor="#d8d8d8">Конечная точка</th><th valign="top" bgcolor="#d8d8d8">Разрешить или запретить</th></tr><tr><td valign="top" bgcolor="#eaeaea">100</td><td valign="top" bgcolor="#eaeaea">0.0.0.0/0</td><td valign="top" bgcolor="#eaeaea">3389</td><td valign="top" bgcolor="#eaeaea">Разрешить</td></tr></table></div><p><b>Без ACL</b> - по умолчанию при создании конечной точки ей все разрешено. </p><p><b>Разрешить</b> - при добавлении одного или нескольких диапазонов "разрешения" все остальные диапазоны по умолчанию запрещаются. Только пакеты из разрешенного диапазона IP-адресов смогут достичь конечной точки виртуальной машины.</p><p><b>Запретить</b> - при добавлении одного или нескольких диапазонов "запретить" все другие диапазоны трафика по умолчанию разрешаются.</p><p><b>Сочетание разрешения и запрета</b> - можно использовать сочетание правил "разрешить" и "запретить", чтобы указать вложенный разрешенный или запрещенный диапазон IP-адресов.</p><p>Рассмотрим два примерастандартных списков:</p><p><b># access-list 1 permithost 10.0.0.10</b> - разрешаем прохождение трафика от узла 10.0.0.10.</p><p><b># access-list 2 deny 10.0.1.0 0.0.0.255</b> - запрещаем прохождение пакетов из подсети 10.0.1.0/24. </p><a name="ID.9.section.2"><h3>Практическая работа 9-1.  Создание стандартного списка доступа </h3></a><p>Списки доступа бывают нескольких видов: стандартные, расширенные, динамические и другие. В стандартных ACL есть возможность задать только IP адрес источника пакетов для их запретов или разрешений. </p><p>На <a href="#ID.9.image.9.1">рис. 9.1</a> показаны две подсети: 192.168.0.0 и 10.0.0.0.</p><p align="left"><a name="ID.9.image.9.1"></a><div><img src="i/9/9_1.png" alt="Схема сети" width="337" height="222"></img></div><br></br><b>Рис. 9.1.</b> 
        Схема сети</p><a name="ID.9.section.3"><h4>Постановка задачи </h4></a><p>Требуется разрешить доступ на сервер PC1 с адресом 192.168.0.12, а PC0 c адресом 192.168.0.11 – запретить (<a href="#ID.9.image.9.2">рис. 9.2</a>).</p><p align="left"><a name="ID.9.image.9.2"></a><div><img src="i/9/9_2.png" alt="Постановка задачи" width="260" height="217"></img></div><br></br><b>Рис. 9.2.</b> 
        Постановка задачи</p><p>Соберем данную схему и настроим ее. Настройку PC1 и PC2 выполните самостоятельно.</p><a name="ID.9.section.4"><h4>Настройка R0</h4></a><p>Интерфейс 0/0 маршрутизатора1841 настроим на адрес 192.168.0.1 и включим следующими командами:</p><div class="example"><pre>Router&gt;en
Router#conf t
Router (config)#int fa0/0
Router (config-if)#ip addr 192.168.0.1  255.255.255.0
Router (config-if)#no shut
Router (config-if)#exit
</pre></div><p>Второй интерфейс маршрутизатора (порт 0/1) настроим на адресом 10.0.0.1 и так же включим:</p><div class="example"><pre>Router (config)#intfa0/1
Router (config-if)#ip addr 10.0.0.1  255.255.255.0
Router (config-if)#no shut
</pre></div><a name="ID.9.section.5"><h4>Настройка сервера</h4></a><p>Настройки сервера приведены на <a href="#ID.9.image.9.3">рис. 9.3</a>.</p><p align="left"><a name="ID.9.image.9.3"></a><div><img src="i/9/9_3.png" alt="Конфигурирование S0" width="210" height="167"></img></div><br></br><b>Рис. 9.3.</b> 
        Конфигурирование S0</p><a name="ID.9.section.6"><h4>Диагностика сети</h4></a><p>Проверяем связь ПК из разных сетей (<a href="#ID.9.image.9.4">рис. 9.4</a>).</p><p align="left"><a name="ID.9.image.9.4"></a><div><img src="i/9/9_4.png" alt="ПК из разных сетей могут общаться" width="345" height="239"></img></div><br></br><b>Рис. 9.4.</b> 
        ПК из разных сетей могут общаться</p><a name="ID.9.section.7"><h4>Приступаем к решению задачи</h4></a><p>Правило запрета и разрешения доступа будем составлять с использованием стандартных списков доступа (ACL). Пока не задан список доступа на интерфейсе всё разрешено (<b>permit</b>). Но, стоит создать список, сразу действует механизм "Всё, что не разрешено, то запрещено". Поэтому нет необходимости что-то запрещать (<b>deny</b>) – указываем что разрешено, а "остальным – запретить" подразумевается автоматически. По условиям задачи нам нужно на R0 пропустить пакеты с узла 192.168.0.12 на сервер (<a href="#ID.9.image.9.5">рис. 9.5</a>).</p><p align="left"><a name="ID.9.image.9.5"></a><div><img src="i/9/9_5.png" alt="Создаем на R0 разрешающий ACL" width="300" height="105"></img></div><br></br><b>Рис. 9.5.</b> 
        Создаем на R0 разрешающий ACL</p><p>Применяется данное правило на интерфейс в зависимости от направления (PC1 расположен со стороны порта Fa0/0) – <a href="#ID.9.image.9.6">рис. 9.6</a>. Эта настройка означает, что список доступа (правило с номером 1) будет действовать на интерфейсе fa0/0 на входящем (in) от PC1 направлении.</p><p align="left"><a name="ID.9.image.9.6"></a><div><img src="i/9/9_6.png" alt="Применяем правило к порту Fa0/0" width="229" height="112"></img></div><br></br><b>Рис. 9.6.</b> 
        Применяем правило к порту Fa0/0</p><div class="xml_inset">
<b>Примечание</b>
<p>Входящий трафик (in) — этот тот, который приходит на интерфейс извне. Исходящий (out) — тот, который отправляется с интерфейса вовне. Список доступа вы можете применить либо на входящий трафик, тогда неугодные пакеты не будут даже попадать на маршрутизатор и соответственно, дальше в сеть, либо на исходящий, тогда пакеты приходят на маршрутизатор, обрабатываются им, доходят до целевого интерфейса и только на нём обрабатываются. Как правило, списки применяют на входящий трафик (in).</p>
</div><p>Проверяем связь ПК с сервером (<a href="#ID.9.image.9.7">рис. 9.7</a> и <a href="#ID.9.image.9.8">рис. 9.8</a>).</p><p align="left"><a name="ID.9.image.9.7"></a><div><img src="i/9/9_7.png" alt="Для PC1 сервер доступен" width="275" height="171"></img></div><br></br><b>Рис. 9.7.</b> 
        Для PC1 сервер доступен</p><p align="left"><a name="ID.9.image.9.8"></a><div><img src="i/9/9_8.png" alt="Для PC0сервер не доступен" width="292" height="177"></img></div><br></br><b>Рис. 9.8.</b> 
        Для PC0сервер не доступен</p><p>Давайте посмотрим ACL (<a href="#ID.9.image.9.9">рис. 9.9</a>).</p><p align="left"><a name="ID.9.image.9.9"></a><div><img src="i/9/9_9.png" alt="Узел 192.168.0.12 разрешен" width="316" height="141"></img></div><br></br><b>Рис. 9.9.</b> 
        Узел 192.168.0.12 разрешен</p><p>Рабочая сеть данного примера представлена <a target="_blank" href="task-9-1.pkt"><img border="0" src="http://www.intuit.ru/img/icons/www.gif"></img></a> <a target="_blank" href="task-9-1.pkt">файлом task-9-1.pkt</a>.</p><div class="xml_inset">
<b>Примечание</b>
<p>Теперь, предположим, нужно добавить новый узел, например, PC2 с адресом 192.168.0.13 в раздел "разрешённых". Пишем команду <b>Router (config)#access-list 1 permit host 192.168.0.13</b>. Теперь адреса192.168.0.12 и 192.168.0.13 могут общаться с сервером, в 192.168.0.11 – нет. А для отмены какого-либо правила – повторяем его с приставкой "no". Тогда это правило исключается из конфигурации. Например, если выполнить команду <b>Router (config-if)#no ip access-group 1 in</b>, то ACL будет отменен и снова все ПК могут пинговать сервер.</p>
</div><a name="ID.9.section.8"><h3>Расширенные списки доступа ACL</h3></a><p>Стандартные права не так гибки, как хотелось бы. В отличие от стандартных списков, расширенные списки фильтруют трафик более "тонко". При создании расширенных списков в правилах доступа можно включать фильтрацию трафика по протоколам и портам. Для указания портов в правиле доступа указываются следующие обозначения ():</p><div class="xml_table_env"><a name="ID.9.table.9.1"></a><table border="0" class="xml_table" cellpadding="2" cellspacing="1"><caption>
                    Таблица 9.1.
                    Обозначение портов в ACL</caption><tr><th valign="top" bgcolor="#d8d8d8">обозначение</th><th valign="top" bgcolor="#d8d8d8">действие</th></tr><tr><td valign="top" bgcolor="#eaeaea">lt n </td><td valign="top" bgcolor="#eaeaea">Все номера портов, меньшие n.</td></tr><tr><td valign="top" bgcolor="#eaeaea">gt n</td><td valign="top" bgcolor="#eaeaea">Все номера портов, большие n.</td></tr><tr><td valign="top" bgcolor="#eaeaea">eq n</td><td valign="top" bgcolor="#eaeaea">Порт n</td></tr><tr><td valign="top" bgcolor="#eaeaea">neq n</td><td valign="top" bgcolor="#eaeaea">Все порты, за исключением n.</td></tr><tr><td valign="top" bgcolor="#eaeaea">range n m</td><td valign="top" bgcolor="#eaeaea">Все порты от n до m включительно.</td></tr></table></div><a name="ID.9.section.9"><h3>Практическая работа 9-2-1.  Расширенные списки доступа ACL</h3></a><p>Соберите схему сети, показанную на <a href="#ID.9.image.9.10">рис. 9.10</a>.</p><p align="left"><a name="ID.9.image.9.10"></a><div><img src="i/9/9_10.png" alt="Схема сети" width="348" height="311"></img></div><br></br><b>Рис. 9.10.</b> 
        Схема сети</p><p>Задача: разрешить доступ к FTP серверу 10.0.1.3 дляузла 192.168.1.2 и запретить для узла 192.168.1.3.</p><a name="ID.9.section.10"><h4>Создаем расширенные списки доступа и запрещаем FTP трафик</h4></a><p>Постановка задачи графически изображена на <a href="#ID.9.image.9.11">рис. 9.11</a>.</p><p align="left"><a name="ID.9.image.9.11"></a><div><img src="i/9/9_11.png" alt="Стрелками показана цель нашей работы" width="348" height="311"></img></div><br></br><b>Рис. 9.11.</b> 
        Стрелками показана цель нашей работы</p><p>Изначально на сервере 10.0.1.3 FTP сервис поднят по умолчанию со значениями имя пользователя Cisco, пароль Cisco. Убедимся, что узел S0 доступен и FTP работает, для этого заходим на PC1 и связываемся с сервером (<a href="#ID.9.image.9.12">рис. 9.12</a>). Выполняем какие-либо команды, например, DIR – чтение директории.</p><p align="left"><a name="ID.9.image.9.12"></a><div><img src="i/9/9_12.png" alt="FTPсервер доступен" width="349" height="620"></img></div><br></br><b>Рис. 9.12.</b> 
        FTPсервер доступен</p><div class="xml_inset">
<b>Примечание</b>
<p>При наборе пароля на экране ничего не отображается.</p>
</div><p>Теперь создадим список правил с номером 101 в котором  укажем 2 разрешающих и по 2 запрещающих правила для портов сервера 21 и 20 (Эти порты служат для FTP - передачи команд и данных) – <a href="#ID.9.image.9.13">рис. 9.13</a>.</p><p align="left"><a name="ID.9.image.9.13"></a><div><img src="i/9/9_13.png" alt="Составляем расширенные списки доступа" width="491" height="144"></img></div><br></br><b>Рис. 9.13.</b> 
        Составляем расширенные списки доступа</p><div class="xml_inset">
<b>Совет</b>
<p>Набирайте команды аккуратно и внимательно: даже один лишний пробел может привести к ошибке при выполнении команды.</p>
</div><p>А теперь применяем наш список с номером 101 на вход (in) Fa0/1 потому, что трафик входит на этот порт роутера со стороны сети 192.168.1.0 (<a href="#ID.9.image.9.14">рис. 9.14</a>).</p><p align="left"><a name="ID.9.image.9.14"></a><div><img src="i/9/9_14.png" alt="Применяем правило с номером 101 к порту 0/1 роутера" width="343" height="147"></img></div><br></br><b>Рис. 9.14.</b> 
        Применяем правило с номером 101 к порту 0/1 роутера</p><p>Проверяем связь сервера с PC2 (<a href="#ID.9.image.9.15">рис. 9.15</a>).</p><p align="left"><a name="ID.9.image.9.15"></a><div><img src="i/9/9_15.png" alt="Для PC2 FTP сервер не доступен" width="325" height="222"></img></div><br></br><b>Рис. 9.15.</b> 
        Для PC2 FTP сервер не доступен</p><p>Проверяем связь сервера с PC1 (<a href="#ID.9.image.9.16">рис. 9.16</a>).</p><p align="left"><a name="ID.9.image.9.16"></a><div><img src="i/9/9_16.png" alt="Для PC1 FTP сервер доступен" width="229" height="164"></img></div><br></br><b>Рис. 9.16.</b> 
        Для PC1 FTP сервер доступен</p><p>Рабочая сеть данного примера представлена <a target="_blank" href="task-9-2.pkt"><img border="0" src="http://www.intuit.ru/img/icons/www.gif"></img></a> <a target="_blank" href="task-9-2.pkt">файлом task-9-2.pkt</a>.</p><a name="ID.9.section.11"><h3>Настройка статического NAT </h3></a><p>NAT (Network Address Translation) — трансляция сетевых адресов, технология, которая позволяет преобразовывать (изменять) IP адреса и порты в сетевых пакетах. NAT используется чаще всего для осуществления доступа устройств из локальной сети предприятия в Интернет, либо наоборот для доступа из Интернет на какой-либо ресурс внутри сети. Локальная сеть предприятия строится на частных IP адресах:</p><ul><li>10.0.0.0 — 10.255.255.255  (10.0.0.0/255.0.0.0  (/8))</li><li>172.16.0.0 — 172.31.255.255  (172.16.0.0/255.240.0.0  (/12))</li><li>192.168.0.0 — 192.168.255.255  (192.168.0.0/255.255.0.0   (/16))</li></ul><p>Эти адреса не маршрутизируются в Интернете, и провайдеры должны отбрасывать пакеты с такими IP адресами отправителей или получателей. Для преобразования частных адресов в Глобальные (маршрутизируемые в Интернете) применяют NAT. </p><div class="xml_inset">
<b>Новый термин</b>
<p><b>NAT</b> — технология трансляции сетевых адресов, т.е. подмены адресов (или портов) в заголовке IP-пакета. Другими словами, пакет, проходя через маршрутизатор, может поменять свой адрес источника и/или назначения. Подобный механизм служит для обеспечения доступа из LAN, где используются частные IP-адреса, в Internet, где используются глобальные IP-адреса. </p>
</div><p>Существует три вида трансляции Static NAT, Dynamic NAT, Overloading (PAT). </p><ul><li>Static NAT (<b>статический NAT</b>) осуществляет преобразование IP адреса один к одному, то есть сопоставляется один адрес из внутренней сети с одним адресом из внешней сети. Иными словами, при прохождении через маршрутизатор, адрес(а) меняются на строго заданный адрес, один-к-одному (Например, 10.1.1.5 всегда заменяется на 11.1.1.5 и обратно). Запись о такой трансляции хранится неограниченно долго, пока есть соответствующая строчка в конфигурации роутера.</li><li>Dynamic NAT (<b>динамический NAT</b>) производит преобразование внутреннего адреса/ов в один из группы внешних адресов. То есть, перед использованием динамической трансляции, нужно задать nat-пул внешних адресов. В этом случае при прохождении через маршрутизатор, новый адрес выбирается динамически из некоторого диапазона адресов, называемого пулом (pool). Запись о трансляции хранится некоторое время, чтобы ответные пакеты могли быть доставлены адресату. Если в течение некоторого времени трафик по этой трансляции отсутствует, трансляция удаляется и адрес возвращается в пул. Если требуется создать трансляцию, а свободных адресов в пуле нет, то пакет отбрасывается. Иными словами, хорошо бы, чтобы число внутренних адресов было ненамного больше числа адресов в пуле, иначе высока вероятность проблем с выходом в WAN.</li><li>Overloading(или <b>PAT</b>) позволяет преобразовывать несколько внутренних адресов в один внешний. Для осуществления такой трансляции используются порты, поэтому такой NAT называют PAT (Port Address Translation).  С помощью PAT можно преобразовывать внутренние адреса во внешний адрес, заданный через пул или через адрес на внешнем интерфейсе.</li></ul><a name="ID.9.section.12"><h3>Практическая работа 9-3-1. Статическая трансляция адресов NAT</h3></a><p>На <a href="#ID.9.image.9.17">рис. 9.17</a> имеется внешний адрес 20.20.20.20 (внешний интерфейс fa0/1) и внутренняя сеть 10.10.10.0 (внутренний интерфейс fa0/0). Нужно настроить NAT. Предполагается, что адреса уже прописаны, и сеть поднята (рабочая).</p><p align="left"><a name="ID.9.image.9.17"></a><div><img src="i/9/9_17.png" alt="Схема сети" width="420" height="118"></img></div><br></br><b>Рис. 9.17.</b> 
        Схема сети</p><a name="ID.9.section.13"><h4>На R0 добавляем access-list, разрешаем всё (any)</h4></a><p>Разрешаем весь трафик, то есть, любой IP адрес (<a href="#ID.9.image.9.18">рис. 9.18</a>).</p><p align="left"><a name="ID.9.image.9.18"></a><div><img src="i/9/9_18.png" alt="Составляем лист допуска" width="491" height="165"></img></div><br></br><b>Рис. 9.18.</b> 
        Составляем лист допуска</p><a name="ID.9.section.14"><h4>Создаём правило трансляции</h4></a><p>Теперь настроим трансляцию на интерфейсах (на внутреннем inside, на внешнем – outside), то есть, для R0 указываем внутренний и внешний порты (<a href="#ID.9.image.9.19">рис. 9.19</a>).</p><p align="left"><a name="ID.9.image.9.19"></a><div><img src="i/9/9_19.png" alt="Для R0 назначаем внутренний и внешний порты" width="404" height="173"></img></div><br></br><b>Рис. 9.19.</b> 
        Для R0 назначаем внутренний и внешний порты</p><p>Выходим из режима глобального конфигурирования и записываем настройки роутера в микросхему памяти (<a href="#ID.9.image.9.20">рис. 9.20</a>).</p><p align="left"><a name="ID.9.image.9.20"></a><div><img src="i/9/9_20.png" alt="Сохраняем настройки в ОЗУ" width="296" height="157"></img></div><br></br><b>Рис. 9.20.</b> 
        Сохраняем настройки в ОЗУ</p><a name="ID.9.section.15"><h4>Проверяем работу сети (просмотр состояния таблицы NAT)</h4></a><p>С PC0 пингуем провайдера и убеждаемся, что PC1 и сервер могут общаться (<a href="#ID.9.image.9.21">рис. 9.21</a>).</p><p align="left"><a name="ID.9.image.9.21"></a><div><img src="i/9/9_21.png" alt="Из внутренней сети пингуем внешнюю сеть" width="354" height="280"></img></div><br></br><b>Рис. 9.21.</b> 
        Из внутренней сети пингуем внешнюю сеть</p><p>Для просмотра состояния таблицы NAT, одновременно с пингом используйте команду <b>Router#sh ip nat translations</b> (я запустил пинг с машины 10.10.10.1, т.е., с PC1 на адрес 20.20.20.21, т.е., на S0) – <a href="#ID.9.image.9.22">рис. 9.22</a>.</p><p align="left"><a name="ID.9.image.9.22"></a><div><img src="i/9/9_22.png" alt="Вовремя пинга просматриваем состояние таблицы NAT" width="491" height="182"></img></div><br></br><b>Рис. 9.22.</b> 
        Вовремя пинга просматриваем состояние таблицы NAT</p><p>Убеждаемся в успешной маршрутизации в режиме симуляции (<a href="#ID.9.image.9.23">рис. 9.23</a>).</p><p align="left"><a name="ID.9.image.9.23"></a><div><img src="i/9/9_23.png" alt="Связь PC0 и S0 работает" width="620" height="152"></img></div><br></br><b>Рис. 9.23.</b> 
        Связь PC0 и S0 работает</p><a name="ID.9.section.16"><h4>Задание 9.3</h4></a><p>Если в схему добавить PC1 (<a href="#ID.9.image.9.24">рис. 9.24</a>), то будет ли работать статический NAT между ним и S0?</p><p align="left"><a name="ID.9.image.9.24"></a><div><img src="i/9/9_24.png" alt="Задание для самостоятельной работы" width="425" height="214"></img></div><br></br><b>Рис. 9.24.</b> 
        Задание для самостоятельной работы</p><p>Решение задачи приведено в виде <a target="_blank" href="task-9-3.pkt"><img border="0" src="http://www.intuit.ru/img/icons/www.gif"></img></a> <a target="_blank" href="task-9-3.pkt">файла task-9-3.pkt</a>.</p><a name="ID.9.section.17"><h3>Практическая работа 9-3-2. Настройка статического NAT</h3></a><p>Статический NAT - сопоставляет один NAT inside (внутренний=частный локальный ip-адрес) с одним NAT outside (глобальным=публичным внешним ip-адресом) – <a href="#ID.9.image.9.25">рис. 9.25</a>. Здесь ISP (Internet Service Provider) - поставщик Интернет-услуг (Интернет-провайдер). </p><p align="left"><a name="ID.9.image.9.25"></a><div><img src="i/9/9_25.png" alt="Схема сети" width="437" height="266"></img></div><br></br><b>Рис. 9.25.</b> 
        Схема сети</p><a name="ID.9.section.18"><h4>Алгоритм настройки R1</h4></a><p>Ниже приведена последовательность команд конфигурирования маршрутизатора R1 по шагам.</p><p><b>Шаг 1. Настройка дефолта на R1</b></p><p><span class="texample">R1(config)# ip route 0.0.0.0 0.0.0.0 200.20.20.2</span></p><p><b>Шаг 2. Настройка внутреннего интерфейса в отношение NAT</b></p><div class="example"><pre>R1(config)# interface fastethernet 0/0
R1(config-if)# ip nat inside
</pre></div><p><b>Шаг 3. Настройка внешнего интерфейса в отношение NAT</b></p><div class="example"><pre>R1(config)# interface fastethernet 0/1 
R1(config-if)# ip nat outside 
</pre></div><p><b>Шаг 4. Настройка сопоставления ip-адресов.</b></p><p><span class="texample">R1(config)# ip nat inside source static 10.10.10.2 200.10.21.5</span></p><p>В результате этой команды ip-адресу 200.10.21.5 всегда будет соответствовать внутренний ip-адрес 10.10.10.2, т.е. если мы будем обращаться к адресу 200.10.21.5 то отвечать будет PC1.   </p><p>Полный листинг команд приведен на <a href="#ID.9.image.9.26">рис. 9.26</a>.</p><p align="left"><a name="ID.9.image.9.26"></a><div><img src="i/9/9_26.png" alt="Полный листинг команд по настройке R1" width="381" height="280"></img></div><br></br><b>Рис. 9.26.</b> 
        Полный листинг команд по настройке R1</p><a name="ID.9.section.19"><h4>Команды для проверки работы NAT</h4></a><p>Проверим связь PC1 и R2 (<a href="#ID.9.image.9.27">рис. 9.27</a>).</p><p align="left"><a name="ID.9.image.9.27"></a><div><img src="i/9/9_27.png" alt="PC1 видит R2" width="305" height="254"></img></div><br></br><b>Рис. 9.27.</b> 
        PC1 видит R2</p><p>Проверим, что R1 видит соседние сети (<a href="#ID.9.image.9.28">рис. 9.28</a>).</p><p align="left"><a name="ID.9.image.9.28"></a><div><img src="i/9/9_28.png" alt="R1 видит PC1 и R2" width="383" height="230"></img></div><br></br><b>Рис. 9.28.</b> 
        R1 видит PC1 и R2</p><p>Проверим механизм работы статического NAT: команда <b>show ip nat translations</b> выводит активные преобразования, а команда <b>show ip nat statistics</b> выводит статистику по NAT преобразованиям (<a href="#ID.9.image.9.29">рис. 9.29</a>).</p><p align="left"><a name="ID.9.image.9.29"></a><div><img src="i/9/9_29.png" alt="Проверка механизма работы статического NAT" width="389" height="255"></img></div><br></br><b>Рис. 9.29.</b> 
        Проверка механизма работы статического NAT</p><p>Из иллюстрации видим, что глобальному ip-адресу 200.10.21.5 соответствует локальный ip-адрес 10.10.10.2,а также, какой интерфейс является внешним, а какой -внутренним.</p><p>Рабочая схема сети данного примера представлена в виде <a target="_blank" href="task-9-4.pkt"><img border="0" src="http://www.intuit.ru/img/icons/www.gif"></img></a> <a target="_blank" href="task-9-4.pkt">файла task-9-4.pkt</a>.</p><a name="ID.9.section.20"><h3>Динамическая трансляция адресов. Настройка динамического NAT </h3></a><p>Динамический NAT - использует пул доступных глобальных (публичных) ip-адресов и назначает их внутренним локальным (частным) адресам. Схема для нашей работы приведена на <a href="#ID.9.image.9.30">рис. 9.30</a>.</p><p align="left"><a name="ID.9.image.9.30"></a><div><img src="i/9/9_30.png" alt="Схема сети" width="437" height="266"></img></div><br></br><b>Рис. 9.30.</b> 
        Схема сети</p><a name="ID.9.section.21"><h3>Практическая работа 9-4-1. Настройка динамического NAT на маршрутизаторе R1 по шагам.</h3></a><p><b>Шаг 1. Настройка на R1 списка доступа, соответствующего адресам LAN</b></p><div class="example"><pre>R1 (config)# access-list 1 permit 10.10.10.0 0.0.0.255</pre></div><p>Здесь 0.0.0.225 – обратная (инверсная) маска для адреса 10.10.10.0. </p><p><b>Шаг 2. Настройка пула адресов</b></p><div class="example"><pre>R1 (config)# ip nat pool white-address 200.20.21.1 200.20.21.30 net mask 255.255.255.0</pre></div><p><b>Шаг 3. Настройка трансляции</b></p><div class="example"><pre>R1 (config)# ip nat inside source list 1 pool white-address</pre></div><p><b>Шаг 4. Настройка внутреннего интерфейса в отношение NAT</b></p><div class="example"><pre>R1 (config)# interface fastethernet 0/0
R1 (config-if)# ip nat inside
</pre></div><p><b>Шаг 5. Настройка внешнего интерфейса в отношение NAT</b></p><div class="example"><pre>R1 (config)# interface fastethernet 0/1
R1 (config-if)# ip nat outside  
</pre></div><p>Ниже дан полный листинг команд по настройке R1 (<a href="#ID.9.image.9.31">рис. 9.31</a>).</p><p align="left"><a name="ID.9.image.9.31"></a><div><img src="i/9/9_31.png" alt="Полный листинг команд по конфигурированию R1" width="385" height="313"></img></div><br></br><b>Рис. 9.31.</b> 
        Полный листинг команд по конфигурированию R1</p><a name="ID.9.section.22"><h3>Команды для проверки работы динамического NAT</h3></a><p>Проверим связь PC1 и R2 (<a href="#ID.9.image.9.32">рис. 9.32</a>).</p><p align="left"><a name="ID.9.image.9.32"></a><div><img src="i/9/9_32.png" alt="PC1 видит R2" width="397" height="298"></img></div><br></br><b>Рис. 9.32.</b> 
        PC1 видит R2</p><p>Проверим, что R1 видит соседние сети (<a href="#ID.9.image.9.33">рис. 9.33</a>).</p><p align="left"><a name="ID.9.image.9.33"></a><div><img src="i/9/9_33.png" alt="R1 видит подсети 10.10.10.0 и 200.20.20.0" width="461" height="279"></img></div><br></br><b>Рис. 9.33.</b> 
        R1 видит подсети 10.10.10.0 и 200.20.20.0</p><p>Проверим механизм работы динамического NAT: для этого выполним одновременно (параллельно) команды <b>ping</b> и <b>show ip nat translations</b> (<a href="#ID.9.image.9.34">рис. 9.34</a>).</p><p align="left"><a name="ID.9.image.9.34"></a><div><img src="i/9/9_34.png" alt="Адреса: глобальный, внутренний, внешний" width="472" height="182"></img></div><br></br><b>Рис. 9.34.</b> 
        Адреса: глобальный, внутренний, внешний</p><p>Командой <b>show ip nat statistics</b> выведем статистику по NAT преобразованиям (<a href="#ID.9.image.9.35">рис. 9.35</a>).</p><p align="left"><a name="ID.9.image.9.35"></a><div><img src="i/9/9_35.png" alt="Статистика работы динамического NAT" width="457" height="256"></img></div><br></br><b>Рис. 9.35.</b> 
        Статистика работы динамического NAT</p><p>Из иллюстрации видим, что локальным адресам соответствует пул внешних адресов от 200.20.21.1 до 20.20.21.30.</p><p>Рабочая сеть данного примера прилагается к курсу в виде файла <a target="_blank" href="task-9-5.pkt"><img border="0" src="http://www.intuit.ru/img/icons/www.gif"></img></a> <a target="_blank" href="task-9-5.pkt">task-9-5.pkt</a></p><a name="ID.9.section.23"><h3>Практическая работа 9-4-2. Динамический NAT Overload: настройка PAT (маскарадинг)</h3></a><p>PAT (Port Address Translation) - отображает несколько локальных (частных) ip-адресов в глобальный ip-адрес, используя различные порты (<a href="#ID.9.image.9.36">рис. 9.36</a>).</p><p align="left"><a name="ID.9.image.9.36"></a><div><img src="i/9/9_36.png" alt="Схема сети на настройки трансляции адресов PAT" width="437" height="266"></img></div><br></br><b>Рис. 9.36.</b> 
        Схема сети на настройки трансляции адресов PAT</p><p>Рассмотрим алгоритм нашей работы по шагам.</p><p><b>Шаг 1. Настройка списка доступа, соответствующего внутренним частным адресам</b></p><div class="example"><pre>R1(config)# access-list 1 permit 10.10.10.0 0.0.0.255 </pre></div><p><b>Шаг 2. Настройка трансляции</b></p><div class="example"><pre>R1(config)# ip nat inside source list 1 interface fastethernet 0/1 overload </pre></div><p><b>Шаг 3. Настройка внутреннего интерфейса в отношение NAT</b></p><div class="example"><pre>R1(config)# interface fastethernet 0/0
R1(config-if)# ip nat inside 
</pre></div><p><b>Шаг 4. Настройка NAT на интерфейсе</b></p><div class="example"><pre>R1(config)# interface fastethernet 0/1
R1(config-if)# ip nat outside  
</pre></div><p>Ниже дан полный листинг команд по конфигурированию R1 (<a href="#ID.9.image.9.37">рис. 9.37</a>).</p><p align="left"><a name="ID.9.image.9.37"></a><div><img src="i/9/9_37.png" alt="Листинг команд по конфигурированию R1" width="377" height="296"></img></div><br></br><b>Рис. 9.37.</b> 
        Листинг команд по конфигурированию R1</p><a name="ID.9.section.24"><h3>Команды для проверки работы маскарадинга (PAT)</h3></a><p>Проверим связь PC1 и R2 (<a href="#ID.9.image.9.38">рис. 9.38</a>).</p><p align="left"><a name="ID.9.image.9.38"></a><div><img src="i/9/9_38.png" alt="PC1 видит R2" width="407" height="295"></img></div><br></br><b>Рис. 9.38.</b> 
        PC1 видит R2</p><p>Проверим, что R1 видит соседние сети (<a href="#ID.9.image.9.39">рис. 9.39</a>).</p><p align="left"><a name="ID.9.image.9.39"></a><div><img src="i/9/9_39.png" alt="R1 видит подсети 10.10.10.0 и 200.20.20.0" width="455" height="275"></img></div><br></br><b>Рис. 9.39.</b> 
        R1 видит подсети 10.10.10.0 и 200.20.20.0</p><p>Проверим механизм работы динамического NAT: для этого выполним одновременно (параллельно) команды <b>ping и show ip nat translations </b>(<a href="#ID.9.image.9.40">рис. 9.40</a>).</p><p align="left"><a name="ID.9.image.9.40"></a><div><img src="i/9/9_40.png" alt="Адреса: глобальный, внутренний, внешний" width="467" height="197"></img></div><br></br><b>Рис. 9.40.</b> 
        Адреса: глобальный, внутренний, внешний</p><p>Проверим работу сети в режиме симуляции (<a href="#ID.9.image.9.41">рис. 9.41</a>).</p><p align="left"><a name="ID.9.image.9.41"></a><div><img src="i/9/9_41.png" alt="PAT работает, PC1 и R2 отправляют и получают пакеты Successful" width="491" height="230"></img></div><br></br><b>Рис. 9.41.</b> 
        PAT работает, PC1 и R2 отправляют и получают пакеты Successful</p><p>Рабочая сеть данного примера прилагается к курсу в виде <a target="_blank" href="task-9-6.pkt"><img border="0" src="http://www.intuit.ru/img/icons/www.gif"></img></a> <a target="_blank" href="task-9-6.pkt">файла task-9-6.pkt</a></p><a name="ID.10.lecture"><h2><span class="lection_name">Лекция 10.</span> Беспроводные сети</h2></a><div class="annotation"></div><a name="ID.10.section.1"><h3>Беспроводная сеть WEP</h3></a><p>Создание новой беспроводной сети начинается непосредственно с конфигурации точки доступа - беспроводного маршрутизатора (роутера) подключения к ней компьютеров и другого беспроводного оборудования. Классический способ настройки такой: вначале производится подключение к точке доступа оборудования, а затем нужно задать вручную имя беспроводной сети и ключ безопасности. В этой лекции и далее мы рассмотрим различные варианты беспроводных сетей и способы их настройки в программе CPT. Ключ безопасности беспроводной сети - уникальный код (пароль), который закрывает доступ к вашей сети. При этом важен не столько сам ключ, сколько тип шифрования. Дело в том, что вся информация, которая протекает между роутером и ПК шифруется. И если вы ввели неправильный ключ, то ваше устройство просто не сможет раскодировать ее. Это сделано для повышения безопасности. Стоит отметить, что на сегодняшний день существует три типа шифрования Wi-Fi подключений: WPA. WPA2. WEP.</p><div class="xml_inset">
<b>Новый термин</b>
<p>WEP (Wired Equivalent Privacy) — алгоритм для обеспечения безопасности сетей Wi-Fi. Используется для обеспечения защиты, передаваемых данных</p>
</div><a name="ID.10.section.2"><h3>Практическая работа 10-1-1.  Создание новой беспроводной сети</h3></a><p>Схема для работы показана на <a href="#ID.10.image.10.1">рис. 10.1</a>.</p><p align="left"><a name="ID.10.image.10.1"></a><div><img src="i/10/10_1.png" alt="Схема сети" width="310" height="213"></img></div><br></br><b>Рис. 10.1.</b> 
        Схема сети</p><p>Оснастим маршрутизатор радиоточкой доступа HWIC-AP-AG-B (<a href="#ID.10.image.10.2">рис. 10.2</a>).</p><p align="left"><a name="ID.10.image.10.2"></a><div><img src="i/10/10_2.png" alt="Радиоточка доступа HWIC-AP-AG-B" width="342" height="198"></img></div><br></br><b>Рис. 10.2.</b> 
        Радиоточка доступа HWIC-AP-AG-B</p><p>Вставим в ПК беспроводный адаптер WMP300N. Для этого сначала выключим ПК и уберем из него модуль PT-HOST-NM-1CFE (<a href="#ID.10.image.10.3">рис. 10.3</a>).</p><p align="left"><a name="ID.10.image.10.3"></a><div><img src="i/10/10_3.png" alt="Удаляем модуль PT-HOST-NM-1CFE" width="491" height="230"></img></div><br></br><b>Рис. 10.3.</b> 
        Удаляем модуль PT-HOST-NM-1CFE</p><p>Вставляем беспроводный адаптер WMP300N (<a href="#ID.10.image.10.4">рис. 10.4</a>).</p><p align="left"><a name="ID.10.image.10.4"></a><div><img src="i/10/10_4.png" alt="Оснащаем ПК беспроводным адаптером" width="305" height="270"></img></div><br></br><b>Рис. 10.4.</b> 
        Оснащаем ПК беспроводным адаптером</p><p>Реальный вид беспроводного адаптера WMP300N приведен на <a href="#ID.10.image.10.5">рис. 10.5</a>.</p><p align="left"><a name="ID.10.image.10.5"></a><div><img src="i/10/10_5.png" alt="Беспроводный адаптер WMP300N" width="337" height="265"></img></div><br></br><b>Рис. 10.5.</b> 
        Беспроводный адаптер WMP300N</p><p>Настроим беспроводный адаптер на PC1 (<a href="#ID.10.image.10.6">рис. 10.6</a>).</p><p align="left"><a name="ID.10.image.10.6"></a><div><img src="i/10/10_6.png" alt="Настройка беспроводного адаптера" width="394" height="304"></img></div><br></br><b>Рис. 10.6.</b> 
        Настройка беспроводного адаптера</p><p>Проверим результат (<a href="#ID.10.image.10.7">рис. 10.7</a> и <a href="#ID.10.image.10.8">рис. 10.8</a>).</p><p align="left"><a name="ID.10.image.10.7"></a><div><img src="i/10/10_7.png" alt="Проверка связи ПК и маршрутизатора" width="386" height="275"></img></div><br></br><b>Рис. 10.7.</b> 
        Проверка связи ПК и маршрутизатора</p><p align="left"><a name="ID.10.image.10.8"></a><div><img src="i/10/10_8.png" alt="Проверка связи ПК и маршрутизатора в режиме симуляции" width="491" height="164"></img></div><br></br><b>Рис. 10.8.</b> 
        Проверка связи ПК и маршрутизатора в режиме симуляции</p><p>Рабочая схема этой сети представлена <a target="_blank" href="task-10-1.pkt"><img border="0" src="http://www.intuit.ru/img/icons/www.gif"></img></a> <a target="_blank" href="task-10-1.pkt">файлом task-10-1.pkt</a>.</p><a name="ID.10.section.3"><h3>Беспроводная сеть WPA</h3></a><p>Типы шифрования сети WPA и WPA2 требуют от абонентов введение уникального пароля. Без него вы просто не сможете выполнить подключение. После проверки введенного ключа все данные, которые передаются между участниками сети, шифруются. Современные роутеры поддерживают обе технологии. Но, WPA2 все же предоставляет более высокую защиту. Поэтому по возможности следует выбирать именно его.</p><div class="xml_inset">
<b>Новый термин</b>
<p><span class="keyword_def">WPA</span> (Wi-Fi Protected Access) — представляет собой технологию защиты беспроводной Wi-Fi сети. Плюсами WPA являются усиленная безопасность данных и ужесточённый контроль доступа к беспроводным сетям, а также - совместимость между множеством беспроводных устройств как на аппаратном уровне, так и на программном. </p>
</div><a name="ID.10.section.4"><h3>Практическая работа 10-1-2. Настройка беспроводной сети WPA</h3></a><p>Рассмотрим сеть, изображенную на <a href="#ID.10.image.10.9">рис. 10.9</a>.</p><p align="left"><a name="ID.10.image.10.9"></a><div><img src="i/10/10_9.png" alt="Схема сети" width="347" height="226"></img></div><br></br><b>Рис. 10.9.</b> 
        Схема сети</p><p>Здесь для нас ничего нового, кроме настроек адаптера ПК (<a href="#ID.10.image.10.10">рис. 10.10</a>).</p><p align="left"><a name="ID.10.image.10.10"></a><div><img src="i/10/10_10.png" alt="Включаем технологию защиты WPA" width="419" height="316"></img></div><br></br><b>Рис. 10.10.</b> 
        Включаем технологию защиты WPA</p><p>Теперь зайдем в маршрутизатор (<a href="#ID.10.image.10.11">рис. 10.11</a>) и, чтобы включить беспроводную связь, наберем логин и пароль (<a href="#ID.10.image.10.12">рис. 10.12</a>).</p><p align="left"><a name="ID.10.image.10.11"></a><div><img src="i/10/10_11.png" alt="Роутер требует провести аутентификацию" width="229" height="191"></img></div><br></br><b>Рис. 10.11.</b> 
        Роутер требует провести аутентификацию</p><p align="left"><a name="ID.10.image.10.12"></a><div><img src="i/10/10_12.png" alt="Логин и пароль для связи беспроводных устройств" width="93" height="33"></img></div><br></br><b>Рис. 10.12.</b> 
        Логин и пароль для связи беспроводных устройств</p><p>После проведения аутентификации связь будет установлена (<a href="#ID.10.image.10.13">рис. 10.13</a>).</p><p align="left"><a name="ID.10.image.10.13"></a><div><img src="i/10/10_13.png" alt="Беспроводная связь работает" width="362" height="248"></img></div><br></br><b>Рис. 10.13.</b> 
        Беспроводная связь работает</p><p>Рабочая схема этой сети представлена <a target="_blank" href="task-10-2.pkt"><img border="0" src="http://www.intuit.ru/img/icons/www.gif"></img></a> <a target="_blank" href="task-10-2.pkt">файлом task-10-2.pkt</a>.</p><a name="ID.10.section.5"><h3>Беспроводная сеть с точкой доступа</h3></a><p>Ниже мы рассмотрим два примера настройки беспроводных WI-FI сетей.</p><a name="ID.10.section.6"><h4>Практическая работа 10-2-1.  Беспроводная сеть с точкой доступа</h4></a><p>Соберите схему сети, представленную на <a href="#ID.10.image.10.14">рис. 10.14</a>.</p><p align="left"><a name="ID.10.image.10.14"></a><div><img src="i/10/10_14.png" alt="Схема сети" width="396" height="221"></img></div><br></br><b>Рис. 10.14.</b> 
        Схема сети</p><div class="xml_inset">
<b>Новый термин</b>
<p>Точка доступа в английской терминологии – Wireless Access Point.</p>
</div><p>Рассмотрим настройки точки доступа, они соответствуют настройкам по умолчанию (<a href="#ID.10.image.10.15">рис. 10.15</a>).</p><p align="left"><a name="ID.10.image.10.15"></a><div><img src="i/10/10_15.png" alt="Настройки точки доступа" width="403" height="122"></img></div><br></br><b>Рис. 10.15.</b> 
        Настройки точки доступа</p><p>Статическая настройка ноутбука (<a href="#ID.10.image.10.16">рис. 10.16</a>).</p><p align="left"><a name="ID.10.image.10.16"></a><div><img src="i/10/10_16.png" alt="Задаем IPадрес для L0" width="250" height="203"></img></div><br></br><b>Рис. 10.16.</b> 
        Задаем IPадрес для L0</p><p>Динамическая настройка ноутбука (<a href="#ID.10.image.10.17">рис. 10.17</a>).</p><p align="left"><a name="ID.10.image.10.17"></a><div><img src="i/10/10_17.png" alt="Включаем переключатель DHCP для L1" width="430" height="184"></img></div><br></br><b>Рис. 10.17.</b> 
        Включаем переключатель DHCP для L1</p><p>Настройка серверов (<a href="#ID.10.image.10.18">рис. 10.18</a>).</p><p align="left"><a name="ID.10.image.10.18"></a><div><img src="i/10/10_18.png" alt="Сервера настроены по умолчанию" width="539" height="620"></img></div><br></br><b>Рис. 10.18.</b> 
        Сервера настроены по умолчанию</p><p>Точку доступа POINT N можете заменить на POINT 0, при этом настройки хостов можно не менять (<a href="#ID.10.image.10.19">рис. 10.19</a>).</p><p align="left"><a name="ID.10.image.10.19"></a><div><img src="i/10/10_19.png" alt="Беспроводная связь установлена" width="357" height="224"></img></div><br></br><b>Рис. 10.19.</b> 
        Беспроводная связь установлена</p><p>Рабочая схема этой сети представлена <a target="_blank" href="task-10-3.pkt"><img border="0" src="http://www.intuit.ru/img/icons/www.gif"></img></a> <a target="_blank" href="task-10-3.pkt">файлом task-10-3.pkt</a>.</p><a name="ID.10.section.7"><h4>Практическая работа 10-2-2.  Беспроводная сеть между офисами</h4></a><p>Настроим следующую беспроводную сеть (<a href="#ID.10.image.10.20">рис. 10.20</a>).</p><p align="left"><a name="ID.10.image.10.20"></a><div><img src="i/10/10_20.png" alt="WI-FIсеть между офисами" width="491" height="156"></img></div><br></br><b>Рис. 10.20.</b> 
        WI-FIсеть между офисами</p><p>Снабжаем ноутбука wi-fi адаптерами WPC300N. Настройки обоих ноутбуков аналогичны (<a href="#ID.10.image.10.21">рис. 10.21</a>).</p><p align="left"><a name="ID.10.image.10.21"></a><div><img src="i/10/10_21.png" alt="Настройки ноутбуков" width="620" height="191"></img></div><br></br><b>Рис. 10.21.</b> 
        Настройки ноутбуков</p><div class="xml_inset">
<b>Примечание</b>
<p>Каждая беспроводная локальная сеть использует уникальное сетевое имя для идентификации сети. Это имя также называется идентификатором обслуживания сети - SSID. Когда вы будете устанавливать адаптер Wi-Fi, нужно будет указать SSID. Если вы хотите подключиться к существующей беспроводной сети, вы должны использовать имя этой сети. Имя может иметь длину до 32 символов и содержать буквы и цифры. </p>
</div><p>Помимо SSID на ноутбуках настраивается шлюз (<a href="#ID.10.image.10.22">рис. 10.22</a>).</p><p align="left"><a name="ID.10.image.10.22"></a><div><img src="i/10/10_22.png" alt="На L0 и L1 указываем адрес шлюза" width="620" height="213"></img></div><br></br><b>Рис. 10.22.</b> 
        На L0 и L1 указываем адрес шлюза</p><p>SSID задаем на обеих точках доступа (<a href="#ID.10.image.10.23">рис. 10.23</a>).</p><p align="left"><a name="ID.10.image.10.23"></a><div><img src="i/10/10_23.png" alt="Задаем SSIDна точках доступа" width="620" height="172"></img></div><br></br><b>Рис. 10.23.</b> 
        Задаем SSIDна точках доступа</p><p>Проверяем связь ПК из разных офисов (<a href="#ID.10.image.10.24">рис. 10.24</a>).</p><p align="left"><a name="ID.10.image.10.24"></a><div><img src="i/10/10_24.png" alt="Связь L1 и L0 присутствует" width="402" height="279"></img></div><br></br><b>Рис. 10.24.</b> 
        Связь L1 и L0 присутствует</p><p>Рабочая схема этой сети представлена файлом <a target="_blank" href="task-10-4.pkt"><img border="0" src="http://www.intuit.ru/img/icons/www.gif"></img></a> <a target="_blank" href="task-10-4.pkt">task-10-4.pkt</a>.</p><a name="ID.10.section.8"><h3>Настройка коммутируемого WI-FI соединения</h3></a><p>В этой лекции мы рассмотрим два примера работы с wi-fi сетью.</p><a name="ID.10.section.9"><h4>Практическая работа 10-3-1.  Настройка коммутируемого WI-FI соединения</h4></a><p>Соберем и настроим сеть, изображенную на <a href="#ID.10.image.10.25">рис. 10.25</a>.</p><p align="left"><a name="ID.10.image.10.25"></a><div><img src="i/10/10_25.png" alt="WI-FI сеть" width="300" height="92"></img></div><br></br><b>Рис. 10.25.</b> 
        WI-FI сеть</p><p>Сначала зададим имя сети (SSID) на точке доступа (<a href="#ID.10.image.10.26">рис. 10.26</a>).</p><p align="left"><a name="ID.10.image.10.26"></a><div><img src="i/10/10_26.png" alt="Задаем SSID на точке доступа" width="383" height="179"></img></div><br></br><b>Рис. 10.26.</b> 
        Задаем SSID на точке доступа</p><p>В оба ПК вставляем беспроводной адаптер Linksys-WPM-300N (<a href="#ID.10.image.10.27">рис. 10.27</a>).</p><p align="left"><a name="ID.10.image.10.27"></a><div><img src="i/10/10_27.png" alt="Адаптер Linksys-WPM-300N вставлен в PC0" width="288" height="254"></img></div><br></br><b>Рис. 10.27.</b> 
        Адаптер Linksys-WPM-300N вставлен в PC0</p><p>Устанавливаем связь точки доступа и PC0, для этого нажимаем на кнопку PC Wireless (<a href="#ID.10.image.10.28">рис. 10.28</a>).</p><p align="left"><a name="ID.10.image.10.28"></a><div><img src="i/10/10_28.png" alt="Нажимаем на кнопку PCWireless" width="365" height="228"></img></div><br></br><b>Рис. 10.28.</b> 
        Нажимаем на кнопку PCWireless</p><p>Теперь открываем вкладку Connect и нажимаем на кнопку Connect (<a href="#ID.10.image.10.29">рис. 10.29</a>).</p><p align="left"><a name="ID.10.image.10.29"></a><div><img src="i/10/10_29.png" alt="Нажимаем на кнопку Connectи окно закрываем" width="430" height="379"></img></div><br></br><b>Рис. 10.29.</b> 
        Нажимаем на кнопку Connectи окно закрываем</p><p>В результате у нас получается динамическая связь PC0 и Access Point-PT (<a href="#ID.10.image.10.30">рис. 10.30</a>).</p><p align="left"><a name="ID.10.image.10.30"></a><div><img src="i/10/10_30.png" alt="Динамическая связь точки доступа и беспроводного адаптера" width="369" height="105"></img></div><br></br><b>Рис. 10.30.</b> 
        Динамическая связь точки доступа и беспроводного адаптера</p><p>Меняем динамический адрес на статический (<a href="#ID.10.image.10.31">рис. 10.31</a>).</p><p align="left"><a name="ID.10.image.10.31"></a><div><img src="i/10/10_31.png" alt="Меняем динамический адрес на статический" width="331" height="188"></img></div><br></br><b>Рис. 10.31.</b> 
        Меняем динамический адрес на статический</p><p>Теперь аналогично настраиваем PC1 и проверяем связь между ПК (<a href="#ID.10.image.10.32">рис. 10.32</a>).</p><p align="left"><a name="ID.10.image.10.32"></a><div><img src="i/10/10_32.png" alt="Связь между ПК отличная" width="365" height="262"></img></div><br></br><b>Рис. 10.32.</b> 
        Связь между ПК отличная</p><p>Рабочая схема сети, описанной в этом примере, представлена <a target="_blank" href="task-10-5.pkt"><img border="0" src="http://www.intuit.ru/img/icons/www.gif"></img></a> <a target="_blank" href="task-10-5.pkt">файлом task-10-5.pkt</a>.</p><a name="ID.10.section.10"><h4>Практическая работа 10-3-2.  Беспроводная связь в Packet Tracer с беспроводным роутером</h4></a><p>На <a href="#ID.10.image.10.33">рис. 10.33</a> приведена схема сети с беспроводным роутером. </p><p align="left"><a name="ID.10.image.10.33"></a><div><img src="i/10/10_33.png" alt="Схема сети с беспроводным роутером" width="271" height="80"></img></div><br></br><b>Рис. 10.33.</b> 
        Схема сети с беспроводным роутером</p><p>Если мы снабдим оба ПК беспроводным модулем,то в данной сети мы можем наблюдать появление WIFI связи (<a href="#ID.10.image.10.34">рис. 10.34</a>).</p><p align="left"><a name="ID.10.image.10.34"></a><div><img src="i/10/10_34.png" alt="Мы можем наблюдать появление WIFIсвязи" width="261" height="75"></img></div><br></br><b>Рис. 10.34.</b> 
        Мы можем наблюдать появление WIFIсвязи</p><p>Зайдем на роутер и посмотрим на его IP address.  Как видим, включен DHCP service и роутер получает IP адрес автоматически (<a href="#ID.10.image.10.35">рис. 10.35</a>). </p><p align="left"><a name="ID.10.image.10.35"></a><div><img src="i/10/10_35.png" alt="Автоматическое конфигурирование роутера" width="318" height="368"></img></div><br></br><b>Рис. 10.35.</b> 
        Автоматическое конфигурирование роутера</p><p>Теперь на вкладке Config настроим аутентификацию роутера (<a href="#ID.10.image.10.36">рис. 10.36</a>).</p><p align="left"><a name="ID.10.image.10.36"></a><div><img src="i/10/10_36.png" alt="Вводим SSIDи WPA2-PSK" width="405" height="256"></img></div><br></br><b>Рис. 10.36.</b> 
        Вводим SSIDи WPA2-PSK</p><p>Теперь для PC0 заходим в меню PCWireless (<a href="#ID.10.image.10.37">рис. 10.37</a>).</p><p align="left"><a name="ID.10.image.10.37"></a><div><img src="i/10/10_37.png" alt="Заходим в меню PCWireless" width="254" height="282"></img></div><br></br><b>Рис. 10.37.</b> 
        Заходим в меню PCWireless</p><p>Устанавливаем соединение PC0 и роутера (<a href="#ID.10.image.10.38">рис. 10.38</a>).</p><p align="left"><a name="ID.10.image.10.38"></a><div><img src="i/10/10_38.png" alt="На вкладке Connect нажимаем на кнопку Connect" width="421" height="279"></img></div><br></br><b>Рис. 10.38.</b> 
        На вкладке Connect нажимаем на кнопку Connect</p><p>Для аутентификации необходим WPA2-PSK пароль, т.е. 1234567890 (<a href="#ID.10.image.10.39">рис. 10.39</a>). </p><p align="left"><a name="ID.10.image.10.39"></a><div><img src="i/10/10_39.png" alt="Вводим пароль и нажимаем на кнопку Connect" width="408" height="343"></img></div><br></br><b>Рис. 10.39.</b> 
        Вводим пароль и нажимаем на кнопку Connect</p><div class="xml_inset">
<b>Примечание</b>
<p>Протокол безопасности WPA2-PSK - упрощенный вариант WPA2. Технологии защиты беспроводных сетей WPA2 является самой лучшей на сегодняшний день. Но, из соображений совместимости на маршрутизаторах можно встретить ее вариант WPA2-PSK. </p>
</div><p>Итак, мы предъявили наш "пропуск" на вход пользователя в сеть и связь устройств установлена (<a href="#ID.10.image.10.40">рис. 10.40</a>).</p><p align="left"><a name="ID.10.image.10.40"></a><div><img src="i/10/10_40.png" alt="Связь PC0 и роутера настроена" width="276" height="73"></img></div><br></br><b>Рис. 10.40.</b> 
        Связь PC0 и роутера настроена</p><p>Теперь вводим пароль на PC1 (<a href="#ID.10.image.10.41">рис. 10.41</a>).</p><p align="left"><a name="ID.10.image.10.41"></a><div><img src="i/10/10_41.png" alt="Появилась связь роутера и PC1" width="273" height="80"></img></div><br></br><b>Рис. 10.41.</b> 
        Появилась связь роутера и PC1</p><p>Узнаем динамический IP адрес для PC1  <img src="i/10/10_01.png" alt=""></img> и пингуем его с PC0 (<a href="#ID.10.image.10.42">рис. 10.42</a>).</p><p align="left"><a name="ID.10.image.10.42"></a><div><img src="i/10/10_42.png" alt="Связь между PC0 и PC1 есть" width="388" height="218"></img></div><br></br><b>Рис. 10.42.</b> 
        Связь между PC0 и PC1 есть</p><p>Рабочая схема сети, описанной в этом примере, представлена <a target="_blank" href="task-10-5.pkt"><img border="0" src="http://www.intuit.ru/img/icons/www.gif"></img></a> <a target="_blank" href="task-10-5.pkt">файлом task-10-5.pkt</a>.</p><a name="ID.11.lecture"><h2><span class="lection_name">Лекция 11.</span> Программы NetEmul и GNS3</h2></a><div class="annotation"></div><a name="ID.11.section.1"><h3>Программа-конкурент и аналог CPT для изучения компьютерных сетей - NetEmul</h3></a><p>Бесплатная программа NetEmul была создана в учебных целях и служит для визуализации работы компьютерных сетей, для облегчения понимания, происходящих в ней процессов. Программа одинаково хорошо работает во всех версиях ОС, начиная с Windows XP и Windows 7. Программа не привязана к конкретному оборудованию Cisco или D-Link и имеет русификацию интерфейса.</p><a name="ID.11.section.2"><h4>Интерфейс программы</h4></a><p>Для начала установим программу, запустим и русифицируем ее командой <b>Сервис-Настройки</b> (<a href="#ID.11.image.11.1">рис. 11.1</a>).</p><p align="left"><a name="ID.11.image.11.1"></a><div><img src="i/11/11_1.png" alt="Русифицируем интерфейс программы" width="491" height="260"></img></div><br></br><b>Рис. 11.1.</b> 
        Русифицируем интерфейс программы</p><p>В главном окне программы все элементы размещаются на рабочей области (на <b>Сцене</b>). На всей свободной области сцены, размеченной сеткой можно ставить устройства, при этом они не должны пересекаться. На <b>Панели устройств</b> размещены все необходимые для построения сети инструменты, а также кнопка отправки сообщений и <b>Запустить/Остановить</b>. На <b>Панели параметров</b> расположены свойства объектов. Для выделенного объекта появляются только те свойства, которые характерны для него (<a href="#ID.11.image.11.2">рис. 11.2</a>).</p><p align="left"><a name="ID.11.image.11.2"></a><div><img src="i/11/11_2.png" alt="Интерфейс программы NetEmul" width="470" height="620"></img></div><br></br><b>Рис. 11.2.</b> 
        Интерфейс программы NetEmul</p><a name="ID.11.section.3"><h4>Практическая работа 11-1.  Строим сеть из двух ПК и коммутатора</h4></a><p>Для начального знакомства с программой давайте построим простейшую локальную сеть и посмотрим, как она работает. Для этого выполните команду Файл-Новый и нарисуйте схему сети как на <a href="#ID.11.image.11.3">рис. 11.3</a>.</p><p align="left"><a name="ID.11.image.11.3"></a><div><img src="i/11/11_3.png" alt="Схема из двух ПК и концентратора" width="287" height="344"></img></div><br></br><b>Рис. 11.3.</b> 
        Схема из двух ПК и концентратора</p><p>После рисования двух ПК и концентратора создадим их соединение (<a href="#ID.11.image.11.4">рис. 11.4</a>).</p><p align="left"><a name="ID.11.image.11.4"></a><div><img src="i/11/11_4.png" alt="Инструмент создания соединений сетевых устройств" width="155" height="82"></img></div><br></br><b>Рис. 11.4.</b> 
        Инструмент создания соединений сетевых устройств</p><p>В процессе рисования связей между устройствами вам потребуется выбрать соединяемые интерфейсы и нажать на кнопку Соединить (<a href="#ID.11.image.11.5">рис. 11.5</a> и <a href="#ID.11.image.11.6">рис. 11.6</a>).</p><p align="left"><a name="ID.11.image.11.5"></a><div><img src="i/11/11_5.png" alt="Выбор начальных настроек соединения" width="359" height="193"></img></div><br></br><b>Рис. 11.5.</b> 
        Выбор начальных настроек соединения</p><p align="left"><a name="ID.11.image.11.6"></a><div><img src="i/11/11_6.png" alt="Соединение устройств произведено" width="199" height="198"></img></div><br></br><b>Рис. 11.6.</b> 
        Соединение устройств произведено</p><p>Теперь настроим интерфейс (сетевую карту) на наших ПК ее – <a href="#ID.11.image.11.7">рис. 11.7</a> и <a href="#ID.11.image.11.8">рис. 11.8</a>. Чтобы появилось подобное меню следует щелкнуть правой кнопкой мыши по ПК.</p><p align="left"><a name="ID.11.image.11.7"></a><div><img src="i/11/11_7.png" alt="Добавляем интерфейс" width="353" height="202"></img></div><br></br><b>Рис. 11.7.</b> 
        Добавляем интерфейс</p><p>В меню выбираем строчку <b>Интерфейсы</b> и задаем IP адрес и маску ПК. Обратите внимание: после того, как вы напишете <b>192.168.0.1</b> маска появляется автоматически. После нажатия на кнопки <b>Применить</b> и <b>ОК</b> – появляется анимация движущихся по сети пакетов информации. Для второго ПК адрес будет <b>192.168.0.2</b>.</p><p align="left"><a name="ID.11.image.11.8"></a><div><img src="i/11/11_8.png" alt="Вводим IPадрес и маску сети" width="359" height="247"></img></div><br></br><b>Рис. 11.8.</b> 
        Вводим IPадрес и маску сети</p><p>Все - сеть создана и настроена. Отравляем данные по протоколу TCP (<a href="#ID.11.image.11.9">рис. 11.9</a>).</p><p align="left"><a name="ID.11.image.11.9"></a><div><img src="i/11/11_9.png" alt="Кнопка Отправить данные" width="136" height="71"></img></div><br></br><b>Рис. 11.9.</b> 
        Кнопка Отправить данные</p><p>Для этого щелкаем мышью сначала по одному ПК, а затем – по другому ПК. Выбираем протокол и размер пакета (<a href="#ID.11.image.11.10">рис. 11.10</a>).</p><p align="left"><a name="ID.11.image.11.10"></a><div><img src="i/11/11_10.png" alt="Выбор протокола" width="208" height="209"></img></div><br></br><b>Рис. 11.10.</b> 
        Выбор протокола</p><p>Если вы где-то ошиблись, то появиться соответствующее сообщение, а если все верно – то произойдет анимация движущихся по сети пакетов (<a href="#ID.11.image.11.11">рис. 11.11</a>).</p><p align="left"><a name="ID.11.image.11.11"></a><div><img src="i/11/11_11.png" alt="Движение пакетов по сети" width="218" height="208"></img></div><br></br><b>Рис. 11.11.</b> 
        Движение пакетов по сети</p><p>Подписать устройства на схеме можно инструментом Вставить текстовую надпись (<a href="#ID.11.image.11.12">рис. 11.12</a>).</p><p align="left"><a name="ID.11.image.11.12"></a><div><img src="i/11/11_12.png" alt="Инструмент Вставить текстовую надпись" width="193" height="73"></img></div><br></br><b>Рис. 11.12.</b> 
        Инструмент Вставить текстовую надпись</p><div class="xml_inset">
<b>Примечание</b>
<p>По умолчанию каждый ПК имеет одну сетевую карту, но их может быть и несколько. Для того, чтобы добавить для ПК адаптер нужно щелкнуть на нем правой кнопкой мыши и выбрать пункт меню Интерфейсы. В результате откроется следующее диалоговое окно (<a href="#ID.11.image.11.13">рис. 11.13</a>).</p>
</div><p align="left"><a name="ID.11.image.11.13"></a><div><img src="i/11/11_13.png" alt="Диалоговое окно работы с сетевым интерфейсом ПК" width="272" height="211"></img></div><br></br><b>Рис. 11.13.</b> 
        Диалоговое окно работы с сетевым интерфейсом ПК</p><p>Нажимаем на кнопку Добавить, выбираем тип нового адаптера, нажимаем ОK, и у нас есть еще один интерфейс. В качестве примера на <a href="#ID.11.image.11.14">рис. 11.14</a> изображен ПК, имеющий три сетевых карты.</p><p align="left"><a name="ID.11.image.11.14"></a><div><img src="i/11/11_14.png" alt="В этом ПК установлены адаптеры eth0-eth2" width="334" height="303"></img></div><br></br><b>Рис. 11.14.</b> 
        В этом ПК установлены адаптеры eth0-eth2</p><div class="xml_inset">
<b>Примечание</b>
<p>Каждый сетевой интерфейс (адаптер) имеет свой собственный mac-адрес. В программе NetEmul в строке "Mac-адрес" можно задать новый адрес, но по умолчанию, при создании интерфейса, ему автоматически присваивается этот уникальный номер.</p>
</div><p>Данный пример представлен в виде файла – <a target="_blank" href="task-11-1.net"><img border="0" src="http://www.intuit.ru/img/icons/www.gif"></img></a> <a target="_blank" href="task-11-1.net">task-11-1.net</a>.</p><a name="ID.11.section.4"><h4>Практическая работа 11-2.  Собираем сеть из двух ПК и свитча. Изучаем таблицу коммутации</h4></a><p>Постройте схему, показанную на <a href="#ID.11.image.11.15">рис. 11.15</a> и настройте ее работу. Отправьте пакет с одного ПК на другой и просмотрите таблицу коммутации свитча. </p><p align="left"><a name="ID.11.image.11.15"></a><div><img src="i/11/11_15.png" alt="Схема сети по топологии звезда построена" width="398" height="291"></img></div><br></br><b>Рис. 11.15.</b> 
        Схема сети по топологии звезда построена</p><p>На схеме:</p><ul><li>красный индикатор означает, что устройство не подключено;</li><li>желтый - устройство подключено, но не настроено;</li><li>зеленый - знак того, что устройство подключено, настроено и готово к работе.</li></ul><p>Таблица коммутации устройств вызывается щелчком правой кнопки мыши на коммутаторе (<a href="#ID.11.image.11.16">рис. 11.16</a>).</p><p align="left"><a name="ID.11.image.11.16"></a><div><img src="i/11/11_16.png" alt="Комбинация клавиш Ctrl+T вызывает Таблицу коммутации" width="347" height="289"></img></div><br></br><b>Рис. 11.16.</b> 
        Комбинация клавиш Ctrl+T вызывает Таблицу коммутации</p><p>Данный пример представлен в виде файла – <a target="_blank" href="task-11-2.net"><img border="0" src="http://www.intuit.ru/img/icons/www.gif"></img></a> <a target="_blank" href="task-11-2.net">task-11-2.net</a>.</p><a name="ID.11.section.5"><h3>Пример 11.2. Изучаем в NetEmul сеть из двух подсетей и маршрутизатора</h3></a><p>Постройте новую сеть (<a href="#ID.11.image.11.17">рис. 11.17</a>). Разобьем нашу сеть на 2 подсети. Допустим, у нас есть пул адресов сети. Разобьем его на 2 части: 192.168.0.1-192.168.0.254 (для подсети слева) и 192.168.1.1-192.168.1.254(для подсети справа) с маской 255.255.255.0.</p><p align="left"><a name="ID.11.image.11.17"></a><div><img src="i/11/11_17.png" alt="Вариант сети из двух подсетей на коммутаторах, соединенных маршрутизатором" width="491" height="253"></img></div><br></br><b>Рис. 11.17.</b> 
        Вариант сети из двух подсетей на коммутаторах, соединенных маршрутизатором</p><div class="xml_inset">
<b>Примечание</b>
<p>Обратите внимание на то, что число портов у коммутатора можно задавать. У нас на рисунке коммутатор четырехпортовый (<a href="#ID.11.image.11.18">рис. 11.18</a>).</p>
</div><p align="left"><a name="ID.11.image.11.18"></a><div><img src="i/11/11_18.png" alt="Выбор числа портов коммутатора" width="292" height="295"></img></div><br></br><b>Рис. 11.18.</b> 
        Выбор числа портов коммутатора</p><a name="ID.11.section.6"><h4>Настройка компьютеров</h4></a><p>Для настройки ip-адреса интерфейса ПК и маски подсети из меню правой кнопки мыши открываем окно Интерфейсы и выставляем ip-адреса в соответствии со схемой сети и маску подсети 255.255.255.0. После нажатия на кнопку "Применить" и "ОК", мы можем наблюдать,как индикатор поменял цвет с желтого на зеленый и от нашего устройства, которому сейчас дали адрес, побежал кадр Arp-протокола. Это нужно для того, чтобы выявить, нет ли в нашей сети повторения адресов.</p><div class="xml_inset">
<b>Новый термин</b>
<p>ARP (Протокол определения адреса) — протокол в компьютерных сетях, предназначенный для определения MAC-адреса по известному IP-адресу. Иными словами, ARP представляет собой сетевой протокол, предназначенный для преобразования IP-адресов в MAC-адреса в сетях TCP/IP, что выполняется путем поиска в ARP-таблице. Ниже приведен пример простейшей ARP-таблицы: </p>
<div class="xml_table_env"><a name=""></a><table border="0" class="xml_table" cellpadding="2" cellspacing="1"><tr><td valign="top" bgcolor="#eaeaea">IP-адрес</td><td valign="top" bgcolor="#eaeaea">Ethernet-адрес</td></tr><tr><td valign="top" bgcolor="#eaeaea">192.168.0.1</td><td valign="top" bgcolor="#eaeaea">08:00:34:00:2F:C3</td></tr><tr><td valign="top" bgcolor="#eaeaea">192.168.0.2</td><td valign="top" bgcolor="#eaeaea">08:00:5A:71:A7:72</td></tr><tr><td valign="top" bgcolor="#eaeaea">192.168.0.3</td><td valign="top" bgcolor="#eaeaea">08:00:10:98:AC:24</td></tr></table></div>
</div><p>В поле "Описание" из меню правой кнопки мыши необходимозадать имя каждому компьютеру. Оно в дальнейшем будет всплывать в подсказке при наведении мыши на устройство, а также при открытии журнала для устройства заголовок будет содержать именно это описание (<a href="#ID.11.image.11.19">рис. 11.19</a>).</p><p align="left"><a name="ID.11.image.11.19"></a><div><img src="i/11/11_19.png" alt="Пример задания описания устройства" width="382" height="168"></img></div><br></br><b>Рис. 11.19.</b> 
        Пример задания описания устройства</p><a name="ID.11.section.7"><h4>Настройка маршрутизатора</h4></a><p>Пока послать сообщения из одной такой подсети в другую мы не можем. Необходимо дать IP адреса каждому интерфейсу маршрутизатора, а на конечных узлах (то есть, на всех ПК) установить шлюзы по умолчанию. В подсети слева настроим 1й порт маршрутизатора LAN1 на адрес 192.168.1.10 (<a href="#ID.11.image.11.20">рис. 11.20</a>).</p><p align="left"><a name="ID.11.image.11.20"></a><div><img src="i/11/11_20.png" alt="Настраиваем порт 1 (LAN1) маршрутизатора" width="377" height="370"></img></div><br></br><b>Рис. 11.20.</b> 
        Настраиваем порт 1 (LAN1) маршрутизатора</p><p>Теперь у всех ПК слева в свойствах должен быть шлюз 192.168.0.10. (<a href="#ID.11.image.11.21">рис. 11.21</a>). Установите флажок Включить маршрутизацию.</p><p align="left"><a name="ID.11.image.11.21"></a><div><img src="i/11/11_21.png" alt="Настройка шлюза по умолчанию для узлов левой подсети" width="432" height="151"></img></div><br></br><b>Рис. 11.21.</b> 
        Настройка шлюза по умолчанию для узлов левой подсети</p><p>Аналогично настраиваем порт 2 (LAN2) – <a href="#ID.11.image.11.22">рис. 11.22</a>.</p><p align="left"><a name="ID.11.image.11.22"></a><div><img src="i/11/11_22.png" alt="Настраиваем порт 2 (LAN 2) маршрутизатора" width="345" height="338"></img></div><br></br><b>Рис. 11.22.</b> 
        Настраиваем порт 2 (LAN 2) маршрутизатора</p><p>Настраиваем шлюз по умолчанию для узлов правой сети (<a href="#ID.11.image.11.23">рис. 11.23</a>).</p><p align="left"><a name="ID.11.image.11.23"></a><div><img src="i/11/11_23.png" alt="Настройка шлюза по умолчанию для узлов правой подсети" width="492" height="277"></img></div><br></br><b>Рис. 11.23.</b> 
        Настройка шлюза по умолчанию для узлов правой подсети</p><p>Шлюзы мы задали и теперь у нас полностью рабочая сеть. Давайте рассмотрим свойства ее объектов.</p><a name="ID.11.section.8"><h4>Наблюдаем свойства маршрутизатора</h4></a><p>В таблице маршрутизации видим 2 записи, которые соответствуют нашим подсетям (<a href="#ID.11.image.11.24">рис. 11.24</a>).</p><p align="left"><a name="ID.11.image.11.24"></a><div><img src="i/11/11_24.png" alt="Таблица маршрутизации маршрутизатора" width="492" height="277"></img></div><br></br><b>Рис. 11.24.</b> 
        Таблица маршрутизации маршрутизатора</p><a name="ID.11.section.9"><h4>Тестирование сети</h4></a><p>Давайте проверим, насколько правильно функционирует сеть. Для того, чтобы отправить пакеты, выберите на панели инструментов значок <img src="i/11/11_01.png" alt=""></img>.  Мы отправим данные из одной сети в другую. Далее нажимаем на кнопку Отправка и наблюдаем бегущие по сети кадры (<a href="#ID.11.image.11.25">рис. 11.25</a>).</p><p align="left"><a name="ID.11.image.11.25"></a><div><img src="i/11/11_25.png" alt="Показан ПК, получающий данные" width="158" height="184"></img></div><br></br><b>Рис. 11.25.</b> 
        Показан ПК, получающий данные</p><p>У каждого сетевого устройства в контекстном меню есть пункт "Показать журнал". В процессе отправки пакетов можно открыть этот журнал и увидеть информацию о пакете, пришедшем (или отправленном), и его содержимое – <a href="#ID.11.image.11.26">рис. 11.26</a> и <a href="#ID.11.image.11.27">рис. 11.27</a>. </p><p align="left"><a name="ID.11.image.11.26"></a><div><img src="i/11/11_26.png" alt="Часть журнала событий PC4" width="281" height="74"></img></div><br></br><b>Рис. 11.26.</b> 
        Часть журнала событий PC4</p><p align="left"><a name="ID.11.image.11.27"></a><div><img src="i/11/11_27.png" alt="Часть журнала событий на маршрутизаторе" width="284" height="56"></img></div><br></br><b>Рис. 11.27.</b> 
        Часть журнала событий на маршрутизаторе</p><p>Описанная здесь сеть представлена в виде файла – <a target="_blank" href="task-11-3.net"><img border="0" src="http://www.intuit.ru/img/icons/www.gif"></img></a> <a target="_blank" href="task-11-3.net">task-11-3.net</a>.</p><a name="ID.11.section.10"><h3>Что такое GNS3?  Основные настройки программы</h3></a><p>Еще одной альтернативой Cisco Packet Tracer является бесплатная программа <b>GNS3</b> –Графический Симулятор Сети. GNS3 позволяет моделировать работу реальных сетей, что крайне важно для обучения сетевого персонала. Фактически вы получаете имитацию  полноценной компьютерной сети с дорогостоящим оборудованием – на вашем домашнем ПК. С установкой эмулятора GNS3 справиться даже школьник – все шаги по установке программы на ПК можно принять по-умолчанию (<a href="#ID.11.image.11.28">рис. 11.28</a>).</p><p align="left"><a name="ID.11.image.11.28"></a><div><img src="i/11/11_28.png" alt="Соглашаемся с установкой всех по-умолчанию" width="491" height="377"></img></div><br></br><b>Рис. 11.28.</b> 
        Соглашаемся с установкой всех по-умолчанию</p><p>После первого запуска программы вам будет предложено выполнить три шага (<a href="#ID.11.image.11.29">рис. 11.29</a>) </p><p align="left"><a name="ID.11.image.11.29"></a><div><img src="i/11/11_29.png" alt="Окно Мастера при первом запуске программы" width="491" height="325"></img></div><br></br><b>Рис. 11.29.</b> 
        Окно Мастера при первом запуске программы</p><p>Здесь предлагается:</p><ul><li>Сконфигурировать рабочие директории ОС</li><li>Проверить работу Динамипса</li><li>Выделить директорию под IOS-ы устройств, добавить распакованные образы, а значение IDLE PC можно будет рассчитать позднее.</li></ul><div class="xml_inset">
<b>Примечание</b>
<p>По поводу Dynamips замечу, что это программное обеспечение организует виртуализацию маршрутизаторов. </p>
</div><p>Как видим, при установке CPT проблем меньше, поскольку GNS3 - программа для симуляции сложных компьютерных сетей. </p><p>Теперь выполним команду Edit-Preferences и перейдем на вкладку Динамипса – <a href="#ID.11.image.11.30">рис. 11.30</a>. Здесь имеет смысл создать отдельную директорию, в которой и будут храниться – образы, конфигурации и прочее. Я задал путь C:\Users\vova\TEST.</p><p align="left"><a name="ID.11.image.11.30"></a><div><img src="i/11/11_30.png" alt="Окно Preferences" width="491" height="380"></img></div><br></br><b>Рис. 11.30.</b> 
        Окно Preferences</p><p>Теперь нужно скачать из Сети образы ios’a для GNS3 и установить их. Выполняем команду <b>Edit-IOS images and hypervisors</b> – <a href="#ID.11.image.11.31">рис. 11.31</a>. На этом рисунке стрелка указывает кнопку для поиска образа, а кнопка Save сохраняет выбранные вами образы оборудования Cisco в программе.</p><p align="left"><a name="ID.11.image.11.31"></a><div><img src="i/11/11_31.png" alt="Добавляем образы для работы в программе" width="491" height="295"></img></div><br></br><b>Рис. 11.31.</b> 
        Добавляем образы для работы в программе</p><p>Основные настройки выполнены – можно начинать работать (<a href="#ID.11.image.11.32">рис. 11.32</a>).</p><p align="left"><a name="ID.11.image.11.32"></a><div><img src="i/11/11_32.png" alt="Первые шаги в программе GNS3" width="491" height="255"></img></div><br></br><b>Рис. 11.32.</b> 
        Первые шаги в программе GNS3</p><div class="xml_inset">
<b>Совет</b>
<p>При желании командой <b>Edit-Preferences</b> с переходом на вкладку <b>General</b> можно русифицировать программу (<a href="#ID.11.image.11.33">рис. 11.33</a>).</p>
</div><p align="left"><a name="ID.11.image.11.33"></a><div><img src="i/11/11_33.png" alt="Интерфейс программы русифицирован" width="491" height="350"></img></div><br></br><b>Рис. 11.33.</b> 
        Интерфейс программы русифицирован</p><div class="adds"><a name="lectures_adds"><h1>Дополнения</h1></a></div><hr></hr></div><div class="literature"><a name="literature"><h1>Литература</h1></a><ol></ol></div></body></html>
