<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width">
  <title></title>
  <link rel="stylesheet" href="../../index.css" />
  <link rel="stylesheet" href="../../menu.css" />
  <script src="../../gc.js" ></script>
</head>
<body>
    <div class="card-column">
        <div class="example-work">
            <a class="card-link" href="../../gallery/Примеры лабораторных работ.pdf" download="" target="_blank"></a>
            <img src="../../gallery/loon-icon 1.svg">
            <p>Образец работы</p>
        </div>
        <div class="theory-work">
            <a href="../theory/network_theory.html" class="card-link" target="_blank"></a>
            <p>Network Monitor</p>
        </div>
    </div>
    <nav class="nav-bar">
        <h4>Задания</h4>
        <div class="progress_bar" >
            <div class="progress_done" id="progress_done">
            </div>
        </div>
        <form id="tasks">
                <div class="task_line">
                   <input type="checkbox" class="check_box" name = "box1" onclick="update();"> <label class="text_box" for="box1"><a class="a-nav" href="#one">ARP-протокол</a></label>
                 </div>
                 <div class="task_line">
                    <input type="checkbox" class="check_box" name = "box2" onclick="update();"><label class="text_box" for="box2"><a class="a-nav" href="#two">IP и ICMP протокол</a></label>
                 </div>
                </div>
        </form>
    </nav>
    <div class="wrapper">
        <h1>Работа №2</h1>
        <h2>Анализ протоколов канального и сетевого уровня</h2>
        <div class="paragraph">
            <h3>Цель работы</h3>
            <p class="par_txt">Изучение и анализ протоколов канального и сетевого уровня с помощью диагностических утилит операционной системы Windows и программных средств, позволяющих контролировать сетевой трафик на примере программы <strong>Network Monitor</strong>.</p>
        </div>
        <div class="paragraph">
            <h3>Теоретический материал</h3>
            <h4>Модель OSI</h4>
            <p class="par_txt"><strong>Сетевая модель OSI (Open Systems Interconnection model)</strong> отображает иерархию и взаимодействие протоколов устройств в сети. Модель считается эталонной и состоит из семи уровней, представленных в таблице ниже. Движение сверху вниз по таблице называется <strong>инкапсуляцией</strong> - процесс перехода данных в бит, а снизу вверх - <strong>декапсуляцией</strong> - из бит в данные (текст, изображение и тд). Каждому ровню модели соответствует свой <strong>протокол передачи данных</strong> - список правил, который определяет способ и особенности передачи информации.</p>
            <p class="par_txt">Уровни можно разделить на две группы: <strong>Host Layers</strong> (Уровни хоста) и <strong>Media Layers</strong> (Уровни среды). Первая используется на самих устройствах и обеспечивает точную передачу данных между конечными устройствами, вторая - на сетевых устройствах (коммутаторы, роутеры и тп) и управляет физической доставкой. Две эти группы связаны между собой транспортным уровнем сетевой модели.</p>
            <table class="with-border">
                <tr><td colspan="4"><strong>Уровень модели OSI</strong></td><td><strong>Пример протокола</strong></td><td><strong>Блок данных протокола (PDU)</strong></td><td></td></tr>
                <tr><td colspan="2"><strong>7. Прикладной уровень application layer</strong></td><td colspan="2">Графический интерфейс. Реализуется индивидуально на каждом конечном устройстве в зависимости от его характеристик.</td><td>HTTP, FTP, SSH, NFS, Telnet, SMTP</td><td>Данные</td><td rowspan="4">Host layers(Уровни хоста)</td></tr>
                <tr><td colspan="2"><strong>6. Уровень представления presentation layer</strong></td><td colspan="2">Шифрация и дешифрация данных. Представление текста в нужной кодировке, отображение фото или видео в нужном формате. Используется для защиты данных путём шифрации сообщения.</td><td>SSL, TLS, AFP</td><td>Данные</td></tr>
                <tr><td colspan="2"><strong>5. Сеансовый уровень session layer</strong></td><td colspan="2">Поддержание сеанса связи. Отвечает за установление, работу и закрытие соединения.</td><td>RCP, ASP, ISO 8327</td><td>Данные</td></tr>
                <tr><td colspan="2"><strong>4. Транспортный уровень transport layer</strong></td><td colspan="2">Транспортировка. Разделяет большие блоки данных на сегменты, а маленькие соединяет в один, добавляет к нему заголовок и передаёт выше или ниже на уровень уровень модели.</td><td>TCP, UDP, RTP, ADP</td><td>Сегмент</td></tr>
                <tr><td colspan="2"><strong>3. Сетевой уровень network layer</strong></td><td colspan="2">Маршрутизация. Получение MAC-адреса от коммутатора и формирование маршрута пакета с учётом всех особенностей. Происходит преобразование MAC-адреса в IP-адрес.</td><td>IP, ICMP, IGMP, OSPF, RIP, ARP</td><td>Пакет</td><td rowspan="5">Media layers(Уровни среды)</td></tr>
                <tr><td colspan="2" rowspan="3"><strong>2. Канальный уровень data link layer</strong></td><td colspan="2">Адресация. Формируются кадры с адресом назначения и передаются с помощью коммутаторов. Используются только физические MAC-адреса (уникальный аппаратный номер физического устройства).</td><td>Ethernet, Token Ring</td><td>Кадр или фрейм</td></tr>
                <tr><td colspan="4"><strong>Подуровень MAC</strong> (Media Access Control, контроль доступа к среде) - присваивает уникальный MAC-адрес</td></tr>
                <tr><td colspan="4"><strong>Подуровень LLC MAC</strong> (Logical Link Control, контроль логической связи) - проверка, исправление и управление передачей данных.</td></tr>
                <tr><td colspan="2"><strong>1. Физический уровень physical layer</strong></td><td colspan="2">Обмен физическими данными (битами) между физическими устройствами.</td><td>Кабель или беспроводной способ - Wi-Fi, Bluetooth, 4G, GSM</td><td>Бит</td></tr>
            </table>
            <p class="par_txt">Каждый уровень имеет свой <strong>PDU (Protocol Data Unit)</strong> — единица передаваемой информации: на уровне 1 — бит, на уровне 2 — кадр, на уровне 3 — пакет, а на уровне 4 — сегмент. На уровне 5 и выше PDU называется данными. PDU может быть принята только одноранговым уровнем, то есть бит физического уровня не может быть принят сегментом транспортного уровня. После того как PDU прочитан на принимающем устройстве, он передаётся выше по уроню модели OSI, а старая информация уничтожается.</p>
            <h4>Протокол ARP канального уровня</h4>
            <p class="par_txt"><strong>ARP (Address Resolution Protocol )</strong> - протокол канального уровня. Устанавливает соответствие между физическим и логическим адресом. Чаще всего преобразует IP-адрес в MAC и наоборот.</p>
            <p class="par_txt">Широковещательный Ethernet-кадр содержит в себе ARP-запрос, который формирует MAC-адрес получателя (Индивидуальный номер устройства) по IP-хосту - адресу узла в сети. Запрос состоит из IP получателя и IP и MAC отправителя. Если хост обнаружил свой IP, он добавляет к нему свой MAC-адрес и посылает обратно ARP-ответ. В таком случае этот ответ будет занесён в ARP-кэш или ARP-таблицу. В таблице хранятся все известные устройству узлы сети, их MAC и IP адреса. Протокол обеспечивает связь между этими узлами.</p>
            <p class="par_txt">Посмотреть ARP-таблицу можно с помощью утилиты ARP в командной строке.</p>
            <h4>Протоколы сетевого уровня</h4>
            <h4>Протокол IP</h4>
            <ol class="with-dot"><strong>IP (Internet Protocol)</strong> - протокол сетевого уровня в модели TCP/IP. Протокол осуществляет доставку по сети без гарантии доставки, так как каждый пакет передаётся независимо и его целостность не контролируется. К каждому пакету добавляется заголовок, который состоит из:
                <li>Версии (На данный момент используется IPv4);</li>
                <li>Длины заголовка;</li>
                <li>Типа сервиса (тип приоритета, задержка, пропускная способность, надёжность);</li>
                <li>Суммарной длины;</li>
                <li>Идентификатора пакета;</li>
                <li>Флагов (указывают на допустимость фрагментации и на то, является ли пакет последним);</li>
                <li>Времени жизни пакета;</li>
                <li>Протокола более высокого уровня, который будет использоваться следующим;</li>
                <li>Контрольной суммы заголовка для проверки целостности данных;</li>
                <li>Адреса источника;</li>
                <li>Адреса приёмника;</li>
                <li>Опций.</li>
            </ol>
            <p class="par_txt">Так как большинство каналов передачи ограничивают длину пакета, передаваемые данные фрагментируются. Для того, чтобы собрать их повторно, каждому пакету присваивается индивидуальный номер.Данный протокол требует участия всех узлов подсети в доставке пакета, исходя из этого и вычисляется длина маршрута.</p>
            <h4>Протокол ICMP</h4>
            <p class="par_txt"><strong>Протокол ICMP (Internet Control Message Protocol)</strong> - протокол сетевого уровня в модели TCP/IP, который используется для диагностики проблем со связанностью в сети. Протокол проверяет, будет ли доставлен пакет в установленные временные рамки и собирает отчёт об ошибках. </p>
            <p class="par_txt">Отправитель посылает определённое количество ICMP-запросов и получает такое же количество ICMP-ответов, по которому может сделать вывод о качестве связи. Количество, размер и другие параметры пакета отправитель может настроить самостоятельно.</p>
            <p class="par_txt">ICMP-ответ строится из IP-пакетов и с новым заголовком возвращается отправителю, каждая машина на пути уменьшает его TTL (Time To Live, время жизни) на 1, если TTL = 0, но вместо ответа приходит сообщение о превышении времени жизни этого пакета.</p>
            <p class="par_txt">Посмотреть работу протокола можно с помощью утилиты <a href="#">PING</a> в командной строке. Утилита отправляет эхо-пакеты формата ICMP и в качестве результат; количество ошибок в виде потерянных пакетов. Так же эти пакеты используются утилитой <a href="#">trace</a>, чтобы узнать трассировку маршрута, то есть полный путь пакета.</p>

            <h3>Задание</h3>
            <ol class="with-dot"><strong>Доменные имена удаленных серверов:</strong>
                <li>mypenza.ru</li>
                <li>www.trans-link.ru</li>
                <li>penza.com.ru</li>
                <li>penzartc.ru</li>
                <li>www.zato.ru</li>
            </ol>
            <p class="par_txt">Создать и настроить Capture в программе Network Monitor. Как это сделать, написано в <a href="../theory/network_theory.html">теоретическом материале.</a></p> <p class="par_txt">Ознакомится с работой ARP, IP и ICMP протоколов.</p>
        </div>
        <div class="paragraph">
            <a name="one"></a><h4>Изучить работу с ARP-протоколом</h4>
            <ol class="with-dot"><strong>Для этого:</strong>
                <li>С помощью утилиты ARP в командной строке посмотреть ARP-кэш;</li>
                <li>Запустить окно захвата в сетевом мониторе;</li>
                <li>Пропинговать (с помощью утилиты ping) один из представленных адресов, которого нет в ARP-кэше;</li>
                <li>Остановить захват Capture;</li>
                <li>Отфильтровать запросы и оставить только ARP-кадры, представить разбор нескольких кадров в отчёте. Для фильтрации необходимо ввести «arp» в поле «Display Filter» и нажать на кнопку «Applay».</li>
            </ol>
            <a name="two"></a><h4>Изучить работу с IP и ICMP-протоколами</h4>
            <ol class="with-dot"><strong>Для этого:</strong>
                <li>Запустить окно захвата в сетевом мониторе;</li>
                <li>Открыть браузер и зайти на любой сайт, совершить несколько переходов и закрыть браузер;</li>
                <li>Остановить захват Capture;</li>
                <li>Отфильтровать запросы и оставить только IP-кадры, представить разор нескольких кадров в отчёте. Для фильтрации необходимо ввести «ip» в поле «Display Filter» и нажать на кнопку «Applay»;</li>
                <li>Повторно запустить окно захвата в сетевом мониторе;</li>
                <li>Открыть командную строку и пропинговать удалённый сервер с помощью утилиты traceroute (Для чистоты кадров лучше пинговать ближний сервер, на пути к которому будет не более 3 маршрутизаторов);</li>
                <li>Остановить захват Capture;</li>
                <li>Отфильтровать запросы и оставить только ICMP-кадры, представить разор нескольких кадров в отчёте. Для фильтрации необходимо ввести «icmp» в поле «Display Filter» и нажать на кнопку «Applay»;</li>
            </ol>
        </div>
    </div>
</body>
</html>