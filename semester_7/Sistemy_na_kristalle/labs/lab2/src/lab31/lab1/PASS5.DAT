    ADDRESS-000
      LABEL-
  FORMATTED-
  LOGFORMAT-
INSTRUCTION-
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-; Регистры:
    ADDRESS-000
      LABEL-
  FORMATTED-
  LOGFORMAT-
INSTRUCTION-
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-; s0 = сумма
    ADDRESS-000
      LABEL-
  FORMATTED-
  LOGFORMAT-
INSTRUCTION-
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-; s1 = текущие значения тумблеров (SW)
    ADDRESS-000
      LABEL-
  FORMATTED-
  LOGFORMAT-
INSTRUCTION-
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-; s2 = текущее состояние кнопок
    ADDRESS-000
      LABEL-
  FORMATTED-
  LOGFORMAT-
INSTRUCTION-
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-; s3 = предыдущее состояние кнопок
    ADDRESS-000
      LABEL-start
  FORMATTED-
  LOGFORMAT-
INSTRUCTION-
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-
    ADDRESS-000
      LABEL-
  FORMATTED-
  LOGFORMAT-
INSTRUCTION-
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-; Инициализация
    ADDRESS-000
      LABEL-
  FORMATTED-LOAD s0, 00
  LOGFORMAT-LOAD s0, 00
INSTRUCTION-LOAD
   OPERAND1-s0
  OP1 VALUE-s0
   OPERAND2-00
  OP2 VALUE-00
    COMMENT-; обнуляем сумму
    ADDRESS-001
      LABEL-
  FORMATTED-LOAD s3, 00
  LOGFORMAT-LOAD s3, 00
INSTRUCTION-LOAD
   OPERAND1-s3
  OP1 VALUE-s3
   OPERAND2-00
  OP2 VALUE-00
    COMMENT-; обнуляем предыдущие состояния кнопок
    ADDRESS-002
      LABEL-main_loop
  FORMATTED-
  LOGFORMAT-
INSTRUCTION-
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-
    ADDRESS-002
      LABEL-
  FORMATTED-
  LOGFORMAT-
INSTRUCTION-
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-; Чтение входных данных
    ADDRESS-002
      LABEL-
  FORMATTED-INPUT s1, 01
  LOGFORMAT-INPUT s1, 01
INSTRUCTION-INPUT
   OPERAND1-s1
  OP1 VALUE-s1
   OPERAND2-01
  OP2 VALUE-01
    COMMENT-; s1 <- SW (порт 1)
    ADDRESS-003
      LABEL-
  FORMATTED-INPUT s2, 02
  LOGFORMAT-INPUT s2, 02
INSTRUCTION-INPUT
   OPERAND1-s2
  OP1 VALUE-s2
   OPERAND2-02
  OP2 VALUE-02
    COMMENT-; s2 <- BTN (порт 2)
    ADDRESS-004
      LABEL-
  FORMATTED-
  LOGFORMAT-
INSTRUCTION-
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-; Проверка BTN3 (сложение при отпускании)
    ADDRESS-004
      LABEL-
  FORMATTED-CALL check_btn3
  LOGFORMAT-CALL check_btn3[009]
INSTRUCTION-CALL
   OPERAND1-check_btn3
  OP1 VALUE-009
   OPERAND2-
  OP2 VALUE-
    COMMENT-
    ADDRESS-005
      LABEL-
  FORMATTED-
  LOGFORMAT-
INSTRUCTION-
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-; Проверка BTN1 (сброс при отпускании)
    ADDRESS-005
      LABEL-
  FORMATTED-CALL check_btn1
  LOGFORMAT-CALL check_btn1[00F]
INSTRUCTION-CALL
   OPERAND1-check_btn1
  OP1 VALUE-00F
   OPERAND2-
  OP2 VALUE-
    COMMENT-
    ADDRESS-006
      LABEL-
  FORMATTED-
  LOGFORMAT-
INSTRUCTION-
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-; Вывод текущей суммы
    ADDRESS-006
      LABEL-
  FORMATTED-OUTPUT s0, 00
  LOGFORMAT-OUTPUT s0, 00
INSTRUCTION-OUTPUT
   OPERAND1-s0
  OP1 VALUE-s0
   OPERAND2-00
  OP2 VALUE-00
    COMMENT-; вывод суммы на порт 0 (LED)
    ADDRESS-007
      LABEL-
  FORMATTED-
  LOGFORMAT-
INSTRUCTION-
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-; Сохраняем текущее состояние кнопок
    ADDRESS-007
      LABEL-
  FORMATTED-LOAD s3, s2
  LOGFORMAT-LOAD s3, s2
INSTRUCTION-LOAD
   OPERAND1-s3
  OP1 VALUE-s3
   OPERAND2-s2
  OP2 VALUE-s2
    COMMENT-
    ADDRESS-008
      LABEL-
  FORMATTED-JUMP main_loop
  LOGFORMAT-JUMP main_loop[002]
INSTRUCTION-JUMP
   OPERAND1-main_loop
  OP1 VALUE-002
   OPERAND2-
  OP2 VALUE-
    COMMENT-
    ADDRESS-009
      LABEL-
  FORMATTED-
  LOGFORMAT-
INSTRUCTION-
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-; Подпрограмма проверки BTN3 (сложение)
    ADDRESS-009
      LABEL-check_btn3
  FORMATTED-
  LOGFORMAT-
INSTRUCTION-
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-
    ADDRESS-009
      LABEL-
  FORMATTED-TEST s3, 08
  LOGFORMAT-TEST s3, 08
INSTRUCTION-TEST
   OPERAND1-s3
  OP1 VALUE-s3
   OPERAND2-08
  OP2 VALUE-08
    COMMENT-; проверяем бит 3 (BTN3) в предыдущем состоянии
    ADDRESS-00A
      LABEL-
  FORMATTED-JUMP Z, btn3_done
  LOGFORMAT-JUMP Z, btn3_done[00E]
INSTRUCTION-JUMP
   OPERAND1-Z
  OP1 VALUE-Z
   OPERAND2-btn3_done
  OP2 VALUE-00E
    COMMENT-
    ADDRESS-00B
      LABEL-
  FORMATTED-TEST s2, 08
  LOGFORMAT-TEST s2, 08
INSTRUCTION-TEST
   OPERAND1-s2
  OP1 VALUE-s2
   OPERAND2-08
  OP2 VALUE-08
    COMMENT-; проверяем бит 3 (BTN3) в текущем состоянии
    ADDRESS-00C
      LABEL-
  FORMATTED-JUMP NZ, btn3_done
  LOGFORMAT-JUMP NZ, btn3_done[00E]
INSTRUCTION-JUMP
   OPERAND1-NZ
  OP1 VALUE-NZ
   OPERAND2-btn3_done
  OP2 VALUE-00E
    COMMENT-
    ADDRESS-00D
      LABEL-
  FORMATTED-ADD s0, s1
  LOGFORMAT-ADD s0, s1
INSTRUCTION-ADD
   OPERAND1-s0
  OP1 VALUE-s0
   OPERAND2-s1
  OP2 VALUE-s1
    COMMENT-; добавляем значение SW к сумме
    ADDRESS-00E
      LABEL-btn3_done
  FORMATTED-
  LOGFORMAT-
INSTRUCTION-
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-
    ADDRESS-00E
      LABEL-
  FORMATTED-RETURN
  LOGFORMAT-RETURN
INSTRUCTION-RETURN
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-
    ADDRESS-00F
      LABEL-
  FORMATTED-
  LOGFORMAT-
INSTRUCTION-
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-; Подпрограмма проверки BTN1 (сброс)
    ADDRESS-00F
      LABEL-check_btn1
  FORMATTED-
  LOGFORMAT-
INSTRUCTION-
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-
    ADDRESS-00F
      LABEL-
  FORMATTED-TEST s3, 02
  LOGFORMAT-TEST s3, 02
INSTRUCTION-TEST
   OPERAND1-s3
  OP1 VALUE-s3
   OPERAND2-02
  OP2 VALUE-02
    COMMENT-; проверяем бит 1 (BTN1) в предыдущем состоянии
    ADDRESS-010
      LABEL-
  FORMATTED-JUMP Z, btn1_done
  LOGFORMAT-JUMP Z, btn1_done[014]
INSTRUCTION-JUMP
   OPERAND1-Z
  OP1 VALUE-Z
   OPERAND2-btn1_done
  OP2 VALUE-014
    COMMENT-
    ADDRESS-011
      LABEL-
  FORMATTED-TEST s2, 02
  LOGFORMAT-TEST s2, 02
INSTRUCTION-TEST
   OPERAND1-s2
  OP1 VALUE-s2
   OPERAND2-02
  OP2 VALUE-02
    COMMENT-; проверяем бит 1 (BTN1) в текущем состоянии
    ADDRESS-012
      LABEL-
  FORMATTED-JUMP NZ, btn1_done
  LOGFORMAT-JUMP NZ, btn1_done[014]
INSTRUCTION-JUMP
   OPERAND1-NZ
  OP1 VALUE-NZ
   OPERAND2-btn1_done
  OP2 VALUE-014
    COMMENT-
    ADDRESS-013
      LABEL-
  FORMATTED-LOAD s0, 00
  LOGFORMAT-LOAD s0, 00
INSTRUCTION-LOAD
   OPERAND1-s0
  OP1 VALUE-s0
   OPERAND2-00
  OP2 VALUE-00
    COMMENT-; обнуляем сумму
    ADDRESS-014
      LABEL-btn1_done
  FORMATTED-
  LOGFORMAT-
INSTRUCTION-
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-
    ADDRESS-014
      LABEL-
  FORMATTED-RETURN
  LOGFORMAT-RETURN
INSTRUCTION-RETURN
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-
