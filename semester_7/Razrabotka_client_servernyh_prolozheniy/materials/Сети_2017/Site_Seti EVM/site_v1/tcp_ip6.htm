<html>

<head>
<meta HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=windows-1251">
<meta NAME="GENERATOR" CONTENT="Microsoft FrontPage 3.0">
<meta NAME="Version" CONTENT="8.0.3612">
<meta NAME="Date" CONTENT="3/4/97">
<meta NAME="Template" CONTENT="C:\Program Files\Microsoft Office\Office\HTML.DOT">
<title>TCP/IP</title>
</head>

<body BGCOLOR="#FFFFFF" background="yellzig.gif">
<font FACE="Courier New" SIZE="2">

<p align="center"></font><font FACE="Courier New" size="5" color="#0000FF"><strong>Список
разделов</strong></font><font FACE="Courier New" SIZE="2"></p>

<p><img src="sgreenl.gif" width="750" height="9" alt="sgreenl.gif (1155 bytes)"></p>

<p>1 Сети ЭВМ.</p>

<p>1.1 Internet (TCP/IP сети).</p>

<p>1.1.1 Общие принципы построения, адресация.</p>

<p>1.1.2 Доменная система имен (DNS).</p>

<p>1.1.3 Работа в Internet.</p>

<p>1.1.4 Вирус Морриса, классический пример сетевого
вируса.</p>

<p>1.1.5 Сканирование портов.</p>

<p>1.2 X.25 (Сети пакетной коммутации).</p>

<p>1.2.1 Общие принципы построения.</p>

<p>1.2.2 Терминология.</p>

<p>1.2.3 Работа с X.25.</p>

<p>1.2.4 Работа с ПАД.</p>

<p>1.2.5 Обзор сети SprintNet.</p>

<p>1.2.6 Обзор сети ROSNET.</p>

<p>1.2.7 Что такое сканирование X.25 ?</p>

<p>1.3 On-Line Services</p>

<p>1.3.1 Общие принципы работы On-Line услуг.</p>

<p>1.3.2 Альтернативные методы оплаты за On-Line услуги.</p>

<p>2 Операционные системы и компьютеры.</p>

<p>2.1 Классификация методов взлома компьютеров.</p>

<p>2.1.1 Как определить операционную систему ?</p>

<p>2.1.2 Стандартные пароли в операционных системах.</p>

<p>2.1.3 Общие аспекты Sniff'инга.</p>

<p>2.1.4 Троянские кони и логические бомбы.</p>

<p>2.2 UNIX, основная операционная система в Internet.</p>

<p>2.2.1 Пароли в UNIX.</p>

<p>3 Библиография.</p>

<p align="center"></font><font FACE="Courier New" size="5"><font color="#0000FF"><strong>Часть
1. Сети ЭВМ.</strong></font></p>

<p align="center"><img src="sgreenl.gif" width="750" height="9"
alt="sgreenl.gif (1155 bytes)"></p>

<p></font><font FACE="Courier New" SIZE="2">1.1 Internet (TCP/IP сети).</p>

<p>1.1.1 Общие принципы построения, адресация.</p>

<p>Internet - крупнейшая компьютерная сеть в мире,
объединяющая множество компьютеров, соединенных
самыми разнообразными способами от телефонных
линий до систем спутниковой связи. В Internet
используется комплект протоколов TCP/IP, который
включает в себя: </p>

<p>IP(Internet Protocol) - межсетевой протокол, который
обеспечивает транспортировку без
дополнительной обработки данных с одной машины
на другую;</p>

<p>UDP(User Datagram Protocol) - протокол пользовательских
датаграмм, обеспечивающий транспортировку
отдельных сообщений с помощью IP без проверки
ошибок;</p>

<p>TCP(Transmissin Control Protocol) - протокол управления
передачей, обеспечивающий транспортировку с
помощью IP с проверкой установления соединения;</p>

<p>Каждый компьютер подключаемый к Internet получает
свой уникальный IP-адрес. Internet-адрес имеет в длину
четыре байта и состоит из двух частей: сетевой и
машинной. Первая часть означает логическую сеть,
к которой относится адрес; на основании этой
информации принимаются решения о маршрутизации (
routing ). Вторая часть идентифицирует конкретную
машину в сети. По соглашению, IP-адреса
записываются как десятичные числа (по одному на
каждый байт), разделенные точками, например
194.85.31.20 Каждый IP-адрес принадлежит сети
определенного класса. Класс сети определяется
значением байта адреса:</p>

<table border="1" width="448">
  <tr>
    <td width="114">Класс A </td>
    <td width="144">0&nbsp; </td>
    <td width="279" align="center">номер сети</td>
    <td width="311" align="center">номер узла </td>
  </tr>
  <tr>
    <td width="114">Класс B </td>
    <td width="226">10 </td>
    <td width="254" align="center">номер сети </td>
    <td width="254" align="center">номер узла</td>
  </tr>
  <tr>
    <td width="114">Класс C </td>
    <td width="226">110 </td>
    <td width="254" align="center">номер сети </td>
    <td width="254" align="center">номер узла</td>
  </tr>
  <tr>
    <td width="114">Класс D </td>
    <td width="226">1110 </td>
    <td width="508" colspan="2" align="center">групповой адрес</td>
  </tr>
  <tr>
    <td width="114">Класс E </td>
    <td width="226">11110 </td>
    <td width="508" colspan="2" align="center">зарезервировано</td>
  </tr>
</table>

<p>&nbsp;</p>

<table border="1" width="100%">
  <tr>
    <td> Класс </td>
    <td> Диапазон значений </td>
    <td> Возможное </td>
    <td> Возможное </td>
  </tr>
  <tr>
    <td> сети </td>
    <td> первого байта </td>
    <td> кол-во сетей </td>
    <td> кол-во узлов </td>
  </tr>
  <tr>
    <td> A </td>
    <td> 1 - 126 </td>
    <td> 126 </td>
    <td> 16777214 </td>
  </tr>
  <tr>
    <td> B </td>
    <td> 128-191 </td>
    <td> 16382 </td>
    <td> 65534 </td>
  </tr>
  <tr>
    <td> C </td>
    <td> 192-223 </td>
    <td> 2097150 </td>
    <td> 254 </td>
  </tr>
  <tr>
    <td> D </td>
    <td> 224-239 </td>
    <td> - </td>
    <td> 2**28 </td>
  </tr>
  <tr>
    <td> E </td>
    <td> 240-247 </td>
    <td> - </td>
    <td> 2**27 </td>
  </tr>
</table>

<p>Каждый пакет, проходящий по сети содержит адрес
получателя, и идет согласно определенным
правилам маршрутизации. Маршрутизация - это
процесс направления пакета по лабиринту сетей,
находящихся между источником и адресатом.</p>

<p>1.1.2 Доменная система имен (DNS).</p>

<p>DNS(Domain Name System) - это распределенная база данных,
которая содержит информацию о компьютерах,
включенных в сеть Internet. Характер данных зависит
от конкретной машины, но чаще всего информация
включает имя машины, IP-адрес и данные для
маршрутизации почты. Для удобства,большинство
компьютеров имеют имена. Доменная система имен
выполняет несколько задач, но основная ее работа
- преобразование имён компьютеров а IP-адреса и
наоборот. Пространство имен DNS имеет вид дерева
доменов, с полномочиями, возрастающими по мере
приближения к корню дерева. Корень дерева имеет
имя &quot;.&quot;; под ним находятся домены верхнего
уровня (корневые домены). По историческим
причинам существует два вида доменов верхнего
уровня. В США домены верхнего уровня отражают
организационную структуру, и как правило имеют
трехбуквенные имена: </p>

<table border="1" width="100%">
  <tr>
    <td>.gov </td>
    <td> государственные учереждения,</td>
  </tr>
  <tr>
    <td>.mil </td>
    <td> военные учереждения,</td>
  </tr>
  <tr>
    <td>.com </td>
    <td> коммерческие организации,</td>
  </tr>
  <tr>
    <td>.net </td>
    <td> поставщики сетевых услуг,</td>
  </tr>
  <tr>
    <td>.org </td>
    <td> безприбыльные организации,</td>
  </tr>
  <tr>
    <td>.edu </td>
    <td> учебные заведения;</td>
  </tr>
</table>

<p>Для доменов вне США, в соответствии с
териториальным расположением используются
двухбуквенные коды страм ISO. Например: </p>

<p>www.spm.ru - в России</p>

<p>www.berlin.de - а Германии</p>

<p>www.hotsex.nl - в Нидерландах и т.д.</p>

<p><font color="#008000">1.1.3 Работа в Internet.</font></p>

<p>Вы можете работать в Internet с помощью специальных
программ. Вот некоторые из них: </p>

<p>ping - позволяет определить время прохождения
пакета до хоста.</p>

<p>traceroute - показывает путь прохождения пакетов по
сети. (в Win95 и NT - tracert.exe)</p>

<p>nslookup - позволяет просматривать содержимое DNS
серверов.</p>

<p>telnet - устанавливает соединение с удаленной
машиной (21 порт) и позволяет вам работать в режиме
удаленного терминала.</p>

<p>ftp - позволяет передавать файлы между машинами
по протоколу</p>

<p>FTP (File Transfer Protocol) (23 порт).</p>

<p>finger - показывает информацию о пользователях
находящихся в данный момент на какой-либо машине.</p>

<p>Для работы с WWW (World Wide Web) используются программы
Netscape Navigator, Internet Explorer, и некоторые другие. Эти
программы устанавливают соединение с сервером (80
порт) и работают по протоколу HTTP.</p>

<p>Замечание: для работы с ftp, telnet, finger и www
необходимо чтобы на машине, с которой вы
устанавливаете соединение были запущены
соответствующие программы-сервера.</p>

<p>1.1.4 Вирус Морриса, классический пример сетевого
вируса.</p>

<p>2 ноября 1988 года Роберт Моррис младший, аспирант
факультета информатики Корнельского
Университета с помощью написанного им вируса
инфицировал большое количество компьютеров,
подключенных к сети Internet. Вирус Морриса поражал
только компьютеры типа SUN 3 и VAX, которые
использовали варианты ОС UNIX версии 4 BSD. Для
своего распространения вирус использовал
некоторые дефекты стандартной операционной
системы UNIX, установленной на многих системах. Он
также использовал механизм, предназначенный для
доступа к удаленным компьютерам в локальных
сетях. Вирус состоял из двух частей: главной
программы и программы, обеспечивающей его
распространение. Главная программа после
запуска на очередной машине собирала информацию
относительно других машин в сети, с которыми она
имеет связь. Она выполняла эту работу с помощью
анализа конфигурационных файлов и путем запуска
системной утилиты, которая дает информацию о
текущем состоянии соединений в сети. Затем
производилась пересылка программы
распространения на найденные машины, затем она
запускалась и обеспечивала пересылку и
компиляцию остальной части вируса. Затем весь
процесс повторялся. Наиболее заметным эффектом
при распространении вируса, была все же
непрерывно возраставшая загрузка пораженных
вирусом машин. По истечении некоторого времени
некоторые машины оказались настолько
загруженными распространением копий вируса, что
не были способны выполнять никакой полезной
работы; некоторые машины исчерпывали память для
своппинга или таблицу текущих процессов и их
приходилось перегружать.</p>

<p>1.1.5 Сканирование портов. </p>

<p>- Маленькое отступление.</p>

<p>- Читателям, не знакомым с принципами работы TCP/IP
я</p>

<p>- рекомендую пропустить эту главу, или
ознакомиться с ними</p>

<p>- прочитав TCP/IP Programming Guide, или что-то подобное</p>

<p>-----------------------------------------------------------</p>

<p>Иногда у вас может возникнуть потребность
узнать какие сервисы предоставляет определенный
хост. Для этого существует ряд различных
программ сканирования портов. Простейший
вариант - это программы типа SATAN (Security Analysis Tool for
Auditing Networks), которые устанавливают соединение с
каждым TCP-портом, открывая полное TCP-соединение.
Преимущества этого метода заключаются в том, что
пользователю, занимающемуся сканированием, не
нужно самому составлять ip-пакет, который будет
использован для сканирования, потому что он
использует стандартные системные вызовы, и ему
не нужен доступ администратора ( обычно нужен,
чтобы использовать SOCK_RAW или открывать /dev/bpf, /dev/nit
и т.д.). Недостатком этого метода заключается в
том, что его легче обнаружить, причем несколькими
способами, в частности TCP Wrapper'ами by Wietse Venema.Для
устранения этого недостатка были придуманы
методы сканирования без установления полного
TCP-соединения, т.н. 'полуоткрытое сканирование'.
Процесс установки TCP-соединения состоит из трех
фаз: сторона, устанавливающая соединение,
сначала посылает TCP-пакет с установленным флагом
SYN, после чего принимающая сторона посылает
TCP-пакет с установленными флагами SYN и ACK в случае,
если порт открыт, или сбрасывает соединение с
флагом RST если порт не активен. Третья фаза
происходит когда сторона,устанавливающая
соединение,посылает финальный TCP-пакет с
установленным флагом ACK ( само собой все эти
пакеты имеют соответствующие sequence- и ack-номера, и
т.д. ). Теперь соединение установлено. </p>

<p>Сканирования с SYN-флагом.</p>

<p>SYN-сканер посылает только первый пакет из трех и
ждет SYN|ACK или RST. Когда он получит либо то, либо
другое, он будет знать, активен этот порт или нет.
Основное преимущество этого метода заключается
в том,что он не обнаруживается программами типа
&quot;SATAN&quot; или TCP Wrappers by Wietse Venema. Основные
недостатки этого метода: Этот метод
обнаруживается некоторыми программами,которые
проверяют попытки коннекта с SYN-флагом ( например
tcplog ), а также он обнаруживается netstat(1)'ом.
Сторона,устанавливающая соединение, обычно
должна составлять весь IP-пакет. Для этого
необходимо иметь доступ к SOCK_RAW ( в большинстве
операционок: getprotbyname('raw') ) или /dev/bpf (Berkeley Packet Filter),
/dev/nit (Sun 'Network Interface Tap') и т.д. Для этого необходимо,
как правило, иметь уровень администратора. </p>

<p>Stealth-сканирование.</p>

<p>Этот метод основан на некорректном сетевом
коде в BSD. Учитывая то,что в большинстве
операционных систем используется BSD'шный сетевой
код или производный от него,этот способ работает
на большинстве систем ( наиболее очевидное
исключение - маршрутиризаторы Cisco ). Этот метод
трудно обнаружить. Даже зная сам метод,
разработка обнаруживающего алгоритма весьма
проблематична без устранения самой ошибки.
Недостатки этого способа: Этот метод основан на
ошибках в сетевом коде. Это значит, что возможно,
а точнее скорее всего, эти ошибки будут
исправлены. Например в OpenBSD это уже исправлено.
Нельзя поручиться, что этот способ будет
нормально работать в конкретной обстановке.
Результаты могут быть разными в зависимости от
платформы и операционной системы, т.е. э тот
способ не вполне надежен. Используются TCP пакеты
с установленными ACK и FIN флагами.Их надо
использовать,потому что,если такой пакет послать
в порт при неоткрытом соединении,всегда
возвратится пакет с флагом RST. Существуют
несколько методов, использующих этот принцип: </p>

<p>метод #1:</p>

<p>Послать FIN-пакет. Если принимающий хост
возвращает RST, значит порт неактивен,если RST не
возвращается, значит порт активен. Учитывая тот
факт, что этот метод работает на таком количестве
хостов, это - грустное свидетельство тому, какой
некорректный сетевой код в большинстве
операционных систем.</p>

<p>метод #2</p>

<p>Послать ACK-пакет. Если TTL возвращаемых пакетов
меньше, чем в остальных полученных RST-пакетах, или
если размер окна больше нуля, то скорее всего
порт активен. Пример программы для разных видов
сканирования TCP портов вы можете найти в
приложении 4(???).</p>

<p>&nbsp;</p>

<p align="center"></font><font FACE="Courier New" size="3"><font color="#008000"><strong>1.2
X.25 (Сети пакетной коммутации)</strong></font></p>

<p></font><font FACE="Courier New" SIZE="2">1.2.1 Общие принципы
построения.</p>

<p>Основу X.25 сетей составляют Центры Коммутации
Пакетов (ЦКП), расположенные во многих городах и
обеспечивающие доступ к сети. Обычно абонент
получает доступ к сети, соединяясь с ближайшим
ЦКП, т.е. можно получить доступ к сети из любого
места, где есть телефонная связь, без привязки к
конкретному ЦКП. Абоненты сети подключаются к
ней для того, чтобы передавать информацию или
принимать ее от других абонентов или хост-машин.
Для этого в сети устанавливается временная
логическая связь между этими абонентами,
называемая виртуальным соединением. После
установления виртуального соединения между
абонентами может происходить обмен данными
одновременно в двух направлениях (дуплекс),
причем задержка передачи пакетов данных не
превышает долей или нескольких секунд в
зависимости от загруженности сети.</p>

<p>1.2.2 Терминология.</p>

<p>NUA (Network Users Address /Сетевой Адрес Пользователя/ ) -
число, задающее сетевой адрес пользователя.
Подробнее о формате см. п. 2.1.3. NUI (Network User Identificator
/Идентификатор Сетевого Пользователя/) - код
доступа и пароль. Обычно предоставляется
поставщиком сетевых ресурсов и используется для
определения оплаты за услуги. DNIC (Data Network Identification
Code /Код идентификации сети/) - представляет из
себя 4 цифры, которые в полном сетевом адресе
задают код сети данных. Подробнее в п. 2.1.3 и в
приложении 1. PAD (Packet Assemble Disassembler /
Сборщик/разборшик пакетов /) - это устройство
позволяющее с помощю обычного терминала
работать с сетями коммутации пакетов, т.к
терминалы передают не блоки данных, а символы.</p>

<p>1.1.3 Работа с X.25</p>

<p>Для работы с X.25 требуется терминальная
программа (например Telemate или Telix). Позвонив
модемом на ближайший узел сети пакетной
коммутации, вы подключаетесь к ПАД, который
получает символы для передачи по сети и
формирует из них пакеты, а также выполняет и
обратную операцию разборки пакетов и передачи
символов на терминал. Как уже говорилось ранее,
сети пакетной коммутации являются транспортом,
позволяющим вам работать со многими системами,
которые к нему подключены. Для этого необходимо
знать адрес системы, с которой вы предполагаете
работать. Кроме того, большинство систем
снабжено средствами идентификации
пользователей, т.е. требуют для работы с ними
имя_пользователя и пароль. Это связано, в первую
очередь с реверсивной оплатой сетевых услуг -
владельцы подключенной к сети системы платят
провайдеру за время соединения пользователей с
ней, а затем могут брать с пользователей плату за
предоставляемые услуги. </p>

<p>1.2.4 Работа с ПАД.</p>

<p>Работа пользователя с ПАД происходит в двух
режимах: в командном и передачи данных. В начале
своей работы с ПАД пользователь находится в
командном режиме. При установлении соединения
пользователь переходит в режим передачи данных.
В режиме передачи данных происходит обмен
информацией с удаленным ресурсом. При
необходимости непосредственного взаимодействия
с ПО ПАД пользователь может перейти в командный
режим, введя символ внимания - как правило, CTRL/P. В
командном режиме пользователь может
использовать следующие команды:</p>

<table border="1" width="100%">
  <tr>
    <td>CON </td>
    <td> установление соединения через сеть Х.25 [*]</td>
  </tr>
  <tr>
    <td>LOC </td>
    <td> установление локального соединения</td>
  </tr>
  <tr>
    <td>CLR </td>
    <td> разрыв соединения [**]</td>
  </tr>
  <tr>
    <td>PAR? </td>
    <td> просмотр текущих значений параметров Х.3 [***]</td>
  </tr>
  <tr>
    <td>SET </td>
    <td> установление новых значений параметров Х.3</td>
  </tr>
  <tr>
    <td>SET? </td>
    <td> установление новых значений параметров Х.3 и
    их просмотр</td>
  </tr>
  <tr>
    <td>PROF </td>
    <td> установление новых значений совокупности
    параметров X.3</td>
  </tr>
  <tr>
    <td>INT </td>
    <td> посылка срочных данных</td>
  </tr>
  <tr>
    <td>RESET </td>
    <td> сброс соединения</td>
  </tr>
  <tr>
    <td>STATUS </td>
    <td> текущий статус соединения</td>
  </tr>
</table>

<p>В ответ на команды пользователя ПАД выдает
диагностические сообщения:</p>

<table border="1" width="100%">
  <tr>
    <td bgcolor="#C0C0C0"> Сообщение ПАД </td>
    <td bgcolor="#C0C0C0">Значение сообщения </td>
  </tr>
  <tr>
    <td> COM </td>
    <td>соединение установлено </td>
  </tr>
  <tr>
    <td> ERR </td>
    <td>синтаксическая ошибка в команде </td>
  </tr>
  <tr>
    <td> RESET </td>
    <td>возможная потеря данных на пакетном уровне</td>
  </tr>
  <tr>
    <td> FREE </td>
    <td>ответ на команду ПАД STATUS,при отсутствии
    соединения </td>
  </tr>
  <tr>
    <td> ENGAGED </td>
    <td>ответ на команду ПАД STATUS,при установленном
    соединении </td>
  </tr>
  <tr>
    <td> CLR CONF </td>
    <td>разъединение выполнено </td>
  </tr>
  <tr>
    <td> CLR </td>
    <td>индикация разъединения по одной из следующих
    причин: </td>
  </tr>
  <tr>
    <td> 0 DTE </td>
    <td>удаленный DTE разорвал соединение </td>
  </tr>
  <tr>
    <td> 1 OCC </td>
    <td>номер занят </td>
  </tr>
  <tr>
    <td> 3 INV </td>
    <td>неправильный запрос средств </td>
  </tr>
  <tr>
    <td> 5 NC </td>
    <td>сеть переполнена </td>
  </tr>
  <tr>
    <td> 9 DER </td>
    <td>канал неисправен </td>
  </tr>
  <tr>
    <td> 11 NS </td>
    <td>доступ запрещен </td>
  </tr>
  <tr>
    <td> 13 NP </td>
    <td>нет доступа </td>
  </tr>
  <tr>
    <td> 17 RPE </td>
    <td>удаленная процедурная ошибка </td>
  </tr>
  <tr>
    <td> 19 ERR </td>
    <td>местная процедурная ошибка </td>
  </tr>
  <tr>
    <td> 21 PAD </td>
    <td>разъединил местный ПАД </td>
  </tr>
  <tr>
    <td> 25 NRC </td>
    <td>нет реверсивной оплаты </td>
  </tr>
  <tr>
    <td> 33 INC </td>
    <td>несовместимый адрес назначения </td>
  </tr>
  <tr>
    <td> 41 NFC </td>
    <td>нет быстрой выборки </td>
  </tr>
  <tr>
    <td> 128 DTE </td>
    <td>канал зарезервирован </td>
  </tr>
  <tr>
    <td> 129 DTE </td>
    <td>удаленный DTE не готов </td>
  </tr>
  <tr>
    <td> 130 DTE </td>
    <td>канал является исходящим</td>
  </tr>
  <tr>
    <td> 131 DTE </td>
    <td>DTE работает по протоколу Х.28</td>
  </tr>
  <tr>
    <td> 132 DTE </td>
    <td>DTE отсоединено</td>
  </tr>
  <tr>
    <td> 133 DTE </td>
    <td>DTE недоступно </td>
  </tr>
  <tr>
    <td> 134 DTE </td>
    <td>канал не существует </td>
  </tr>
  <tr>
    <td> 135 DTE </td>
    <td>канал рестартован </td>
  </tr>
  <tr>
    <td> 136 DTE </td>
    <td>нет связи по Х.25 </td>
  </tr>
  <tr>
    <td> 137 DTE </td>
    <td>адрес удаленного DTE не существует </td>
  </tr>
  <tr>
    <td> 138 DTE </td>
    <td>нет виртуального канала </td>
  </tr>
</table>

<p>[*] - В некоторых случаях команду 'CON' пропускают
или заменяют 'C'.</p>

<p>[**] - В некоторых случаях заменяется командой BYE.</p>

<p>[***] - Значения параметров X.3 приводятся в
приложении 2.</p>

<p>&nbsp;</p>

<p>1.1.5 Обзор сети SprintNet.</p>

<p>Сеть &quot;SprintNet&quot; ( далее Sprint ) - глобальная сеть
коммутации пакетов, одна из крупнейших в мире в
настоящее время. Сеть Sprint является
непосредственным развитием сети Telenet - одной из
первых общедоступных сетей коммутации пакетов.
Владельцами сети являются крупные американские
коммуникационные компании UTI и GTE. Их дочерней
компании US Sprint принадлежит крупнейшая в мире
сеть оптоволоконных каналов, составляющая
основу Sprint. К Sprint подключено около 6000
host-компьютеров и шлюзов (gates) других фирм и
организаций, предоставляющих разнообразные
справочно- информационные услуги и
обеспечивающих выход в другие сети. Примерно 110
сетей во всём мире поддерживают соединения со
Sprint. Подробнее см. http://www.sprintlink.net/</p>

<p>&nbsp;</p>

<p>1.1.6 Обзор сети ROSNET.</p>

<p>Сеть ROSNET - одна из Российских X.25 сетей, имеющая
узлы в большинстве крупных городов. Раньше эта
сеть специализировалась на передаче телексных и
телеграфных сообщений, в настоящее время к ней
подключено небольшое количество систем типа
АДОНИС, Rex400, доступных без NUI и предоставляющих
почтовые и другие услуги пользователям. Телефоны
входов можно посмотреть на <a href="http://www.rosnet.ru/">http://www.rosnet.ru/</a>
</p>

<p>&nbsp;</p>

<p>1.1.7 Сканирование X.25</p>

<p>Время от времени у вас может возникать
потребность узнать какие системы подключены к X.25
сети. Так как провайдеры X.25 не публикуют списки
подключенных к сети систем, их поиск
осуществляется с помощью сканирования сети -
простым последовательным перебором адресов (NUA).
Естественно, делать это вручную
непроизводительно - для этого используются
разнообразные программы или скрипты (
мини-программы, написанные на встроенном языке
терминала, например Telemate). Пример такого скрипта
приведён в приложении 3. </p>

<p>&nbsp;</p>

<p align="center"></font><font FACE="Courier New" size="4"><font color="#008000"><strong>1.3
On-Line Services</strong></font></p>

<p></font><font FACE="Courier New" SIZE="2">1.3.1 Общие принципы работы
On-Line услуг.</p>

<p>В предыдущих частях были описаны общие
принципы построения и работы самых известных
On-Line сетей. Однако следует заметить, что до
последнего времени работа в TCP/IP и X.25 сетях
требовала некоторых профессиональных знаний и
навыков, не всегда доступных для обычных
пользователей компьютеров. Вероятно поэтому
были созданы сервисы, для работы с которыми не
требуется профессиональных знаний.
Пользователь, заплатив некоторую сумму денег,
получает доступ к необходимым ему
информационным ресурсам с помощью некой
программы - оболочки, или просто, в диалоговом
режиме. Доступ к разнообразным On-Line услугам
осуществляется, в том числе и по сетям пакетной
коммутации (X.25). Поскольку сети x.25 широко
распространены и общедоступны, то общение с On-Line
сервисами не представляет никакого труда. В
рекламных целях продавцы этих услуг помещают
программы необходимые для работы в качестве
бонуса к модемам, а также предоставляют
несколько условно-бесплатных часов работы с их
сервисом.</p>

<p>&nbsp;</p>

<p>1.3.2 Альтернативные методы оплаты за On-Line услуги.</p>

<p>Большинство On-Line сервисов предоставляют свои
услуги на основе данных полученных от работающих
с ними пользователей. Так как часто при работе
через X.25 местоположение пользователя не
проверяется, то существует возможность указать
при регистрации некорректные сведения о
пользователе и о его финансовых возможностях. На
этом принципе построены альтернативные методы
оплаты за On-Line услуги...</p>

<p align="center"></font><font FACE="Courier New" size="5"><font color="#0000FF"><strong>Часть
2.</strong></font></p>

<p align="center"></font><font FACE="Courier New" size="4" color="#008000"><strong>Операционные
системы и компьютеры.</strong></font><font FACE="Courier New" SIZE="2"></p>

<p align="center"><img src="sgreenl.gif" width="750" height="9"
alt="sgreenl.gif (1155 bytes)"></p>

<p align="center"></font><font FACE="Courier New" size="3" color="#008000">2.1
Классификация методов взлома компьютеров.</font><font
FACE="Courier New" SIZE="2"></p>

<p>Итак, вы имеете какой-либо доступ к сети, и
хотите расширить свои возможности, путем
проникновения на другие компьютеры или повысив
свои права на машине с которой вы работаете.
Поэтому все методы взлома делятся на две группы -
методы для проникновения на компьютер из сети и
методы повышения своих прав на компьютере.</p>

<p>В первом случае это :</p>

<p>- Уже упоминавшийся подбор пароля. Как сказал
Maxim Bocharov &quot;Шансы - 0% - если не угадали. 100% - если вы
magician or телепат. Кpитеpий - время. Однако некoтopые
американцы ТАКИЕ ТУПЫЕ, что.... везет. 8-)))&quot;.
Следует иметь в виду то, что обычно на
большинстве UNIX login с удаленного терминала
пользователю root запрещен. Поэтому обычно
подбирают пароли обычных пользователей. -
Использование ошибок операционных систем для
получения информации о пользователях на машине
(например login &amp; password). </p>

<p>- Использование сканирования проходящих в сети
пакетов (sniffing), для получения информации о
пользователе(ях).</p>

<p>- Есть в UNIX'е такая программка 'sendmail', если ее
поковырять, то может можно что-нибудь найти ...</p>

<p>- &quot;Троянские кони&quot; - программы содержащие в
себе некий 'довесок' и 'подаренные' на атакуемую
машину.</p>

<p>- Один из новых способов : использование ошибок
в WWW-броузерах, и возможностей новых элементов
WWW-страниц - JAVA, ActiveX. В этих недавно появившихся
средствах создания интерактивных WWW-страниц
используется технология перекачки некого кода
и/или скрипта на машину пользователя и затем их
автоматический запуск. Во втором случае всё
зависит от операционной системы компьютера, на
котором вы хотите добиться повышенных
привилегий. У каждой есть свои дыры, но не ищите
их в данном документе - их описания здесь нет, про
стандартные не имеет смысла рассказывать, разве
что, в качестве классических примеров, и они уже
давно заткнуты, про остальные естественно никто
не расскажет - т.к. их тут же заткнут, так что
ИЩИТЕ. Это могут быть например:</p>

<p>- Некорректно написанные программы (не
проверяющие на корректность вводимые данные,
имеющие недокументированные команды, флаги, etc)</p>

<p>- Неправильные права доступа к системным файлам
и директориям. ( например при инсталляции QNX все
системные директории имеют флаги rwxrwxrwx (:, а автор
программы mqc заботливо оставил SUID'ный коммандный
файл с такими-же атрибутами ) В компьютерном мире
существуют много организаций, занимающихся
нахождением и информированием о ошибках и дырках
в операционных системах, в целях их скорейшего
нахождения и исправления системными
администраторами, но кто мешает хакеру тоже
получать такого рода информацию ? Обычно,
немедленное использование полученной
информации дает результаты.</p>

<p>Далее будут рассмотрены _общие_ аспекты
вышеперечисленных методов взламывания
операционных систем.</p>

<p>&nbsp;</p>

<p>2.1.1 Как определить операционную систему ?</p>

<p>Перед тем, как приступить к нашим
исследованиям, необходимо идентифицировать
&quot;подопытную&quot; операционную систему. Обычно,
тип ОС можно определить по ее приглашению перед
регистрацией в системе. Для некоторых
операционных систем вы можете найти примеры
приглашений в приложении 5. Hекоторые беззаботные
сисадмины, помещают информацию о типе ОС и
процессора в поле HINFO DNS(1.1.2). </p>

<p>&nbsp;</p>

<p>2.1.2 Стандартные пароли в операционных системах.</p>

<p>Как говорилось ранее, в некоторых случаях
возможен подбор пароля, для входа в систему. До
недавнего времени, пользователи выбирали пароли
которые легко запомнить, или даже оставляли те,
которые стоят в системе по умолчанию при
инсталляции. Если у вас не хватает фантазии, вы
можете поэкспериментировать с этим списком: admin,
ann, anon, anonymous/ anonymous, backup, batch, bin, checkfsys, daemon, demo, diag, field,
ftp, games, guest/guest, guest/anonymous, help, install, listen, lp, lpadmin, maint,
makefsys,mountfsys,network, news,nobody, nuucp, nuucpa, operator, powerdown, printer, pub,
public, reboot,rje, rlogin, root, sa, setup, shutdown, startup, sync, sys/sys,
sysadm,sysadmin, sysbin/sysbin, sysbin/bin, sysman, system, tech,test, trouble,tty,
umountfsys, user/user, user1/user1, uucp, uucpa, visitor. Также, очень
часто пользователи используют в качестве
паролей, свое имя, фамилию, имя своего account'a, или
вообще его не ставят. </p>

<p>Hint: Вы уже поменяли свой пароль ? ;-)</p>

<p>&nbsp;</p>

<p>2.1.3 Общие аспекты Sniff'инга.</p>

<p><font color="#FF0080">Что же такое Sniff'инг, и как это
работает.</font></p>

<p>В отличие от телефонной сети, компьютерные сети
используют общие коммуникационные каналы т.к.
достаточно дорого тянуть петлю до каждого узла.
Совместное использование каналов подразумевает,
что узел может получать информацию, которая
предназначается не ему. 'Отлов' этой информации в
сети и называется sniff'ингом. Наиболее простой
способ соединения компьютеров - ethernet. Обмен
данными по протоколу Ethernet подразумевает посылку
пакетов всем абонентам сети. Заголовок пакета
содержит адрес узла-приемника. Предполагается,
что только узел с соответствующим адресом может
принять пакет. Однако, через каждый узел проходят
все пакеты невзирая на их заголовки. Так как в
обычной сети информация о паролях передается по
ethernet в виде текста - нет ничего сложного,
вытягивая и анализируя пакеты, проходящие по
сети, получить информацию о всех компьютерах
сети. </p>

<p>Область применения sniff'инга.</p>

<p>Sniff'инг - один из наиболее популярных видов
атаки, используемых хакерами. Программный Sniff'ер
называемый Esniff.c - очень маленький, разработанный
для работы на SunOS, занимался тем, что вылавливал
первые 300 байтов telnet, ftp и rlogin сессий. Он был
опубликован в Phrack - одном из наиболее широко
доступном подпольном хакерском журнале. Вы его
можете найти на многих FTP сайтах. Например, на
coombs.anu.edu.au:/pub/net/log.</p>

<p>Существует множество ethernet sniff'еров, здесь лишь
некоторые из них:</p>

<p><font color="#FF8000">OS Sniffer</font></p>

<p>4.3/4.4 BSD tcpdump /* Available via anonymous ftp */</p>

<p>FreeBSD tcpdump /* Available via anonymous ftp at gatekeeper.dec.com */</p>

<p>/* /.0/BSD/FreeBSD/FreeBSD-current/src/contrib/tcpdump/ */</p>

<p>NetBSD tcpdump /* Available via anonymous ftp at gatekeeper.dec.com */</p>

<p>/* /.0/BSD/NetBSD/NetBSD-current/src/usr.sbin/ */</p>

<p>DEC Unix tcpdump /* Available via anonymous ftp */</p>

<p>DEC Ultrix tcpdump /* Available via anonymous ftp */</p>

<p>HP/UX nettl (monitor) &amp; netfmt (display)</p>

<p>nfswatch /* Available via anonymous ftp */</p>

<p>Linux tcpdump /* Available via anonymous ftp */</p>

<p>/* at sunsite.unc.edu */</p>

<p>/* /pub/Linux/system/Network/management/ */</p>

<p>SGI Irix nfswatch /* Available via anonymous ftp */</p>

<p>Etherman</p>

<p>tcpdump /* Available via anonymous ftp */</p>

<p>Solaris snoop</p>

<p>tcpdump</p>

<p>SunOS etherfind</p>

<p>nfswatch /* Available via anonymous ftp */</p>

<p>tcpdump /* Available via anonymous ftp */</p>

<p>DOS ETHLOAD /* Available via anonymous ftp */</p>

<p>/* as ethld104.zip */</p>

<p>The Gobbler /* Available via anonymous ftp */</p>

<p>LanPatrol</p>

<p>LanWatch</p>

<p>Netmon</p>

<p>Netwatch</p>

<p>Netzhack /* Available via anonymous ftp */</p>

<p>/* at mistress.informatik.unibw-muenchen.de */</p>

<p>/* /pub/netzhack.mac */</p>

<p>Macintosh Etherpeek</p>

<p>&nbsp;</p>

<p>2.1.4 Троянские кони и логические бомбы.</p>

<p><font color="#FF0000">Троянские кони:</font></p>

<p>Вы помните Троянского Коня? Плохие парни сидели
внутри него, пока не смогли выйти, сделать свое
черное дело и разрушить город. Троянские
программы это что-то похожее. Это программы,
выполняющие нелегальные действия, сидящие до
поры до времени в обыкновенных и даже полезных
программах.</p>

<p><font color="#FF0000">Логические бомбы:</font></p>

<p>Программа содержащая код, переключающийся в
режим атаки при определенных условиях. Например,
логическая бомба может уничтожить все файлы 5
декабря... В отличие от вирусов, логические бомбы
не делают своих копий.</p>

<p>&nbsp;</p>

<p></font><font FACE="Courier New" size="3" color="#008000">2.2 UNIX, основная
операционная система в Internet.</font><font FACE="Courier New"
size="3"></p>

<p></font><font FACE="Courier New" SIZE="2">На больших ЭВМ, UNIX - одна
из самых используемых операционных систем.
Существуют 2 основных типа UNIX: </p>

<p>1. BSD UNIX - от Berkeley Software Distribution</p>

<p>2. System V - от AT&amp;T</p>

<p>Также существует SVR4, которая является смесью
этих двух типов. Клоны UNIX имеют самые различные
названия: Linux, FreeBSD, BSD/OS, Solaris/x86, NetBSD, SCO, UnixWare ( для IBM
PC ), SunOS/Solaris, NetBSD/Sun ( для SUN ), Digital UNIX, Ultrix, OSF/1 (для
DEC'овских машин), а также HP-UX, AIX, Apollo и другие.
Некоторые UNIX'ы свободно распространяются вместе
с исходными текстами: FreeBSD, Linux, NetBSD. Более
подробную информацию о них можно получить на:</p>

<p>FreeBSD: http://www.freebsd.org</p>

<p>Linux: http://www.linux.org</p>

<p>NetBSD: http://www.netbsd.org</p>

<p>&nbsp;</p>

<p>2.2.1 Пароли в UNIX.</p>

<p>В классическом UNIX'е информация о пользователях
хранится в файле /etc/passwd. Этот файл содержит для
каждого пользователя системы, семь полей,
разделенных знаком ':'. Пример записи на одного
пользователя из /etc/passwd: </p>

<p>will:5fg63fhD3d5g:9406:12:Will </p>

<p>Spencer:/home/fsg/will:/bin/bash</p>

<p><font color="#0000FF">Каждая запись содержит :</font></p>

<p>Имя пользователя (login): will</p>

<p>Зашифрованный пароль: 5fg63fhD3d5g</p>

<p>Номер пользователя: 9406</p>

<p>Номер группы: 12</p>

<p>Информация о пользователе: Will Spencer</p>

<p>Домашняя директория: /home/fsg/will</p>

<p>Оболочка (Shell): /bin/bash</p>

<p>&nbsp;</p>

<p align="center"></font><font FACE="Courier New" size="4"><font color="#0000FF"><strong>3
Библиография.</strong></font></p>

<p align="center"><img src="sgreenl.gif" width="750" height="9"
alt="sgreenl.gif (1155 bytes)"></p>

<p></font><font FACE="Courier New" SIZE="2">1. Farmer D., Venema W., Improving the
Security of Your Site by</p>

<p>Breaking Into it, Eindhoven University of Technology.</p>

<p>2. TCP port Stealth Scanning by Uriel Maimon, PHRACK #49, November 08,</p>

<p>1996</p>

<p>3. Smashing The Stack For Fun And Profit by Aleph1, PHRACK #49,</p>

<p>November 08, 1996.</p>

<p>4. The alt.2600/#Hack FAQ by Voyager, A TNO Communications Production</p>

<p>5. Unix Use and Security, From The Ground Up, by The Prophet.</p>

<p>6. Безруков Н.Н., Компьютерная Вирусология. -
Киев: КHИГА, 1989.</p>

<p>7. Сеть РОСПАК. Руководство пользователя.</p>

<p>8. Ю. Блэк. Сети ЭВМ: Протоколы, стандарты,
интерфейсы: Пер. с англ.-</p>

<p>М.: Мир, 1990.</p>

<p>9. Мартин Дж. Вычислительные сети и
распределённая обработка данных.</p>

<p>Пер. с англ. - М.: Финансы и статистика, 1985.</p>

<p>10. Эви Немт, Гарт Снайдер, Скотт Сиббас, Трент Р.
Хейн. UNIX:</p>

<p>руководство системного администратора: Пер. с
англ.-К.: BHV, 1996.</p>
</font>
</body>
</html>
