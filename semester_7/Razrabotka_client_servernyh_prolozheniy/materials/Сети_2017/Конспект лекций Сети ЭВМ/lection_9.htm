<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>Протокол доставки пользовательских дейтаграмм UDP</title>
<meta http-equiv="Content-Type" content="text/html; charset=windows-1251">
</head>

<body>
<H2 align="justify">9. Протокол доставки пользовательских дейтаграмм UDP</H2>
<P align="justify">Задачей протокола транспортного уровня <I>UDP (User Datagram 
  Protocol)</I> является передача данных между прикладными процессами без гарантий 
  доставки, поэтому его пакеты могут быть потеряны, продублированы или прийти 
  не в том порядке, в котором они были отправлены. 
<H3 align="justify"><a name="9_1"></a>9.1. Зарезервированные и доступные порты 
  UDP</H3>
<P align="justify">В то время, как задачей сетевого уровня является передача данных 
  между произвольными узлами сети, задача транспортного уровня заключается в передаче 
  данных между любыми <I>прикладными процессами</I>, выполняющимися на любых узлах 
  сети. Действительно, после того, как пакет средствами протокола IP доставлен 
  в компьютер-получатель, данные необходимо направить конкретному процессу-получателю. 
  Каждый компьютер может выполнять несколько процессов, более того, прикладной 
  процесс тоже может иметь несколько точек входа, выступающих в качестве адреса 
  назначения для пакетов данных. 
<P align="justify">Пакеты, поступающие на транспортный уровень, организуются операционной 
  системой в виде множества очередей к точкам входа различных прикладных процессов. 
  В терминологии TCP/IP такие системные очереди называются <I>портами</I>. Таким 
  образом, адресом назначения, который используется на транспортном уровне, является 
  идентификатор (номер) порта прикладного сервиса. Номер порта, задаваемый транспортным 
  уровнем, в совокупности с номером сети и номером компьютера, задаваемыми сетевым 
  уровнем, однозначно определяют прикладной процесс в сети. 
<P align="justify">Назначение номеров портов прикладным процессам осуществляется 
  либо централизовано, если эти процессы представляют собой популярные общедоступные 
  сервисы, типа сервиса удаленного доступа к файлам TFTP (Trivial FTP) или сервиса 
  удаленного управления telnet, либо локально для тех сервисов, которые еще не 
  стали столь распространенными, чтобы за ними закреплять стандартные (зарезервированные) 
  номера. 
<P align="justify">Централизованное присвоение сервисам номеров портов выполняется 
  организацией <I>Internet Assigned Numbers Authority</I>. Эти номера затем закрепляются 
  и опубликовываются в стандартах Internet. Например, упомянутому выше сервису 
  удаленного доступа к файлам TFTP присвоен стандартный номер порта 69. 
<P align="justify">Локальное присвоение номера порта заключается в том, что разработчик 
  некоторого приложения просто связывает с ним любой доступный, произвольно выбранный 
  числовой идентификатор, обращая внимание на то, чтобы он не входил в число зарезервированных 
  номеров портов. В дальнейшем все удаленные запросы к данному приложению от других 
  приложений должны адресоваться с указанием назначенного ему номера порта. 
<H3 align="justify"><a name="9_2"></a>9.2. Мультиплексирование и демультиплексирование 
  прикладных протоколов с помощью протокола UDP</H3>
<P align="justify">Протокол UDP ведет для каждого порта две очереди: очередь пакетов, 
  поступающих в данный порт из сети, и очередь пакетов, отправляемых данным портом 
  в сеть. 
<P align="justify">Процедура обслуживания протоколом UDP запросов, поступающих 
  от нескольких различных прикладных сервисов, называется <I>мультиплексированием</I>. 
<P align="justify">Распределение протоколом UDP поступающих от сетевого уровня 
  пакетов между набором высокоуровневых сервисов, идентифицированных номерами 
  портов, называется <I>демультиплексированием</I> (рисунок 5.1). 
<P align="center"> <img src="images/img00007.gif" width="302" height="192"> 
<P align=center>Рис. 5.1. 
<P align="justify">Хотя к услугам протокола UDP может обратиться любое приложение, 
  многие из них предпочитают иметь дело с другим, более сложным протоколом транспортного 
  уровня TCP. Дело в том, что протокол UDP выступает простым посредником между 
  сетевым уровнем и прикладными сервисами, и, в отличие от TCP, не берет на себя 
  никаких функций по обеспечению надежности передачи. UDP является дейтаграммным 
  протоколом, то есть он не устанавливает логического соединения, не нумерует 
  и не упорядочивает пакеты данных. 
<P align="justify">С другой стороны, функциональная простота протокола UDP обуславливает 
  простоту его алгоритма, компактность и высокое быстродействие. Поэтому те приложения, 
  в которых реализован собственный, достаточно надежный, механизм обмена сообщениями, 
  основанный на установлении соединения, предпочитают для непосредственной передачи 
  данных по сети использовать менее надежные, но более быстрые средства транспортировки, 
  в качестве которых по отношению к протоколу TCP и выступает протокол UDP. Протокол 
  UDP может быть использован и в том случае, когда хорошее качество каналов связи 
  обеспечивает достаточный уровень надежности и без применения дополнительных 
  приемов типа установления логического соединения и квитирования передаваемых 
  пакетов. 
<H3 align="justify"><a name="9_3"></a>9.3. Формат сообщений UDP</H3>
<P align="justify">Единица данных протокола UDP называется UDP-пакетом или пользовательской 
  дейтаграммой (user datagram). UDP-пакет состоит из заголовка и поля данных, 
  в котором размещается пакет прикладного уровня. Заголовок имеет простой формат 
  и состоит из четырех двухбайтовых полей: 
<div align="justify">
  <UL type=disc>
    <LI>UDP source port - номер порта процесса-отправителя, 
    <LI>UDP destination port - номер порта процесса-получателя, 
    <LI>UDP message length - длина UDP-пакета в байтах, 
    <LI>UDP checksum - контрольная сумма UDP-пакета </LI>
  </UL>
</div>
<P align="justify">Не все поля UDP-пакета обязательно должны быть заполнены. Если 
  посылаемая дейтаграмма не предполагает ответа, то на месте адреса отправителя 
  могут помещаться нули. Можно отказаться и от подсчета контрольной суммы, однако 
  следует учесть, что протокол IP подсчитывает контрольную сумму только для заголовка 
  IP-пакета, игнорируя поле данных. 
<P align="justify"><a href="lection_8.htm">Назад</a> | <a href="index.htm">Содержание</a> 
  | <a href="lection_10.htm">Вперед</a> 
</body>
</html>
